!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=86)}([function(e,t,r){var n;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=r.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,f=o.indexOf,h={},p=h.toString,d=h.hasOwnProperty,g=d.toString,v=g.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,nonce:!0,noModule:!0};function E(e,t,r){var n,i,o=(r=r||a).createElement("script");if(o.text=e,t)for(n in w)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&o.setAttribute(n,i);r.head.appendChild(o).parentNode.removeChild(o)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[p.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,r=C(e);return!m(e)&&!b(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:"3.4.1",constructor:S,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(l&&n&&(S.isPlainObject(n)||(i=Array.isArray(n)))?(r=a[t],o=i&&!Array.isArray(r)?[]:i||S.isPlainObject(r)?r:{},i=!1,a[t]=S.extend(l,o,n)):void 0!==n&&(a[t]=n));return a},S.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==p.call(e))&&(!(t=s(e))||"function"==typeof(r=d.call(t,"constructor")&&t.constructor)&&g.call(r)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){E(e,{nonce:t&&t.nonce})},each:function(e,t){var r,n=0;if(T(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(T(Object(e))?S.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:f.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,a=!r;i<o;i++)!t(e[i],i)!==a&&n.push(e[i]);return n},map:function(e,t,r){var n,i,o=0,a=[];if(T(e))for(n=e.length;o<n;o++)null!=(i=t(e[o],o,r))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&a.push(i);return l.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var A=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,r,n,i,o,a,s,u,l,c,f,h,p,d,g,v,y,m,b,w="sizzle"+1*new Date,E=e.document,C=0,S=0,_=ue(),T=ue(),A=ue(),k=ue(),I=function(e,t){return e===t&&(f=!0),0},x={}.hasOwnProperty,N=[],B=N.pop,L=N.push,O=N.push,R=N.slice,D=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+F+"*("+U+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+F+"*\\]",j=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),K=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),z=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp(F+"|>"),q=new RegExp(j),G=new RegExp("^"+U+"$"),Z={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),re=function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){h()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(N=R.call(E.childNodes),E.childNodes),N[E.childNodes.length].nodeType}catch(e){O={apply:N.length?function(e,t){L.apply(e,R.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,i){var o,s,l,c,f,d,y,m=t&&t.ownerDocument,C=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return n;if(!i&&((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,g)){if(11!==C&&(f=J.exec(e)))if(o=f[1]){if(9===C){if(!(l=t.getElementById(o)))return n;if(l.id===o)return n.push(l),n}else if(m&&(l=m.getElementById(o))&&b(t,l)&&l.id===o)return n.push(l),n}else{if(f[2])return O.apply(n,t.getElementsByTagName(e)),n;if((o=f[3])&&r.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(o)),n}if(r.qsa&&!k[e+" "]&&(!v||!v.test(e))&&(1!==C||"object"!==t.nodeName.toLowerCase())){if(y=e,m=t,1===C&&W.test(e)){for((c=t.getAttribute("id"))?c=c.replace(ne,ie):t.setAttribute("id",c=w),s=(d=a(e)).length;s--;)d[s]="#"+c+" "+be(d[s]);y=d.join(","),m=ee.test(e)&&ye(t.parentNode)||t}try{return O.apply(n,m.querySelectorAll(y)),n}catch(t){k(e,!0)}finally{c===w&&t.removeAttribute("id")}}}return u(e.replace(K,"$1"),t,n,i)}function ue(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function le(e){return e[w]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function he(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return le((function(t){return t=+t,le((function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,r=(e.ownerDocument||e).documentElement;return!Q.test(t||r&&r.nodeName||"HTML")},h=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:E;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,g=!o(p),E!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),r.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ce((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=$.test(p.getElementsByClassName),r.getById=ce((function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r,n,i,o=t.getElementById(e);if(o){if((r=o.getAttributeNode("id"))&&r.value===e)return[o];for(i=t.getElementsByName(e),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===e)return[o]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(r.qsa=$.test(p.querySelectorAll))&&(ce((function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(r.matchesSelector=$.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ce((function(e){r.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",j)})),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=$.test(d.compareDocumentPosition),b=t||$.test(d.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return f=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===E&&b(E,e)?-1:t===p||t.ownerDocument===E&&b(E,t)?1:c?D(c,e)-D(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return f=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?D(c,e)-D(c,t):0;if(i===o)return he(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?he(a[n],s[n]):a[n]===E?-1:s[n]===E?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),r.matchesSelector&&g&&!k[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var n=m.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=n.attrHandle[t.toLowerCase()],o=i&&x.call(n.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:r.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,o=0;if(f=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(I),f){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return c=null,e},i=se.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=se.selectors={cacheLength:50,createPseudo:le,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&q.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(H," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var l,c,f,h,p,d,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,b=!1;if(v){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&m){for(b=(p=(l=(c=(f=(h=v)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===C&&l[1])&&l[2],h=p&&v.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[C,p,b];break}}else if(m&&(b=p=(l=(c=(f=(h=t)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===C&&l[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++b||(m&&((c=(f=h[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]=[C,b]),h!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,r){for(var n,o=i(e,t),a=o.length;a--;)e[n=D(e,o[a])]=!(r[n]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:le((function(e){var t=[],r=[],n=s(e.replace(K,"$1"));return n[w]?le((function(e,t,r,i){for(var o,a=n(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}})),has:le((function(e){return function(t){return se(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,re),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:le((function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,r){return[r<0?r+t:r]})),even:ve((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:ve((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:ve((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:ve((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function me(){}function be(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function we(e,t,r){var n=t.dir,i=t.next,o=i||n,a=r&&"parentNode"===o,s=S++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,i);return!1}:function(t,r,u){var l,c,f,h=[C,s];if(u){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,u))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((l=c[o])&&l[0]===C&&l[1]===s)return h[2]=l[2];if(c[o]=h,h[2]=e(t,r,u))return!0}return!1}}function Ee(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function Ce(e,t,r,n,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),l&&t.push(s)));return a}function Se(e,t,r,n,i,o){return n&&!n[w]&&(n=Se(n)),i&&!i[w]&&(i=Se(i,o)),le((function(o,a,s,u){var l,c,f,h=[],p=[],d=a.length,g=o||function(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:Ce(g,h,e,s,u),y=r?i||(o?e:d||n)?[]:a:v;if(r&&r(v,y,s,u),n)for(l=Ce(y,p),n(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[p[c]]=!(v[p[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?D(o,f):h[c])>-1&&(o[l]=!(a[l]=f))}}else y=Ce(y===a?y.splice(d,y.length):y),i?i(null,a,y,u):O.apply(a,y)}))}function _e(e){for(var t,r,i,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],u=a?1:0,c=we((function(e){return e===t}),s,!0),f=we((function(e){return D(t,e)>-1}),s,!0),h=[function(e,r,n){var i=!a&&(n||r!==l)||((t=r).nodeType?c(e,r,n):f(e,r,n));return t=null,i}];u<o;u++)if(r=n.relative[e[u].type])h=[we(Ee(h),r)];else{if((r=n.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!n.relative[e[i].type];i++);return Se(u>1&&Ee(h),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(K,"$1"),r,u<i&&_e(e.slice(u,i)),i<o&&_e(e=e.slice(i)),i<o&&be(e))}h.push(r)}return Ee(h)}return me.prototype=n.filters=n.pseudos,n.setFilters=new me,a=se.tokenize=function(e,t){var r,i,o,a,s,u,l,c=T[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=n.preFilter;s;){for(a in r&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=z.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(K," ")}),s=s.slice(r.length)),n.filter)!(i=Z[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):T(e,u).slice(0)},s=se.compile=function(e,t){var r,i=[],o=[],s=A[e+" "];if(!s){for(t||(t=a(e)),r=t.length;r--;)(s=_e(t[r]))[w]?i.push(s):o.push(s);(s=A(e,function(e,t){var r=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,d,v,y=0,m="0",b=o&&[],w=[],E=l,S=o||i&&n.find.TAG("*",c),_=C+=null==E?1:Math.random()||.1,T=S.length;for(c&&(l=a===p||a||c);m!==T&&null!=(f=S[m]);m++){if(i&&f){for(d=0,a||f.ownerDocument===p||(h(f),s=!g);v=e[d++];)if(v(f,a||p,s)){u.push(f);break}c&&(C=_)}r&&((f=!v&&f)&&y--,o&&b.push(f))}if(y+=m,r&&m!==y){for(d=0;v=t[d++];)v(b,w,a,s);if(o){if(y>0)for(;m--;)b[m]||w[m]||(w[m]=B.call(u));w=Ce(w)}O.apply(u,w),c&&!o&&w.length>0&&y+t.length>1&&se.uniqueSort(u)}return c&&(C=_,l=E),b};return r?le(o):o}(o,i))).selector=e}return s},u=se.select=function(e,t,r,i){var o,u,l,c,f,h="function"==typeof e&&e,p=!i&&a(e=h.selector||e);if(r=r||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&n.relative[u[1].type]){if(!(t=(n.find.ID(l.matches[0].replace(te,re),t)||[])[0]))return r;h&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=Z.needsContext.test(e)?0:u.length;o--&&(l=u[o],!n.relative[c=l.type]);)if((f=n.find[c])&&(i=f(l.matches[0].replace(te,re),ee.test(u[0].type)&&ye(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&be(u)))return O.apply(r,i),r;break}}return(h||s(e,p))(i,t,!g,r,!t||ee.test(e)&&ye(t.parentNode)||t),r},r.sortStable=w.split("").sort(I).join("")===w,r.detectDuplicates=!!f,h(),r.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||fe(P,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(r);S.find=A,S.expr=A.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=A.uniqueSort,S.text=A.getText,S.isXMLDoc=A.isXML,S.contains=A.contains,S.escapeSelector=A.escape;var k=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(r))break;n.push(e)}return n},I=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},x=S.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,r){return m(t)?S.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?S.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?S.grep(e,(function(e){return f.call(t,e)>-1!==r})):S.filter(t,e,r)}S.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?S.find.matchesSelector(n,e)?[n]:[]:S.find.matches(e,S.grep(t,(function(e){return 1===e.nodeType})))},S.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter((function(){for(t=0;t<n;t++)if(S.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)S.find(e,i[t],r);return n>1?S.uniqueSort(r):r},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&x.test(e)?S(e):e||[],!1).length}});var O,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||O,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),B.test(n[1])&&S.isPlainObject(t))for(n in t)m(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=a.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==r.ready?r.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,O=S(a);var D=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(S.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!x.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&S.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?f.call(S(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,r){return k(e,"parentNode",r)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,r){return k(e,"nextSibling",r)},prevUntil:function(e,t,r){return k(e,"previousSibling",r)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(N(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},(function(e,t){S.fn[e]=function(r,n){var i=S.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=S.filter(n,i)),this.length>1&&(P[e]||S.uniqueSort(i),D.test(e)&&i.reverse()),this.pushStack(i)}}));var U=/[^\x20\t\r\n\f]+/g;function M(e){return e}function j(e){throw e}function H(e,t,r,n){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(r):e&&m(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(U)||[],(function(e,r){t[r]=!0})),t}(e):S.extend({},e);var t,r,n,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},l={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){S.each(r,(function(r,n){m(n)?e.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==C(n)&&t(n)}))}(arguments),r&&!t&&u()),this},remove:function(){return S.each(arguments,(function(e,t){for(var r;(r=S.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--})),this},has:function(e){return e?S.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||t||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return S.Deferred((function(r){S.each(t,(function(t,n){var i=m(e[n[4]])&&e[n[4]];o[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,m(l)?i?l.call(r,a(o,t,M,i),a(o,t,j,i)):(o++,l.call(r,a(o,t,M,i),a(o,t,j,i),a(o,t,M,t.notifyWith))):(n!==M&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(r){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(r,c.stackTrace),e+1>=o&&(n!==j&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),r.setTimeout(c))}}return S.Deferred((function(r){t[0][3].add(a(0,r,m(i)?i:M,r.notifyWith)),t[1][3].add(a(0,r,m(e)?e:M)),t[2][3].add(a(0,r,m(n)?n:j))})).promise()},promise:function(e){return null!=e?S.extend(e,i):i}},o={};return S.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,r=t,n=Array(r),i=u.call(arguments),o=S.Deferred(),a=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?u.call(arguments):r,--t||o.resolveWith(n,i)}};if(t<=1&&(H(e,o.done(a(r)).resolve,o.reject,!t),"pending"===o.state()||m(i[r]&&i[r].then)))return o.then();for(;r--;)H(i[r],a(r),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&K.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){r.setTimeout((function(){throw e}))};var V=S.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),S.ready()}S.fn.ready=function(e){return V.then(e).catch((function(e){S.readyException(e)})),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||V.resolveWith(a,[S]))}}),S.ready.then=V.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(S.ready):(a.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var W=function(e,t,r,n,i,o,a){var s=0,u=e.length,l=null==r;if("object"===C(r))for(s in i=!0,r)W(e,t,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,m(n)||(a=!0),l&&(a?(t.call(e,n),t=null):(l=t,t=function(e,t,r){return l.call(S(e),r)})),t))for(;s<u;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:l?t.call(e):u?t(e[0],r):o},q=/^-ms-/,G=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function Q(e){return e.replace(q,"ms-").replace(G,Z)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=S.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[Q(t)]=r;else for(n in t)i[Q(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in n?[t]:t.match(U)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||S.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var $=new X,J=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function re(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(r)}catch(e){}J.set(e,t,r)}else r=void 0;return r}S.extend({hasData:function(e){return J.hasData(e)||$.hasData(e)},data:function(e,t,r){return J.access(e,t,r)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,r){return $.access(e,t,r)},_removeData:function(e,t){$.remove(e,t)}}),S.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=Q(n.slice(5)),re(o,n,i[n]));$.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){J.set(this,e)})):W(this,(function(t){var r;if(o&&void 0===t)return void 0!==(r=J.get(o,e))?r:void 0!==(r=re(o,e))?r:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),S.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=$.get(e,t),r&&(!n||Array.isArray(r)?n=$.access(e,t,S.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=S.queue(e,t),n=r.length,i=r.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,(function(){S.dequeue(e,t)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return $.get(e,r)||$.access(e,r,{empty:S.Callbacks("once memory").add((function(){$.remove(e,[t+"queue",r])}))})}}),S.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?S.queue(this[0],e):void 0===t?this:this.each((function(){var r=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&S.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){S.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=S.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=$.get(o[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=a.documentElement,se=function(e){return S.contains(e.ownerDocument,e)},ue={composed:!0};ae.getRootNode&&(se=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(ue)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===S.css(e,"display")},ce=function(e,t,r,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=r.apply(e,n||[]),t)e.style[o]=a[o];return i};function fe(e,t,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return S.css(e,t,"")},u=s(),l=r&&r[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&ie.exec(S.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),r=r||[]}return r&&(c=+c||+u||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=c,n.end=i)),i}var he={};function pe(e){var t,r=e.ownerDocument,n=e.nodeName,i=he[n];return i||(t=r.body.appendChild(r.createElement(n)),i=S.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),he[n]=i,i)}function de(e,t){for(var r,n,i=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r=n.style.display,t?("none"===r&&(i[o]=$.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&le(n)&&(i[o]=pe(n))):"none"!==r&&(i[o]="none",$.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}S.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?S(this).show():S(this).hide()}))}});var ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?S.merge([e],r):r}function we(e,t){for(var r=0,n=e.length;r<n;r++)$.set(e[r],"globalEval",!t||$.get(t[r],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var Ee,Ce,Se=/<|&#?\w+;/;function _e(e,t,r,n,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===C(o))S.merge(h,o.nodeType?[o]:o);else if(Se.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ve.exec(o)||["",""])[1].toLowerCase(),u=me[s]||me._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;S.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(n&&S.inArray(o,n)>-1)i&&i.push(o);else if(l=se(o),a=be(f.appendChild(o),"script"),l&&we(a),r)for(c=0;o=a[c++];)ye.test(o.type||"")&&r.push(o);return f}Ee=a.createDocumentFragment().appendChild(a.createElement("div")),(Ce=a.createElement("input")).setAttribute("type","radio"),Ce.setAttribute("checked","checked"),Ce.setAttribute("name","t"),Ee.appendChild(Ce),y.checkClone=Ee.cloneNode(!0).cloneNode(!0).lastChild.checked,Ee.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!Ee.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ke=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function xe(){return!1}function Ne(e,t){return e===function(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function Be(e,t,r,n,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Be(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=xe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each((function(){S.event.add(this,t,i,n,r)}))}function Le(e,t,r){r?($.set(e,t,!1),S.event.add(e,t,{namespace:!1,handler:function(e){var n,i,o=$.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(S.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=u.call(arguments),$.set(this,t,o),n=r(this,t),this[t](),o!==(i=$.get(this,t))||n?$.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&($.set(this,t,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&S.event.add(e,t,Ie)}S.event={global:{},add:function(e,t,r,n,i){var o,a,s,u,l,c,f,h,p,d,g,v=$.get(e);if(v)for(r.handler&&(r=(o=r).handler,i=o.selector),i&&S.find.matchesSelector(ae,i),r.guid||(r.guid=S.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(U)||[""]).length;l--;)p=g=(s=ke.exec(t[l])||[])[1],d=(s[2]||"").split(".").sort(),p&&(f=S.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=S.event.special[p]||{},c=S.extend({type:p,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,n,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),S.event.global[p]=!0)},remove:function(e,t,r,n,i){var o,a,s,u,l,c,f,h,p,d,g,v=$.hasData(e)&&$.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(U)||[""]).length;l--;)if(p=g=(s=ke.exec(t[l])||[])[1],d=(s[2]||"").split(".").sort(),p){for(f=S.event.special[p]||{},h=u[p=(n?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(e,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,v.handle)||S.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)S.event.remove(e,p+t[l],r,n,!0);S.isEmptyObject(u)&&$.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,o,a,s=S.event.fix(e),u=new Array(arguments.length),l=($.get(this,"events")||{})[s.type]||[],c=S.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,n,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},r=0;r<u;r++)void 0===a[i=(n=t[r]).selector+" "]&&(a[i]=n.needsContext?S(i,this).index(l)>-1:S.find(i,this,null,[l]).length),a[i]&&o.push(n);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&N(t,"input")&&Le(t,"click",Ie),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&N(t,"input")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&N(t,"input")&&$.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ie:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ie,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ie,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ie,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ae.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(e,t){S.event.special[e]={setup:function(){return Le(this,e,Ne),!1},trigger:function(){return Le(this,e),!0},delegateType:t}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===n||S.contains(n,i))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}})),S.fn.extend({on:function(e,t,r,n){return Be(this,e,t,r,n)},one:function(e,t,r,n){return Be(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,S(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=xe),this.each((function(){S.event.remove(this,e,r,t)}))}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Re=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var r,n,i,o,a,s,u,l;if(1===t.nodeType){if($.hasData(e)&&(o=$.access(e),a=$.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(r=0,n=l[i].length;r<n;r++)S.event.add(t,i,l[i][r]);J.hasData(e)&&(s=J.access(e),u=S.extend({},s),J.set(t,u))}}function He(e,t){var r=t.nodeName.toLowerCase();"input"===r&&ge.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Ke(e,t,r,n){t=l.apply([],t);var i,o,a,s,u,c,f=0,h=e.length,p=h-1,d=t[0],g=m(d);if(g||h>1&&"string"==typeof d&&!y.checkClone&&De.test(d))return e.each((function(i){var o=e.eq(i);g&&(t[0]=d.call(this,i,o.html())),Ke(o,t,r,n)}));if(h&&(o=(i=_e(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=(a=S.map(be(i,"script"),Ue)).length;f<h;f++)u=i,f!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,be(u,"script"))),r.call(e[f],u,f);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Me),f=0;f<s;f++)u=a[f],ye.test(u.type||"")&&!$.access(u,"globalEval")&&S.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):E(u.textContent.replace(Pe,""),u,c))}return e}function Ve(e,t,r){for(var n,i=t?S.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||S.cleanData(be(n)),n.parentNode&&(r&&se(n)&&we(be(n,"script")),n.parentNode.removeChild(n));return e}S.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,r){var n,i,o,a,s=e.cloneNode(!0),u=se(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=be(s),n=0,i=(o=be(e)).length;n<i;n++)He(o[n],a[n]);if(t)if(r)for(o=o||be(e),a=a||be(s),n=0,i=o.length;n<i;n++)je(o[n],a[n]);else je(e,s);return(a=be(s,"script")).length>0&&we(a,!u&&be(e,"script")),s},cleanData:function(e){for(var t,r,n,i=S.event.special,o=0;void 0!==(r=e[o]);o++)if(Y(r)){if(t=r[$.expando]){if(t.events)for(n in t.events)i[n]?S.event.remove(r,n):S.removeEvent(r,n,t.handle);r[$.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return W(this,(function(e){return void 0===e?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ke(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return Ke(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ke(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ke(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return S.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!me[(ve.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(S.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ke(this,arguments,(function(t){var r=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(be(this)),r&&r.replaceChild(t,this))}),e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){S.fn[e]=function(e){for(var r,n=[],i=S(e),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),S(i[a])[t](r),c.apply(n,r.get());return this.pushStack(n)}}));var ze=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},qe=new RegExp(oe.join("|"),"i");function Ge(e,t,r){var n,i,o,a,s=e.style;return(r=r||We(e))&&(""!==(a=r.getPropertyValue(t)||r[t])||se(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&ze.test(a)&&qe.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",s=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ae.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o}}))}();var Qe=["Webkit","Moz","ms"],Ye=a.createElement("div").style,Xe={};function $e(e){var t=S.cssProps[e]||Xe[e];return t||(e in Ye?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Qe.length;r--;)if((e=Qe[r]+t)in Ye)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,r){var n=ie.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function it(e,t,r,n,i,o){var a="width"===t?1:0,s=0,u=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(u+=S.css(e,r+oe[a],!0,i)),n?("content"===r&&(u-=S.css(e,"padding"+oe[a],!0,i)),"margin"!==r&&(u-=S.css(e,"border"+oe[a]+"Width",!0,i))):(u+=S.css(e,"padding"+oe[a],!0,i),"padding"!==r?u+=S.css(e,"border"+oe[a]+"Width",!0,i):s+=S.css(e,"border"+oe[a]+"Width",!0,i));return!n&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function ot(e,t,r){var n=We(e),i=(!y.boxSizingReliable()||r)&&"border-box"===S.css(e,"boxSizing",!1,n),o=i,a=Ge(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(a)){if(!r)return a;a="auto"}return(!y.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,n),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,r||(i?"border":"content"),o,n,a)+"px"}function at(e,t,r,n,i){return new at.prototype.init(e,t,r,n,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ge(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q(t),u=et.test(t),l=e.style;if(u||(t=$e(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:l[t];"string"===(o=typeof r)&&(i=ie.exec(r))&&i[1]&&(r=fe(e,t,i),o="number"),null!=r&&r==r&&("number"!==o||u||(r+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(u?l.setProperty(t,r):l[t]=r))}},css:function(e,t,r,n){var i,o,a,s=Q(t);return et.test(t)||(t=$e(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=Ge(e,t,n)),"normal"===i&&t in rt&&(i=rt[t]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),S.each(["height","width"],(function(e,t){S.cssHooks[t]={get:function(e,r,n){if(r)return!Je.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,n):ce(e,tt,(function(){return ot(e,t,n)}))},set:function(e,r,n){var i,o=We(e),a=!y.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===S.css(e,"boxSizing",!1,o),u=n?it(e,t,n,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-it(e,t,"border",!1,o)-.5)),u&&(i=ie.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=S.css(e,t)),nt(0,r,u)}}})),S.cssHooks.marginLeft=Ze(y.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ce(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(e,t){S.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+oe[n]+t]=o[n]||o[n-2]||o[0];return i}},"margin"!==e&&(S.cssHooks[e+t].set=nt)})),S.fn.extend({css:function(e,t){return W(this,(function(e,t,r){var n,i,o={},a=0;if(Array.isArray(t)){for(n=We(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,n);return o}return void 0!==r?S.style(e,t,r):S.css(e,t)}),e,t,arguments.length>1)}}),S.Tween=at,at.prototype={constructor:at,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(S.cssNumber[r]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,r=at.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=at.prototype.init,S.fx.step={};var st,ut,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function ft(){ut&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ft):r.setTimeout(ft,S.fx.interval),S.fx.tick())}function ht(){return r.setTimeout((function(){st=void 0})),st=Date.now()}function pt(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=oe[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function dt(e,t,r){for(var n,i=(gt.tweeners[t]||[]).concat(gt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function gt(e,t,r){var n,i,o=0,a=gt.prefilters.length,s=S.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=st||ht(),r=Math.max(0,l.startTime+l.duration-t),n=1-(r/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(n);return s.notifyWith(e,[l,n,r]),n<1&&a?r:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},r),originalProperties:t,originalOptions:r,startTime:st||ht(),duration:r.duration,tweens:[],createTween:function(t,r){var n=S.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var r=0,n=t?l.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)l.tweens[r].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var r,n,i,o,a;for(r in e)if(i=t[n=Q(r)],o=e[r],Array.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),(a=S.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete e[n],o)r in e||(e[r]=o[r],t[r]=i);else t[n]=i}(c,l.opts.specialEasing);o<a;o++)if(n=gt.prefilters[o].call(l,e,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,dt,l),m(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(gt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return fe(r.elem,e,ie.exec(t),r),r}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(U);for(var r,n=0,i=e.length;n<i;n++)r=e[n],gt.tweeners[r]=gt.tweeners[r]||[],gt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,o,a,s,u,l,c,f="width"in t||"height"in t,h=this,p={},d=e.style,g=e.nodeType&&le(e),v=$.get(e,"fxshow");for(n in r.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[n],lt.test(i)){if(delete t[n],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[n])continue;g=!0}p[n]=v&&v[n]||S.style(e,n)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(n in f&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=v&&v.display)&&(l=$.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(de([e],!0),l=e.style.display||l,c=S.css(e,"display"),de([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(h.done((function(){d.display=l})),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always((function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}))),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=$.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&de([e],!0),h.done((function(){for(n in g||de([e]),$.remove(e,"fxshow"),p)S.style(e,n,p[n])}))),u=dt(g?v[n]:0,n,h),n in v||(v[n]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?gt.prefilters.unshift(e):gt.prefilters.push(e)}}),S.speed=function(e,t,r){var n=e&&"object"==typeof e?S.extend({},e):{complete:r||!r&&t||m(e)&&e,duration:e,easing:r&&t||t&&!m(t)&&t};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(e,t,r,n){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=S.isEmptyObject(e),o=S.speed(t,r,n),a=function(){var t=gt(this,S.extend({},e),o);(i||$.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=S.timers,a=$.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&ct.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||S.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=$.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=S.timers,a=n?n.length:0;for(r.finish=!0,S.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),S.each(["toggle","show","hide"],(function(e,t){var r=S.fn[t];S.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(pt(t,!0),e,n,i)}})),S.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){S.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),S.timers=[],S.fx.tick=function(){var e,t=0,r=S.timers;for(st=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||S.fx.stop(),st=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ut||(ut=!0,ft())},S.fx.stop=function(){ut=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var vt,yt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return W(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){S.removeAttr(this,e)}))}}),S.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,r):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?vt:void 0)),void 0!==r?null===r?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=S.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&N(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(U);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),vt={set:function(e,t,r){return!1===t?S.removeAttr(e,r):e.setAttribute(r,r),r}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=yt[t]||S.find.attr;yt[t]=function(e,t,n){var i,o,a=t.toLowerCase();return n||(o=yt[a],yt[a]=i,i=null!=r(e,t,n)?a:null,yt[a]=o),i}}));var mt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function wt(e){return(e.match(U)||[]).join(" ")}function Et(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(U)||[]}S.fn.extend({prop:function(e,t){return W(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[S.propFix[e]||e]}))}}),S.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(e){var t,r,n,i,o,a,s,u=0;if(m(e))return this.each((function(t){S(this).addClass(e.call(this,t,Et(this)))}));if((t=Ct(e)).length)for(;r=this[u++];)if(i=Et(r),n=1===r.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(s=wt(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,i,o,a,s,u=0;if(m(e))return this.each((function(t){S(this).removeClass(e.call(this,t,Et(this)))}));if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;r=this[u++];)if(i=Et(r),n=1===r.nodeType&&" "+wt(i)+" "){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(s=wt(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(r){S(this).toggleClass(e.call(this,r,Et(this),t),t)})):this.each((function(){var t,i,o,a;if(n)for(i=0,o=S(this),a=Ct(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==r||((t=Et(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+wt(Et(r))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;S.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=m(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,S(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,(function(e){return null==e?"":e+""}))),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(St,""):null==r?"":r:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:wt(S.text(e))}},select:{get:function(e){var t,r,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(n=o<0?u:a?o:0;n<u;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!N(r.parentNode,"optgroup"))){if(t=S(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,o=S.makeArray(t),a=i.length;a--;)((n=i[a]).selected=S.inArray(S.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),y.focusin="onfocusin"in r;var _t=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,i){var o,s,u,l,c,f,h,p,g=[n||a],v=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(s=p=u=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!_t.test(v+S.event.triggered)&&(v.indexOf(".")>-1&&(y=v.split("."),v=y.shift(),y.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[S.expando]?e:new S.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),h=S.event.special[v]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!b(n)){for(l=h.delegateType||v,_t.test(l+v)||(s=s.parentNode);s;s=s.parentNode)g.push(s),u=s;u===(n.ownerDocument||a)&&g.push(u.defaultView||u.parentWindow||r)}for(o=0;(s=g[o++])&&!e.isPropagationStopped();)p=s,e.type=o>1?l:h.bindType||v,(f=($.get(s,"events")||{})[e.type]&&$.get(s,"handle"))&&f.apply(s,t),(f=c&&s[c])&&f.apply&&Y(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),t)||!Y(n)||c&&m(n[v])&&!b(n)&&((u=n[c])&&(n[c]=null),S.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,Tt),n[v](),e.isPropagationStopped()&&p.removeEventListener(v,Tt),S.event.triggered=void 0,u&&(n[c]=u)),e.result}},simulate:function(e,t,r){var n=S.extend(new S.Event,r,{type:e,isSimulated:!0});S.event.trigger(n,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each((function(){S.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return S.event.trigger(e,t,r,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=$.access(n,t);i||n.addEventListener(e,r,!0),$.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=$.access(n,t)-1;i?$.access(n,t,i):(n.removeEventListener(e,r,!0),$.remove(n,t))}}}));var At=r.location,kt=Date.now(),It=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var xt=/\[\]$/,Nt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,r,n){var i;if(Array.isArray(t))S.each(t,(function(t,i){r||xt.test(e)?n(e,i):Ot(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==C(t))n(e,t);else for(i in t)Ot(e+"["+i+"]",t[i],r,n)}S.param=function(e,t){var r,n=[],i=function(e,t){var r=m(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,(function(){i(this.name,this.value)}));else for(r in e)Ot(r,e[r],t,i);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Lt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var r=S(this).val();return null==r?null:Array.isArray(r)?S.map(r,(function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}})):{name:t.name,value:r.replace(Nt,"\r\n")}})).get()}});var Rt=/%20/g,Dt=/#.*$/,Pt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Mt=/^\/\//,jt={},Ht={},Kt="*/".concat("*"),Vt=a.createElement("a");function zt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(U)||[];if(m(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Wt(e,t,r,n){var i={},o=e===Ht;function a(s){var u;return i[s]=!0,S.each(e[s]||[],(function(e,s){var l=s(t,r,n);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function qt(e,t){var r,n,i=S.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&S.extend(!0,e,n),e}Vt.href=At.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,S.ajaxSettings),t):qt(S.ajaxSettings,e)},ajaxPrefilter:zt(jt),ajaxTransport:zt(Ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,u,l,c,f,h,p,d=S.ajaxSetup({},t),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?S(g):S.event,y=S.Deferred(),m=S.Callbacks("once memory"),b=d.statusCode||{},w={},E={},C="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ft.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)_.always(e[_.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),T(0,t),this}};if(y.promise(_),d.url=((e||d.url||At.href)+"").replace(Mt,At.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(U)||[""],null==d.crossDomain){l=a.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),Wt(jt,d,t,_),c)return _;for(h in(f=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ut.test(d.type),i=d.url.replace(Dt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Rt,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(It.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Pt,"$1"),p=(It.test(i)?"&":"?")+"_="+kt+++p),d.url=i+p),d.ifModified&&(S.lastModified[i]&&_.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&_.setRequestHeader("If-None-Match",S.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Kt+"; q=0.01":""):d.accepts["*"]),d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(g,_,d)||c))return _.abort();if(C="abort",m.add(d.complete),_.done(d.success),_.fail(d.error),n=Wt(Ht,d,t,_)){if(_.readyState=1,f&&v.trigger("ajaxSend",[_,d]),c)return _;d.async&&d.timeout>0&&(u=r.setTimeout((function(){_.abort("timeout")}),d.timeout));try{c=!1,n.send(w,T)}catch(e){if(c)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,a,s){var l,h,p,w,E,C=t;c||(c=!0,u&&r.clearTimeout(u),n=void 0,o=s||"",_.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(w=function(e,t,r){for(var n,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){u.unshift(i);break}if(u[0]in r)o=u[0];else{for(i in r){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),r[o]}(d,_,a)),w=function(e,t,r,n){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,w,_,l),l?(d.ifModified&&((E=_.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=E),(E=_.getResponseHeader("etag"))&&(S.etag[i]=E)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=w.state,h=w.data,l=!(p=w.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),_.status=e,_.statusText=(t||C)+"",l?y.resolveWith(g,[h,C,_]):y.rejectWith(g,[_,C,p]),_.statusCode(b),b=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[_,d,l?h:p]),m.fireWith(g,[_,C]),f&&(v.trigger("ajaxComplete",[_,d]),--S.active||S.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,r){return S.get(e,t,r,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],(function(e,t){S[t]=function(e,r,n,i){return m(r)&&(i=i||n,n=r,r=void 0),S.ajax(S.extend({url:e,type:t,dataType:i,data:r,success:n},S.isPlainObject(e)&&e))}})),S._evalUrl=function(e,t){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){S(this).wrapInner(e.call(this,t))})):this.each((function(){var t=S(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(r){S(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Zt=S.ajaxSettings.xhr();y.cors=!!Zt&&"withCredentials"in Zt,y.ajax=Zt=!!Zt,S.ajaxTransport((function(e){var t,n;if(y.cors||Zt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),S.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),S.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=S("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){r&&r()}}}));var Qt,Yt=[],Xt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||S.expando+"_"+kt++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||S.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?S(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(i)),a&&m(o)&&o(a[0]),a=o=void 0})),"script"})),y.createHTMLDocument=((Qt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),S.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(y.createHTMLDocument?((n=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(n)):t=a),o=!r&&[],(i=B.exec(e))?[t.createElement(i[1])]:(i=_e([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var n,i,o},S.fn.load=function(e,t,r){var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=wt(e.slice(s)),e=e.slice(0,s)),m(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(n?S("<div>").append(S.parseHTML(e)).find(n):e)})).always(r&&function(e,t){a.each((function(){r.apply(this,o||[e.responseText,t,e])}))}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){S.fn[t]=function(e){return this.on(t,e)}})),S.expr.pseudos.animated=function(e){return S.grep(S.timers,(function(t){return e===t.elem})).length},S.offset={setOffset:function(e,t,r){var n,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(n=c.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,r,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){S.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===S.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(n,"marginTop",!0),left:t.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||ae}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;S.fn[e]=function(n){return W(this,(function(e,n,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i}),e,n,arguments.length)}})),S.each(["top","left"],(function(e,t){S.cssHooks[t]=Ze(y.pixelPosition,(function(e,r){if(r)return r=Ge(e,t),ze.test(r)?S(e).position()[t]+"px":r}))})),S.each({Height:"height",Width:"width"},(function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){S.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return W(this,(function(t,r,i){var o;return b(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?S.css(t,r,s):S.style(t,r,i,s)}),t,a?i:void 0,a)}}))})),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){S.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}})),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),S.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),m(e))return n=u.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=N,S.isFunction=m,S.isWindow=b,S.camelCase=Q,S.type=C,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return S}.apply(t,[]))||(e.exports=n);var $t=r.jQuery,Jt=r.$;return S.noConflict=function(e){return r.$===S&&(r.$=Jt),e&&r.jQuery===S&&(r.jQuery=$t),S},i||(r.jQuery=r.$=S),S}))},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(88),i=r(89),o=r(54);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(e,o+h)!==l(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return V(H(t,e.length-r),e,r,n)}function E(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function C(e,t,r,n){return E(e,t,r,n)}function S(e,t,r,n){return V(K(t),e,r,n)}function _(e,t,r,n){return V(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return C(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=j(e[o]);return i}function B(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function P(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,o){return o||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(7))},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){(function(t,n,i,o,a){var s=r(2),u=r(95),l=e.exports=s.util=s.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function f(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(l.isArrayBuffer(e)||l.isArrayBufferView(e))if(void 0!==o&&e instanceof o)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof f||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return l.nextTick=t.nextTick,void(l.setImmediate="function"==typeof n?n:l.nextTick);if("function"==typeof n)return l.setImmediate=function(){return n.apply(void 0,arguments)},void(l.nextTick=function(e){return n(e)});if(l.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];l.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");r=[];new MutationObserver((function(){var e=r.slice();r.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var s=l.setImmediate;l.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),s(e)):(r.push(e),1===r.length&&a.setAttribute("a",o=!o))}}l.nextTick=l.setImmediate}(),l.isNodejs=void 0!==t&&t.versions&&t.versions.node,l.globalScope=l.isNodejs?i:"undefined"==typeof self?window:self,l.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},l.isArrayBufferView=function(e){return e&&l.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},l.ByteBuffer=f,l.ByteStringBuffer=f;l.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},l.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},l.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},l.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},l.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},l.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},l.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(l.encodeUtf8(e))},l.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},l.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},l.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},l.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},l.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},l.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},l.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},l.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},l.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},l.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},l.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},l.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},l.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},l.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},l.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},l.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},l.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},l.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},l.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},l.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},l.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},l.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},l.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},l.ByteStringBuffer.prototype.copy=function(){var e=l.createBuffer(this.data);return e.read=this.read,e},l.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},l.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},l.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},l.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},l.ByteStringBuffer.prototype.toString=function(){return l.decodeUtf8(this.bytes())},l.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=l.isArrayBuffer(e),n=l.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},l.DataBuffer.prototype.length=function(){return this.write-this.read},l.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},l.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},l.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},l.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},l.DataBuffer.prototype.putBytes=function(e,t){if(l.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(l.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof l.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&l.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof l.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=l.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=l.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=l.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=l.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=l.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},l.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},l.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},l.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},l.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},l.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},l.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},l.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},l.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},l.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},l.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},l.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},l.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},l.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},l.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},l.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},l.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},l.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},l.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},l.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},l.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},l.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},l.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},l.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},l.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},l.DataBuffer.prototype.copy=function(){return new l.DataBuffer(this)},l.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},l.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},l.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},l.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},l.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return l.binary.raw.encode(t);if("hex"===e)return l.binary.hex.encode(t);if("base64"===e)return l.binary.base64.encode(t);if("utf8"===e)return l.text.utf8.decode(t);if("utf16"===e)return l.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},l.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=l.encodeUtf8(e)),new l.ByteBuffer(e)},l.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},l.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o},l.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},l.bytesToHex=function(e){return l.createBuffer(e).toHex()},l.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";l.encode64=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=h.charAt(r>>2),o+=h.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=h.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":h.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},l.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,o="",a=0;a<e.length;)t=p[e.charCodeAt(a++)-43],r=p[e.charCodeAt(a++)-43],n=p[e.charCodeAt(a++)-43],i=p[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},l.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},l.decodeUtf8=function(e){return decodeURIComponent(escape(e))},l.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:u.encode,decode:u.decode}},l.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},l.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},l.binary.hex.encode=l.bytesToHex,l.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},l.binary.base64.encode=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],o+=h.charAt(r>>2),o+=h.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=h.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":h.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},l.binary.base64.decode=function(e,t,r){var n,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,l=r=r||0;u<e.length;)n=p[e.charCodeAt(u++)-43],i=p[e.charCodeAt(u++)-43],o=p[e.charCodeAt(u++)-43],a=p[e.charCodeAt(u++)-43],s[l++]=n<<2|i>>4,64!==o&&(s[l++]=(15&i)<<4|o>>2,64!==a&&(s[l++]=(3&o)<<6|a));return t?l-r:s.subarray(0,l)},l.binary.base58.encode=function(e,t){return l.binary.baseN.encode(e,d,t)},l.binary.base58.decode=function(e,t){return l.binary.baseN.decode(e,d,t)},l.text={utf8:{},utf16:{}},l.text.utf8.encode=function(e,t,r){e=l.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},l.text.utf8.decode=function(e){return l.decodeUtf8(String.fromCharCode.apply(null,e))},l.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n},l.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},l.deflate=function(e,t,r){if(t=l.decode64(e.deflate(l.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},l.inflate=function(e,t,r){var n=e.inflate(l.encode64(t)).rval;return null===n?null:l.decode64(n)};var g=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=l.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},v=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(l.decode64(r))),r},y=function(e,t,r,n){var i=v(e,t);null===i&&(i={}),i[r]=n,g(e,t,i)},m=function(e,t,r){var n=v(e,t);return null!==n&&(n=r in n?n[r]:null),n},b=function(e,t,r){var n=v(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),g(e,t,n)}},w=function(e,t){g(e,t,null)},E=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};l.setItem=function(e,t,r,n,i){E(y,arguments,i)},l.getItem=function(e,t,r,n){return E(m,arguments,n)},l.removeItem=function(e,t,r,n){E(b,arguments,n)},l.clearItems=function(e,t,r){E(w,arguments,r)},l.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var C=null;l.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===C&&(C="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=C):t=r(e),t},l.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:l.getQueryVariables(r)}},l.makeRequest=function(e){var t=l.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},l.makeLink=function(e,t,r){e=a.isArray(e)?e.join("/"):e;var n=a.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},l.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var o=t[n++];if(n==i)e[o]=r;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},l.getPath=function(e,t,r){for(var n=0,i=t.length,o=!0;o&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];(o=a in e)&&(e=e[a])}return o?e:r},l.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},l.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},l.format=function(e){for(var t,r,n=/%./g,i=0,o=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},l.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=l.length>3?l.length%3:0;return u+(c?l.substr(0,c)+s:"")+l.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-l).toFixed(o).slice(2):"")},l.formatSize=function(e){return e=e>=1073741824?l.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?l.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?l.formatNumber(e/1024,0)+" KiB":l.formatNumber(e,0)+" bytes"},l.bytesFromIP=function(e){return-1!==e.indexOf(".")?l.bytesFromIPv4(e):-1!==e.indexOf(":")?l.bytesFromIPv6(e):null},l.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=l.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},l.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=l.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=l.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},l.bytesToIP=function(e){return 4===e.length?l.bytesToIPv4(e):16===e.length?l.bytesToIPv6(e):null},l.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},l.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=l.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=r[r.length-1],s=t.length;a&&s===a.end+1?(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:s,end:s})}t.push(o)}if(r.length>0){var u=r[n];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},l.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in l&&!e.update)return t(null,l.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return l.cores=navigator.hardwareConcurrency,t(null,l.cores);if("undefined"==typeof Worker)return l.cores=1,t(null,l.cores);if("undefined"==typeof Blob)return l.cores=2,t(null,l.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,o){if(0===i){var a=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return l.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,l.cores)}!function(e,t){for(var n=[],i=[],o=0;o<e;++o){var a=new Worker(r);a.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var o=0;o<e;++o)n[o].terminate();t(null,i)}})),n.push(a)}for(o=0;o<e;++o)n[o].postMessage(o)}(o,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(o,r)),e(n,i-1,o)}))}([],5,16)}}).call(this,r(10),r(56).setImmediate,r(7),r(1).Buffer,r(0))},function(e,t,r){"use strict";
/*!
 * deps/forge.js - Forge Package Customization
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n,i,o=r(2);function a(e){e=e||{},this.name="",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}r(21),r(13),r(36),r(37),r(58),r(38),r(22),r(59),r(96),r(98),r(64),r(61),r(43),r(14),r(40),r(60),r(101),r(3),a.prototype.start=function(){},a.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)t.putInt32(this._outBlock[n])},a.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)t.putInt32(this._outBlock[n])},i=a,n=function(){return new o.aes.Algorithm("AES",i)},o.cipher.registerAlgorithm("AES",n),e.exports=o},function(e,t,r){"use strict";(function(t){
/*!
 * util/index.js - Utilities Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n,i=r(4);n={base64url:r(27),utf8:r(105),asBuffer:function(e,r){return t.isBuffer(e)?e:"string"==typeof e?"base64url"===(r=r||"binary")?n.base64url.decode(e):t.from(e,r):(i.util.isArrayBufferView(e)?e=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteOffset+e.byteLength):i.util.isArrayBuffer(e)&&(e=new Uint8Array(e)),t.from(e))},randomBytes:function(e){return t.from(i.random.getBytes(e),"binary")}},e.exports=n}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * index.js - Main Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */"undefined"==typeof Promise&&r(55).polyfill();var n=r(35);e.exports={JWA:r(44),JWE:r(50),JWK:r(19),JWS:n,util:r(5),parse:r(153),canYouSee:n.createVerify}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(e,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",h=1,p=2,d=4,g=1,v=2,y=1,m=2,b=4,w=8,E=16,C=32,S=64,_=128,T=256,A=512,k=30,I="...",x=800,N=16,B=1,L=2,O=1/0,R=9007199254740991,D=17976931348623157e292,P=NaN,F=4294967295,U=F-1,M=F>>>1,j=[["ary",_],["bind",y],["bindKey",m],["curry",w],["curryRight",E],["flip",A],["partial",C],["partialRight",S],["rearg",T]],H="[object Arguments]",K="[object Array]",V="[object AsyncFunction]",z="[object Boolean]",W="[object Date]",q="[object DOMException]",G="[object Error]",Z="[object Function]",Q="[object GeneratorFunction]",Y="[object Map]",X="[object Number]",$="[object Null]",J="[object Object]",ee="[object Proxy]",te="[object RegExp]",re="[object Set]",ne="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ue="[object ArrayBuffer]",le="[object DataView]",ce="[object Float32Array]",fe="[object Float64Array]",he="[object Int8Array]",pe="[object Int16Array]",de="[object Int32Array]",ge="[object Uint8Array]",ve="[object Uint8ClampedArray]",ye="[object Uint16Array]",me="[object Uint32Array]",be=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,_e=RegExp(Ce.source),Te=RegExp(Se.source),Ae=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Le.source),Re=/^\s+|\s+$/g,De=/^\s+/,Pe=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/\\(\\)?/g,Ke=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,$e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Je+"]",rt="["+$e+"]",nt="\\d+",it="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Je+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",ut="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ht="(?:"+ot+"|"+at+")",pt="(?:"+ft+"|"+at+")",dt="(?:"+rt+"|"+st+")"+"?",gt="[\\ufe0e\\ufe0f]?"+dt+("(?:\\u200d(?:"+[ut,lt,ct].join("|")+")[\\ufe0e\\ufe0f]?"+dt+")*"),vt="(?:"+[it,lt,ct].join("|")+")"+gt,yt="(?:"+[ut+rt+"?",rt,lt,ct,et].join("|")+")",mt=RegExp("['â]","g"),bt=RegExp(rt,"g"),wt=RegExp(st+"(?="+st+")|"+yt+gt,"g"),Et=RegExp([ft+"?"+ot+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[tt,ft,"$"].join("|")+")",pt+"+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ft+ht,"$"].join("|")+")",ft+"?"+ht+"+(?:['â](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['â](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,vt].join("|"),"g"),Ct=RegExp("[\\u200d\\ud800-\\udfff"+$e+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tt=-1,At={};At[ce]=At[fe]=At[he]=At[pe]=At[de]=At[ge]=At[ve]=At[ye]=At[me]=!0,At[H]=At[K]=At[ue]=At[z]=At[le]=At[W]=At[G]=At[Z]=At[Y]=At[X]=At[J]=At[te]=At[re]=At[ne]=At[ae]=!1;var kt={};kt[H]=kt[K]=kt[ue]=kt[le]=kt[z]=kt[W]=kt[ce]=kt[fe]=kt[he]=kt[pe]=kt[de]=kt[Y]=kt[X]=kt[J]=kt[te]=kt[re]=kt[ne]=kt[ie]=kt[ge]=kt[ve]=kt[ye]=kt[me]=!0,kt[G]=kt[Z]=kt[ae]=!1;var It={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xt=parseFloat,Nt=parseInt,Bt="object"==typeof e&&e&&e.Object===Object&&e,Lt="object"==typeof self&&self&&self.Object===Object&&self,Ot=Bt||Lt||Function("return this")(),Rt=t&&!t.nodeType&&t,Dt=Rt&&"object"==typeof n&&n&&!n.nodeType&&n,Pt=Dt&&Dt.exports===Rt,Ft=Pt&&Bt.process,Ut=function(){try{var e=Dt&&Dt.require&&Dt.require("util").types;return e||Ft&&Ft.binding&&Ft.binding("util")}catch(e){}}(),Mt=Ut&&Ut.isArrayBuffer,jt=Ut&&Ut.isDate,Ht=Ut&&Ut.isMap,Kt=Ut&&Ut.isRegExp,Vt=Ut&&Ut.isSet,zt=Ut&&Ut.isTypedArray;function Wt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function qt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Gt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Zt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Qt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Yt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function Xt(e,t){return!!(null==e?0:e.length)&&sr(e,t,0)>-1}function $t(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Jt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function er(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tr(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function rr(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function nr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ir=fr("length");function or(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function ar(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function sr(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):ar(e,lr,r)}function ur(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function lr(e){return e!=e}function cr(e,t){var r=null==e?0:e.length;return r?dr(e,t)/r:P}function fr(e){return function(t){return null==t?o:t[e]}}function hr(e){return function(t){return null==e?o:e[t]}}function pr(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function dr(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==o&&(r=r===o?a:r+a)}return r}function gr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function vr(e){return function(t){return e(t)}}function yr(e,t){return Jt(t,(function(t){return e[t]}))}function mr(e,t){return e.has(t)}function br(e,t){for(var r=-1,n=e.length;++r<n&&sr(t,e[r],0)>-1;);return r}function wr(e,t){for(var r=e.length;r--&&sr(t,e[r],0)>-1;);return r}var Er=hr({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),Cr=hr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sr(e){return"\\"+It[e]}function _r(e){return Ct.test(e)}function Tr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Ar(e,t){return function(r){return e(t(r))}}function kr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==f||(e[r]=f,o[i++]=r)}return o}function Ir(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function xr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Nr(e){return _r(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):ir(e)}function Br(e){return _r(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var Lr=hr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Or=function e(t){var r,n=(t=null==t?Ot:Or.defaults(Ot.Object(),t,Or.pick(Ot,_t))).Array,i=t.Date,$e=t.Error,Je=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,it=t.TypeError,ot=n.prototype,at=Je.prototype,st=tt.prototype,ut=t["__core-js_shared__"],lt=at.toString,ct=st.hasOwnProperty,ft=0,ht=(r=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",pt=st.toString,dt=lt.call(tt),gt=Ot._,vt=rt("^"+lt.call(ct).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Pt?t.Buffer:o,wt=t.Symbol,Ct=t.Uint8Array,It=yt?yt.allocUnsafe:o,Bt=Ar(tt.getPrototypeOf,tt),Lt=tt.create,Rt=st.propertyIsEnumerable,Dt=ot.splice,Ft=wt?wt.isConcatSpreadable:o,Ut=wt?wt.iterator:o,ir=wt?wt.toStringTag:o,hr=function(){try{var e=Mo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Rr=t.clearTimeout!==Ot.clearTimeout&&t.clearTimeout,Dr=i&&i.now!==Ot.Date.now&&i.now,Pr=t.setTimeout!==Ot.setTimeout&&t.setTimeout,Fr=et.ceil,Ur=et.floor,Mr=tt.getOwnPropertySymbols,jr=yt?yt.isBuffer:o,Hr=t.isFinite,Kr=ot.join,Vr=Ar(tt.keys,tt),zr=et.max,Wr=et.min,qr=i.now,Gr=t.parseInt,Zr=et.random,Qr=ot.reverse,Yr=Mo(t,"DataView"),Xr=Mo(t,"Map"),$r=Mo(t,"Promise"),Jr=Mo(t,"Set"),en=Mo(t,"WeakMap"),tn=Mo(tt,"create"),rn=en&&new en,nn={},on=fa(Yr),an=fa(Xr),sn=fa($r),un=fa(Jr),ln=fa(en),cn=wt?wt.prototype:o,fn=cn?cn.valueOf:o,hn=cn?cn.toString:o;function pn(e){if(Is(e)&&!ys(e)&&!(e instanceof yn)){if(e instanceof vn)return e;if(ct.call(e,"__wrapped__"))return ha(e)}return new vn(e)}var dn=function(){function e(){}return function(t){if(!ks(t))return{};if(Lt)return Lt(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function gn(){}function vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function mn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function wn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function En(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new wn;++t<r;)this.add(e[t])}function Cn(e){var t=this.__data__=new bn(e);this.size=t.size}function Sn(e,t){var r=ys(e),n=!r&&vs(e),i=!r&&!n&&Es(e),o=!r&&!n&&!i&&Ps(e),a=r||n||i||o,s=a?gr(e.length,nt):[],u=s.length;for(var l in e)!t&&!ct.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||qo(l,u))||s.push(l);return s}function _n(e){var t=e.length;return t?e[Ei(0,t-1)]:o}function Tn(e,t){return ua(ro(e),Rn(t,0,e.length))}function An(e){return ua(ro(e))}function kn(e,t,r){(r===o||ps(e[t],r))&&(r!==o||t in e)||Ln(e,t,r)}function In(e,t,r){var n=e[t];ct.call(e,t)&&ps(n,r)&&(r!==o||t in e)||Ln(e,t,r)}function xn(e,t){for(var r=e.length;r--;)if(ps(e[r][0],t))return r;return-1}function Nn(e,t,r,n){return Mn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function Bn(e,t){return e&&no(t,iu(t),e)}function Ln(e,t,r){"__proto__"==t&&hr?hr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function On(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:Js(e,t[r]);return a}function Rn(e,t,r){return e==e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function Dn(e,t,r,n,i,a){var s,u=t&h,l=t&p,c=t&d;if(r&&(s=i?r(e,n,i,a):r(e)),s!==o)return s;if(!ks(e))return e;var f=ys(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&ct.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return ro(e,s)}else{var g=Ko(e),v=g==Z||g==Q;if(Es(e))return Yi(e,u);if(g==J||g==H||v&&!i){if(s=l||v?{}:zo(e),!u)return l?function(e,t){return no(e,Ho(e),t)}(e,function(e,t){return e&&no(t,ou(t),e)}(s,e)):function(e,t){return no(e,jo(e),t)}(e,Bn(s,e))}else{if(!kt[g])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case ue:return Xi(e);case z:case W:return new n(+e);case le:return function(e,t){var r=t?Xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ce:case fe:case he:case pe:case de:case ge:case ve:case ye:case me:return $i(e,r);case Y:return new n;case X:case ne:return new n(e);case te:return function(e){var t=new e.constructor(e.source,Ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case re:return new n;case ie:return i=e,fn?tt(fn.call(i)):{}}var i}(e,g,u)}}a||(a=new Cn);var y=a.get(e);if(y)return y;a.set(e,s),Os(e)?e.forEach((function(n){s.add(Dn(n,t,r,n,e,a))})):xs(e)&&e.forEach((function(n,i){s.set(i,Dn(n,t,r,i,e,a))}));var m=f?o:(c?l?Lo:Bo:l?ou:iu)(e);return Gt(m||e,(function(n,i){m&&(n=e[i=n]),In(s,i,Dn(n,t,r,i,e,a))})),s}function Pn(e,t,r){var n=r.length;if(null==e)return!n;for(e=tt(e);n--;){var i=r[n],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Fn(e,t,r){if("function"!=typeof e)throw new it(u);return ia((function(){e.apply(o,r)}),t)}function Un(e,t,r,n){var i=-1,o=Xt,s=!0,u=e.length,l=[],c=t.length;if(!u)return l;r&&(t=Jt(t,vr(r))),n?(o=$t,s=!1):t.length>=a&&(o=mr,s=!1,t=new En(t));e:for(;++i<u;){var f=e[i],h=null==r?f:r(f);if(f=n||0!==f?f:0,s&&h==h){for(var p=c;p--;)if(t[p]===h)continue e;l.push(f)}else o(t,h,n)||l.push(f)}return l}pn.templateSettings={escape:Ae,evaluate:ke,interpolate:Ie,variable:"",imports:{_:pn}},pn.prototype=gn.prototype,pn.prototype.constructor=pn,vn.prototype=dn(gn.prototype),vn.prototype.constructor=vn,yn.prototype=dn(gn.prototype),yn.prototype.constructor=yn,mn.prototype.clear=function(){this.__data__=tn?tn(null):{},this.size=0},mn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mn.prototype.get=function(e){var t=this.__data__;if(tn){var r=t[e];return r===l?o:r}return ct.call(t,e)?t[e]:o},mn.prototype.has=function(e){var t=this.__data__;return tn?t[e]!==o:ct.call(t,e)},mn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tn&&t===o?l:t,this},bn.prototype.clear=function(){this.__data__=[],this.size=0},bn.prototype.delete=function(e){var t=this.__data__,r=xn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Dt.call(t,r,1),--this.size,!0)},bn.prototype.get=function(e){var t=this.__data__,r=xn(t,e);return r<0?o:t[r][1]},bn.prototype.has=function(e){return xn(this.__data__,e)>-1},bn.prototype.set=function(e,t){var r=this.__data__,n=xn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},wn.prototype.clear=function(){this.size=0,this.__data__={hash:new mn,map:new(Xr||bn),string:new mn}},wn.prototype.delete=function(e){var t=Fo(this,e).delete(e);return this.size-=t?1:0,t},wn.prototype.get=function(e){return Fo(this,e).get(e)},wn.prototype.has=function(e){return Fo(this,e).has(e)},wn.prototype.set=function(e,t){var r=Fo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},En.prototype.add=En.prototype.push=function(e){return this.__data__.set(e,l),this},En.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.clear=function(){this.__data__=new bn,this.size=0},Cn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Cn.prototype.get=function(e){return this.__data__.get(e)},Cn.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof bn){var n=r.__data__;if(!Xr||n.length<a-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wn(n)}return r.set(e,t),this.size=r.size,this};var Mn=ao(Gn),jn=ao(Zn,!0);function Hn(e,t){var r=!0;return Mn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function Kn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(null!=s&&(u===o?s==s&&!Ds(s):r(s,u)))var u=s,l=a}return l}function Vn(e,t){var r=[];return Mn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function zn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=Wo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?zn(s,t-1,r,n,i):er(i,s):n||(i[i.length]=s)}return i}var Wn=so(),qn=so(!0);function Gn(e,t){return e&&Wn(e,t,iu)}function Zn(e,t){return e&&qn(e,t,iu)}function Qn(e,t){return Yt(t,(function(t){return _s(e[t])}))}function Yn(e,t){for(var r=0,n=(t=qi(t,e)).length;null!=e&&r<n;)e=e[ca(t[r++])];return r&&r==n?e:o}function Xn(e,t,r){var n=t(e);return ys(e)?n:er(n,r(e))}function $n(e){return null==e?e===o?oe:$:ir&&ir in tt(e)?function(e){var t=ct.call(e,ir),r=e[ir];try{e[ir]=o;var n=!0}catch(e){}var i=pt.call(e);n&&(t?e[ir]=r:delete e[ir]);return i}(e):function(e){return pt.call(e)}(e)}function Jn(e,t){return e>t}function ei(e,t){return null!=e&&ct.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ri(e,t,r){for(var i=r?$t:Xt,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var h=e[u];u&&t&&(h=Jt(h,vr(t))),c=Wr(h.length,c),l[u]=!r&&(t||a>=120&&h.length>=120)?new En(u&&h):o}h=e[0];var p=-1,d=l[0];e:for(;++p<a&&f.length<c;){var g=h[p],v=t?t(g):g;if(g=r||0!==g?g:0,!(d?mr(d,v):i(f,v,r))){for(u=s;--u;){var y=l[u];if(!(y?mr(y,v):i(e[u],v,r)))continue e}d&&d.push(v),f.push(g)}}return f}function ni(e,t,r){var n=null==(e=ta(e,t=qi(t,e)))?e:e[ca(Sa(t))];return null==n?o:Wt(n,e,r)}function ii(e){return Is(e)&&$n(e)==H}function oi(e,t,r,n,i){return e===t||(null==e||null==t||!Is(e)&&!Is(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var s=ys(e),u=ys(t),l=s?K:Ko(e),c=u?K:Ko(t),f=(l=l==H?J:l)==J,h=(c=c==H?J:c)==J,p=l==c;if(p&&Es(e)){if(!Es(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Cn),s||Ps(e)?xo(e,t,r,n,i,a):function(e,t,r,n,i,o,a){switch(r){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ue:return!(e.byteLength!=t.byteLength||!o(new Ct(e),new Ct(t)));case z:case W:case X:return ps(+e,+t);case G:return e.name==t.name&&e.message==t.message;case te:case ne:return e==t+"";case Y:var s=Tr;case re:var u=n&g;if(s||(s=Ir),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;n|=v,a.set(e,t);var c=xo(s(e),s(t),n,i,o,a);return a.delete(e),c;case ie:if(fn)return fn.call(e)==fn.call(t)}return!1}(e,t,l,r,n,i,a);if(!(r&g)){var d=f&&ct.call(e,"__wrapped__"),y=h&&ct.call(t,"__wrapped__");if(d||y){var m=d?e.value():e,b=y?t.value():t;return a||(a=new Cn),i(m,b,r,n,a)}}if(!p)return!1;return a||(a=new Cn),function(e,t,r,n,i,a){var s=r&g,u=Bo(e),l=u.length,c=Bo(t).length;if(l!=c&&!s)return!1;var f=l;for(;f--;){var h=u[f];if(!(s?h in t:ct.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var d=!0;a.set(e,t),a.set(t,e);var v=s;for(;++f<l;){h=u[f];var y=e[h],m=t[h];if(n)var b=s?n(m,y,h,t,e,a):n(y,m,h,e,t,a);if(!(b===o?y===m||i(y,m,r,n,a):b)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(d=!1)}return a.delete(e),a.delete(t),d}(e,t,r,n,i,a)}(e,t,r,n,oi,i))}function ai(e,t,r,n){var i=r.length,a=i,s=!n;if(null==e)return!a;for(e=tt(e);i--;){var u=r[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var l=(u=r[i])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in e))return!1}else{var h=new Cn;if(n)var p=n(c,f,l,e,t,h);if(!(p===o?oi(f,c,g|v,n,h):p))return!1}}return!0}function si(e){return!(!ks(e)||(t=e,ht&&ht in t))&&(_s(e)?vt:qe).test(fa(e));var t}function ui(e){return"function"==typeof e?e:null==e?Nu:"object"==typeof e?ys(e)?di(e[0],e[1]):pi(e):Mu(e)}function li(e){if(!Xo(e))return Vr(e);var t=[];for(var r in tt(e))ct.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ci(e){if(!ks(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Xo(e),r=[];for(var n in e)("constructor"!=n||!t&&ct.call(e,n))&&r.push(n);return r}function fi(e,t){return e<t}function hi(e,t){var r=-1,i=bs(e)?n(e.length):[];return Mn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function pi(e){var t=Uo(e);return 1==t.length&&t[0][2]?Jo(t[0][0],t[0][1]):function(r){return r===e||ai(r,e,t)}}function di(e,t){return Zo(e)&&$o(t)?Jo(ca(e),t):function(r){var n=Js(r,e);return n===o&&n===t?eu(r,e):oi(t,n,g|v)}}function gi(e,t,r,n,i){e!==t&&Wn(t,(function(a,s){if(i||(i=new Cn),ks(a))!function(e,t,r,n,i,a,s){var u=ra(e,r),l=ra(t,r),c=s.get(l);if(c)return void kn(e,r,c);var f=a?a(u,l,r+"",e,t,s):o,h=f===o;if(h){var p=ys(l),d=!p&&Es(l),g=!p&&!d&&Ps(l);f=l,p||d||g?ys(u)?f=u:ws(u)?f=ro(u):d?(h=!1,f=Yi(l,!0)):g?(h=!1,f=$i(l,!0)):f=[]:Bs(l)||vs(l)?(f=u,vs(u)?f=zs(u):ks(u)&&!_s(u)||(f=zo(l))):h=!1}h&&(s.set(l,f),i(f,l,n,a,s),s.delete(l));kn(e,r,f)}(e,t,s,r,gi,n,i);else{var u=n?n(ra(e,s),a,s+"",e,t,i):o;u===o&&(u=a),kn(e,s,u)}}),ou)}function vi(e,t){var r=e.length;if(r)return qo(t+=t<0?r:0,r)?e[t]:o}function yi(e,t,r){var n=-1;return t=Jt(t.length?t:[Nu],vr(Po())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(hi(e,(function(e,r,i){return{criteria:Jt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var u=Ji(i[n],o[n]);if(u){if(n>=s)return u;var l=r[n];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,r)}))}function mi(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=Yn(e,a);r(s,a)&&Ai(o,qi(a,e),s)}return o}function bi(e,t,r,n){var i=n?ur:sr,o=-1,a=t.length,s=e;for(e===t&&(t=ro(t)),r&&(s=Jt(e,vr(r)));++o<a;)for(var u=0,l=t[o],c=r?r(l):l;(u=i(s,c,u,n))>-1;)s!==e&&Dt.call(s,u,1),Dt.call(e,u,1);return e}function wi(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;qo(i)?Dt.call(e,i,1):Ui(e,i)}}return e}function Ei(e,t){return e+Ur(Zr()*(t-e+1))}function Ci(e,t){var r="";if(!e||t<1||t>R)return r;do{t%2&&(r+=e),(t=Ur(t/2))&&(e+=e)}while(t);return r}function Si(e,t){return oa(ea(e,t,Nu),e+"")}function _i(e){return _n(pu(e))}function Ti(e,t){var r=pu(e);return ua(r,Rn(t,0,r.length))}function Ai(e,t,r,n){if(!ks(e))return e;for(var i=-1,a=(t=qi(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var l=ca(t[i]),c=r;if(i!=s){var f=u[l];(c=n?n(f,l,u):o)===o&&(c=ks(f)?f:qo(t[i+1])?[]:{})}In(u,l,c),u=u[l]}return e}var ki=rn?function(e,t){return rn.set(e,t),e}:Nu,Ii=hr?function(e,t){return hr(e,"toString",{configurable:!0,enumerable:!1,value:ku(t),writable:!0})}:Nu;function xi(e){return ua(pu(e))}function Ni(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Bi(e,t){var r;return Mn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Li(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=M){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!Ds(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return Oi(e,t,Nu,r)}function Oi(e,t,r,n){t=r(t);for(var i=0,a=null==e?0:e.length,s=t!=t,u=null===t,l=Ds(t),c=t===o;i<a;){var f=Ur((i+a)/2),h=r(e[f]),p=h!==o,d=null===h,g=h==h,v=Ds(h);if(s)var y=n||g;else y=c?g&&(n||p):u?g&&p&&(n||!d):l?g&&p&&!d&&(n||!v):!d&&!v&&(n?h<=t:h<t);y?i=f+1:a=f}return Wr(a,U)}function Ri(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!ps(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Di(e){return"number"==typeof e?e:Ds(e)?P:+e}function Pi(e){if("string"==typeof e)return e;if(ys(e))return Jt(e,Pi)+"";if(Ds(e))return hn?hn.call(e):"";var t=e+"";return"0"==t&&1/e==-O?"-0":t}function Fi(e,t,r){var n=-1,i=Xt,o=e.length,s=!0,u=[],l=u;if(r)s=!1,i=$t;else if(o>=a){var c=t?null:So(e);if(c)return Ir(c);s=!1,i=mr,l=new En}else l=t?[]:u;e:for(;++n<o;){var f=e[n],h=t?t(f):f;if(f=r||0!==f?f:0,s&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),u.push(f)}else i(l,h,r)||(l!==u&&l.push(h),u.push(f))}return u}function Ui(e,t){return null==(e=ta(e,t=qi(t,e)))||delete e[ca(Sa(t))]}function Mi(e,t,r,n){return Ai(e,t,r(Yn(e,t)),n)}function ji(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Ni(e,n?0:o,n?o+1:i):Ni(e,n?o+1:0,n?i:o)}function Hi(e,t){var r=e;return r instanceof yn&&(r=r.value()),tr(t,(function(e,t){return t.func.apply(t.thisArg,er([e],t.args))}),r)}function Ki(e,t,r){var i=e.length;if(i<2)return i?Fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Un(a[o]||s,e[u],t,r));return Fi(zn(a,1),t,r)}function Vi(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var u=n<a?t[n]:o;r(s,e[n],u)}return s}function zi(e){return ws(e)?e:[]}function Wi(e){return"function"==typeof e?e:Nu}function qi(e,t){return ys(e)?e:Zo(e,t)?[e]:la(Ws(e))}var Gi=Si;function Zi(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:Ni(e,t,r)}var Qi=Rr||function(e){return Ot.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var r=e.length,n=It?It(r):new e.constructor(r);return e.copy(n),n}function Xi(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t}function $i(e,t){var r=t?Xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ji(e,t){if(e!==t){var r=e!==o,n=null===e,i=e==e,a=Ds(e),s=t!==o,u=null===t,l=t==t,c=Ds(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||u&&r&&i||!s&&i||!l)return-1}return 0}function eo(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=zr(a-s,0),f=n(l+c),h=!i;++u<l;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function to(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,f=zr(a-u,0),h=n(f+c),p=!i;++o<f;)h[o]=e[o];for(var d=o;++l<c;)h[d+l]=t[l];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=e[o++]);return h}function ro(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function no(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=n?n(r[u],e[u],u,r,e):o;l===o&&(l=e[u]),i?Ln(r,u,l):In(r,u,l)}return r}function io(e,t){return function(r,n){var i=ys(r)?qt:Nn,o=t?t():{};return i(r,e,Po(n,2),o)}}function oo(e){return Si((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,s=i>2?r[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Go(r[0],r[1],s)&&(a=i<3?o:a,i=1),t=tt(t);++n<i;){var u=r[n];u&&e(t,u,n,a)}return t}))}function ao(e,t){return function(r,n){if(null==r)return r;if(!bs(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=tt(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function so(e){return function(t,r,n){for(var i=-1,o=tt(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}function uo(e){return function(t){var r=_r(t=Ws(t))?Br(t):o,n=r?r[0]:t.charAt(0),i=r?Zi(r,1).join(""):t.slice(1);return n[e]()+i}}function lo(e){return function(t){return tr(_u(vu(t).replace(mt,"")),e,"")}}function co(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=dn(e.prototype),n=e.apply(r,t);return ks(n)?n:r}}function fo(e){return function(t,r,n){var i=tt(t);if(!bs(t)){var a=Po(r,3);t=iu(t),r=function(e){return a(i[e],e,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:o}}function ho(e){return No((function(t){var r=t.length,n=r,i=vn.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new it(u);if(i&&!s&&"wrapper"==Ro(a))var s=new vn([],!0)}for(n=s?n:r;++n<r;){var l=Ro(a=t[n]),c="wrapper"==l?Oo(a):o;s=c&&Qo(c[0])&&c[1]==(_|w|C|T)&&!c[4].length&&1==c[9]?s[Ro(c[0])].apply(s,c[3]):1==a.length&&Qo(a)?s[l]():s.thru(a)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&ys(n))return s.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function po(e,t,r,i,a,s,u,l,c,f){var h=t&_,p=t&y,d=t&m,g=t&(w|E),v=t&A,b=d?o:co(e);return function y(){for(var m=arguments.length,w=n(m),E=m;E--;)w[E]=arguments[E];if(g)var C=Do(y),S=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(w,C);if(i&&(w=eo(w,i,a,g)),s&&(w=to(w,s,u,g)),m-=S,g&&m<f){var _=kr(w,C);return Eo(e,t,po,y.placeholder,r,w,_,l,c,f-m)}var T=p?r:this,A=d?T[e]:e;return m=w.length,l?w=function(e,t){var r=e.length,n=Wr(t.length,r),i=ro(e);for(;n--;){var a=t[n];e[n]=qo(a,r)?i[a]:o}return e}(w,l):v&&m>1&&w.reverse(),h&&c<m&&(w.length=c),this&&this!==Ot&&this instanceof y&&(A=b||co(A)),A.apply(T,w)}}function go(e,t){return function(r,n){return function(e,t,r,n){return Gn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function vo(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=Pi(r),n=Pi(n)):(r=Di(r),n=Di(n)),i=e(r,n)}return i}}function yo(e){return No((function(t){return t=Jt(t,vr(Po())),Si((function(r){var n=this;return e(t,(function(e){return Wt(e,n,r)}))}))}))}function mo(e,t){var r=(t=t===o?" ":Pi(t)).length;if(r<2)return r?Ci(t,e):t;var n=Ci(t,Fr(e/Nr(t)));return _r(t)?Zi(Br(n),0,e).join(""):n.slice(0,e)}function bo(e){return function(t,r,i){return i&&"number"!=typeof i&&Go(t,r,i)&&(r=i=o),t=js(t),r===o?(r=t,t=0):r=js(r),function(e,t,r,i){for(var o=-1,a=zr(Fr((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=i===o?t<r?1:-1:js(i),e)}}function wo(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Vs(t),r=Vs(r)),e(t,r)}}function Eo(e,t,r,n,i,a,s,u,l,c){var f=t&w;t|=f?C:S,(t&=~(f?S:C))&b||(t&=~(y|m));var h=[e,t,i,f?a:o,f?s:o,f?o:a,f?o:s,u,l,c],p=r.apply(o,h);return Qo(e)&&na(p,h),p.placeholder=n,aa(p,e,t)}function Co(e){var t=et[e];return function(e,r){if(e=Vs(e),(r=null==r?0:Wr(Hs(r),292))&&Hr(e)){var n=(Ws(e)+"e").split("e");return+((n=(Ws(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var So=Jr&&1/Ir(new Jr([,-0]))[1]==O?function(e){return new Jr(e)}:Du;function _o(e){return function(t){var r=Ko(t);return r==Y?Tr(t):r==re?xr(t):function(e,t){return Jt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function To(e,t,r,i,a,s,l,c){var h=t&m;if(!h&&"function"!=typeof e)throw new it(u);var p=i?i.length:0;if(p||(t&=~(C|S),i=a=o),l=l===o?l:zr(Hs(l),0),c=c===o?c:Hs(c),p-=a?a.length:0,t&S){var d=i,g=a;i=a=o}var v=h?o:Oo(e),A=[e,t,r,i,a,d,g,s,l,c];if(v&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<(y|m|_),a=n==_&&r==w||n==_&&r==T&&e[7].length<=t[8]||n==(_|T)&&t[7].length<=t[8]&&r==w;if(!o&&!a)return e;n&y&&(e[2]=t[2],i|=r&y?0:b);var s=t[3];if(s){var u=e[3];e[3]=u?eo(u,s,t[4]):s,e[4]=u?kr(e[3],f):t[4]}(s=t[5])&&(u=e[5],e[5]=u?to(u,s,t[6]):s,e[6]=u?kr(e[5],f):t[6]);(s=t[7])&&(e[7]=s);n&_&&(e[8]=null==e[8]?t[8]:Wr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(A,v),e=A[0],t=A[1],r=A[2],i=A[3],a=A[4],!(c=A[9]=A[9]===o?h?0:e.length:zr(A[9]-p,0))&&t&(w|E)&&(t&=~(w|E)),t&&t!=y)k=t==w||t==E?function(e,t,r){var i=co(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=Do(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:kr(u,c);return(s-=f.length)<r?Eo(e,t,po,a.placeholder,o,u,f,o,o,r-s):Wt(this&&this!==Ot&&this instanceof a?i:e,this,u)}}(e,t,c):t!=C&&t!=(y|C)||a.length?po.apply(o,A):function(e,t,r,i){var o=t&y,a=co(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),h=this&&this!==Ot&&this instanceof t?a:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return Wt(h,o?r:this,f)}}(e,t,r,i);else var k=function(e,t,r){var n=t&y,i=co(e);return function t(){return(this&&this!==Ot&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return aa((v?ki:na)(k,A),e,t)}function Ao(e,t,r,n){return e===o||ps(e,st[r])&&!ct.call(n,r)?t:e}function ko(e,t,r,n,i,a){return ks(e)&&ks(t)&&(a.set(t,e),gi(e,t,o,ko,a),a.delete(t)),e}function Io(e){return Bs(e)?o:e}function xo(e,t,r,n,i,a){var s=r&g,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var f=-1,h=!0,p=r&v?new En:o;for(a.set(e,t),a.set(t,e);++f<u;){var d=e[f],y=t[f];if(n)var m=s?n(y,d,f,t,e,a):n(d,y,f,e,t,a);if(m!==o){if(m)continue;h=!1;break}if(p){if(!nr(t,(function(e,t){if(!mr(p,t)&&(d===e||i(d,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(d!==y&&!i(d,y,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function No(e){return oa(ea(e,o,ma),e+"")}function Bo(e){return Xn(e,iu,jo)}function Lo(e){return Xn(e,ou,Ho)}var Oo=rn?function(e){return rn.get(e)}:Du;function Ro(e){for(var t=e.name+"",r=nn[t],n=ct.call(nn,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function Do(e){return(ct.call(pn,"placeholder")?pn:e).placeholder}function Po(){var e=pn.iteratee||Bu;return e=e===Bu?ui:e,arguments.length?e(arguments[0],arguments[1]):e}function Fo(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Uo(e){for(var t=iu(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,$o(i)]}return t}function Mo(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return si(r)?r:o}var jo=Mr?function(e){return null==e?[]:(e=tt(e),Yt(Mr(e),(function(t){return Rt.call(e,t)})))}:Ku,Ho=Mr?function(e){for(var t=[];e;)er(t,jo(e)),e=Bt(e);return t}:Ku,Ko=$n;function Vo(e,t,r){for(var n=-1,i=(t=qi(t,e)).length,o=!1;++n<i;){var a=ca(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&As(i)&&qo(a,i)&&(ys(e)||vs(e))}function zo(e){return"function"!=typeof e.constructor||Xo(e)?{}:dn(Bt(e))}function Wo(e){return ys(e)||vs(e)||!!(Ft&&e&&e[Ft])}function qo(e,t){var r=typeof e;return!!(t=null==t?R:t)&&("number"==r||"symbol"!=r&&Ze.test(e))&&e>-1&&e%1==0&&e<t}function Go(e,t,r){if(!ks(r))return!1;var n=typeof t;return!!("number"==n?bs(r)&&qo(t,r.length):"string"==n&&t in r)&&ps(r[t],e)}function Zo(e,t){if(ys(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ds(e))||(Ne.test(e)||!xe.test(e)||null!=t&&e in tt(t))}function Qo(e){var t=Ro(e),r=pn[t];if("function"!=typeof r||!(t in yn.prototype))return!1;if(e===r)return!0;var n=Oo(r);return!!n&&e===n[0]}(Yr&&Ko(new Yr(new ArrayBuffer(1)))!=le||Xr&&Ko(new Xr)!=Y||$r&&"[object Promise]"!=Ko($r.resolve())||Jr&&Ko(new Jr)!=re||en&&Ko(new en)!=ae)&&(Ko=function(e){var t=$n(e),r=t==J?e.constructor:o,n=r?fa(r):"";if(n)switch(n){case on:return le;case an:return Y;case sn:return"[object Promise]";case un:return re;case ln:return ae}return t});var Yo=ut?_s:Vu;function Xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function $o(e){return e==e&&!ks(e)}function Jo(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==o||e in tt(r)))}}function ea(e,t,r){return t=zr(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=zr(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Wt(e,this,u)}}function ta(e,t){return t.length<2?e:Yn(e,Ni(t,0,-1))}function ra(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var na=sa(ki),ia=Pr||function(e,t){return Ot.setTimeout(e,t)},oa=sa(Ii);function aa(e,t,r){var n=t+"";return oa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Gt(j,(function(r){var n="_."+r[0];t&r[1]&&!Xt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Ue);return t?t[1].split(Me):[]}(n),r)))}function sa(e){var t=0,r=0;return function(){var n=qr(),i=N-(n-r);if(r=n,i>0){if(++t>=x)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ua(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var a=Ei(r,i),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var la=function(e){var t=ss(e,(function(e){return r.size===c&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Be,(function(e,r,n,i){t.push(n?i.replace(He,"$1"):r||e)})),t}));function ca(e){if("string"==typeof e||Ds(e))return e;var t=e+"";return"0"==t&&1/e==-O?"-0":t}function fa(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ha(e){if(e instanceof yn)return e.clone();var t=new vn(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var pa=Si((function(e,t){return ws(e)?Un(e,zn(t,1,ws,!0)):[]})),da=Si((function(e,t){var r=Sa(t);return ws(r)&&(r=o),ws(e)?Un(e,zn(t,1,ws,!0),Po(r,2)):[]})),ga=Si((function(e,t){var r=Sa(t);return ws(r)&&(r=o),ws(e)?Un(e,zn(t,1,ws,!0),o,r):[]}));function va(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Hs(r);return i<0&&(i=zr(n+i,0)),ar(e,Po(t,3),i)}function ya(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=Hs(r),i=r<0?zr(n+i,0):Wr(i,n-1)),ar(e,Po(t,3),i,!0)}function ma(e){return(null==e?0:e.length)?zn(e,1):[]}function ba(e){return e&&e.length?e[0]:o}var wa=Si((function(e){var t=Jt(e,zi);return t.length&&t[0]===e[0]?ri(t):[]})),Ea=Si((function(e){var t=Sa(e),r=Jt(e,zi);return t===Sa(r)?t=o:r.pop(),r.length&&r[0]===e[0]?ri(r,Po(t,2)):[]})),Ca=Si((function(e){var t=Sa(e),r=Jt(e,zi);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?ri(r,o,t):[]}));function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:o}var _a=Si(Ta);function Ta(e,t){return e&&e.length&&t&&t.length?bi(e,t):e}var Aa=No((function(e,t){var r=null==e?0:e.length,n=On(e,t);return wi(e,Jt(t,(function(e){return qo(e,r)?+e:e})).sort(Ji)),n}));function ka(e){return null==e?e:Qr.call(e)}var Ia=Si((function(e){return Fi(zn(e,1,ws,!0))})),xa=Si((function(e){var t=Sa(e);return ws(t)&&(t=o),Fi(zn(e,1,ws,!0),Po(t,2))})),Na=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Fi(zn(e,1,ws,!0),o,t)}));function Ba(e){if(!e||!e.length)return[];var t=0;return e=Yt(e,(function(e){if(ws(e))return t=zr(e.length,t),!0})),gr(t,(function(t){return Jt(e,fr(t))}))}function La(e,t){if(!e||!e.length)return[];var r=Ba(e);return null==t?r:Jt(r,(function(e){return Wt(t,o,e)}))}var Oa=Si((function(e,t){return ws(e)?Un(e,t):[]})),Ra=Si((function(e){return Ki(Yt(e,ws))})),Da=Si((function(e){var t=Sa(e);return ws(t)&&(t=o),Ki(Yt(e,ws),Po(t,2))})),Pa=Si((function(e){var t=Sa(e);return t="function"==typeof t?t:o,Ki(Yt(e,ws),o,t)})),Fa=Si(Ba);var Ua=Si((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,La(e,r)}));function Ma(e){var t=pn(e);return t.__chain__=!0,t}function ja(e,t){return t(e)}var Ha=No((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return On(t,e)};return!(t>1||this.__actions__.length)&&n instanceof yn&&qo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ja,args:[i],thisArg:o}),new vn(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var Ka=io((function(e,t,r){ct.call(e,r)?++e[r]:Ln(e,r,1)}));var Va=fo(va),za=fo(ya);function Wa(e,t){return(ys(e)?Gt:Mn)(e,Po(t,3))}function qa(e,t){return(ys(e)?Zt:jn)(e,Po(t,3))}var Ga=io((function(e,t,r){ct.call(e,r)?e[r].push(t):Ln(e,r,[t])}));var Za=Si((function(e,t,r){var i=-1,o="function"==typeof t,a=bs(e)?n(e.length):[];return Mn(e,(function(e){a[++i]=o?Wt(t,e,r):ni(e,t,r)})),a})),Qa=io((function(e,t,r){Ln(e,r,t)}));function Ya(e,t){return(ys(e)?Jt:hi)(e,Po(t,3))}var Xa=io((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var $a=Si((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Go(e,t[0],t[1])?t=[]:r>2&&Go(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,zn(t,1),[])})),Ja=Dr||function(){return Ot.Date.now()};function es(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,To(e,_,o,o,o,o,t)}function ts(e,t){var r;if("function"!=typeof t)throw new it(u);return e=Hs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var rs=Si((function(e,t,r){var n=y;if(r.length){var i=kr(r,Do(rs));n|=C}return To(e,n,t,r,i)})),ns=Si((function(e,t,r){var n=y|m;if(r.length){var i=kr(r,Do(ns));n|=C}return To(t,n,e,r,i)}));function is(e,t,r){var n,i,a,s,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new it(u);function g(t){var r=n,a=i;return n=i=o,f=t,s=e.apply(a,r)}function v(e){var r=e-c;return c===o||r>=t||r<0||p&&e-f>=a}function y(){var e=Ja();if(v(e))return m(e);l=ia(y,function(e){var r=t-(e-c);return p?Wr(r,a-(e-f)):r}(e))}function m(e){return l=o,d&&n?g(e):(n=i=o,s)}function b(){var e=Ja(),r=v(e);if(n=arguments,i=this,c=e,r){if(l===o)return function(e){return f=e,l=ia(y,t),h?g(e):s}(c);if(p)return Qi(l),l=ia(y,t),g(c)}return l===o&&(l=ia(y,t)),s}return t=Vs(t)||0,ks(r)&&(h=!!r.leading,a=(p="maxWait"in r)?zr(Vs(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),b.cancel=function(){l!==o&&Qi(l),f=0,n=c=i=l=o},b.flush=function(){return l===o?s:m(Ja())},b}var os=Si((function(e,t){return Fn(e,1,t)})),as=Si((function(e,t,r){return Fn(e,Vs(t)||0,r)}));function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(u);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ss.Cache||wn),r}function us(e){if("function"!=typeof e)throw new it(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=wn;var ls=Gi((function(e,t){var r=(t=1==t.length&&ys(t[0])?Jt(t[0],vr(Po())):Jt(zn(t,1),vr(Po()))).length;return Si((function(n){for(var i=-1,o=Wr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Wt(e,this,n)}))})),cs=Si((function(e,t){var r=kr(t,Do(cs));return To(e,C,o,t,r)})),fs=Si((function(e,t){var r=kr(t,Do(fs));return To(e,S,o,t,r)})),hs=No((function(e,t){return To(e,T,o,o,o,t)}));function ps(e,t){return e===t||e!=e&&t!=t}var ds=wo(Jn),gs=wo((function(e,t){return e>=t})),vs=ii(function(){return arguments}())?ii:function(e){return Is(e)&&ct.call(e,"callee")&&!Rt.call(e,"callee")},ys=n.isArray,ms=Mt?vr(Mt):function(e){return Is(e)&&$n(e)==ue};function bs(e){return null!=e&&As(e.length)&&!_s(e)}function ws(e){return Is(e)&&bs(e)}var Es=jr||Vu,Cs=jt?vr(jt):function(e){return Is(e)&&$n(e)==W};function Ss(e){if(!Is(e))return!1;var t=$n(e);return t==G||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!Bs(e)}function _s(e){if(!ks(e))return!1;var t=$n(e);return t==Z||t==Q||t==V||t==ee}function Ts(e){return"number"==typeof e&&e==Hs(e)}function As(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=R}function ks(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Is(e){return null!=e&&"object"==typeof e}var xs=Ht?vr(Ht):function(e){return Is(e)&&Ko(e)==Y};function Ns(e){return"number"==typeof e||Is(e)&&$n(e)==X}function Bs(e){if(!Is(e)||$n(e)!=J)return!1;var t=Bt(e);if(null===t)return!0;var r=ct.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&lt.call(r)==dt}var Ls=Kt?vr(Kt):function(e){return Is(e)&&$n(e)==te};var Os=Vt?vr(Vt):function(e){return Is(e)&&Ko(e)==re};function Rs(e){return"string"==typeof e||!ys(e)&&Is(e)&&$n(e)==ne}function Ds(e){return"symbol"==typeof e||Is(e)&&$n(e)==ie}var Ps=zt?vr(zt):function(e){return Is(e)&&As(e.length)&&!!At[$n(e)]};var Fs=wo(fi),Us=wo((function(e,t){return e<=t}));function Ms(e){if(!e)return[];if(bs(e))return Rs(e)?Br(e):ro(e);if(Ut&&e[Ut])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ut]());var t=Ko(e);return(t==Y?Tr:t==re?Ir:pu)(e)}function js(e){return e?(e=Vs(e))===O||e===-O?(e<0?-1:1)*D:e==e?e:0:0===e?e:0}function Hs(e){var t=js(e),r=t%1;return t==t?r?t-r:t:0}function Ks(e){return e?Rn(Hs(e),0,F):0}function Vs(e){if("number"==typeof e)return e;if(Ds(e))return P;if(ks(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ks(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Re,"");var r=We.test(e);return r||Ge.test(e)?Nt(e.slice(2),r?2:8):ze.test(e)?P:+e}function zs(e){return no(e,ou(e))}function Ws(e){return null==e?"":Pi(e)}var qs=oo((function(e,t){if(Xo(t)||bs(t))no(t,iu(t),e);else for(var r in t)ct.call(t,r)&&In(e,r,t[r])})),Gs=oo((function(e,t){no(t,ou(t),e)})),Zs=oo((function(e,t,r,n){no(t,ou(t),e,n)})),Qs=oo((function(e,t,r,n){no(t,iu(t),e,n)})),Ys=No(On);var Xs=Si((function(e,t){e=tt(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&Go(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=ou(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===o||ps(f,st[c])&&!ct.call(e,c))&&(e[c]=a[c])}return e})),$s=Si((function(e){return e.push(o,ko),Wt(su,o,e)}));function Js(e,t,r){var n=null==e?o:Yn(e,t);return n===o?r:n}function eu(e,t){return null!=e&&Vo(e,t,ti)}var tu=go((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=r}),ku(Nu)),ru=go((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),ct.call(e,t)?e[t].push(r):e[t]=[r]}),Po),nu=Si(ni);function iu(e){return bs(e)?Sn(e):li(e)}function ou(e){return bs(e)?Sn(e,!0):ci(e)}var au=oo((function(e,t,r){gi(e,t,r)})),su=oo((function(e,t,r,n){gi(e,t,r,n)})),uu=No((function(e,t){var r={};if(null==e)return r;var n=!1;t=Jt(t,(function(t){return t=qi(t,e),n||(n=t.length>1),t})),no(e,Lo(e),r),n&&(r=Dn(r,h|p|d,Io));for(var i=t.length;i--;)Ui(r,t[i]);return r}));var lu=No((function(e,t){return null==e?{}:function(e,t){return mi(e,t,(function(t,r){return eu(e,r)}))}(e,t)}));function cu(e,t){if(null==e)return{};var r=Jt(Lo(e),(function(e){return[e]}));return t=Po(t),mi(e,r,(function(e,r){return t(e,r[0])}))}var fu=_o(iu),hu=_o(ou);function pu(e){return null==e?[]:yr(e,iu(e))}var du=lo((function(e,t,r){return t=t.toLowerCase(),e+(r?gu(t):t)}));function gu(e){return Su(Ws(e).toLowerCase())}function vu(e){return(e=Ws(e))&&e.replace(Qe,Er).replace(bt,"")}var yu=lo((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),mu=lo((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),bu=uo("toLowerCase");var wu=lo((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Eu=lo((function(e,t,r){return e+(r?" ":"")+Su(t)}));var Cu=lo((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Su=uo("toUpperCase");function _u(e,t,r){return e=Ws(e),(t=r?o:t)===o?function(e){return St.test(e)}(e)?function(e){return e.match(Et)||[]}(e):function(e){return e.match(je)||[]}(e):e.match(t)||[]}var Tu=Si((function(e,t){try{return Wt(e,o,t)}catch(e){return Ss(e)?e:new $e(e)}})),Au=No((function(e,t){return Gt(t,(function(t){t=ca(t),Ln(e,t,rs(e[t],e))})),e}));function ku(e){return function(){return e}}var Iu=ho(),xu=ho(!0);function Nu(e){return e}function Bu(e){return ui("function"==typeof e?e:Dn(e,h))}var Lu=Si((function(e,t){return function(r){return ni(r,e,t)}})),Ou=Si((function(e,t){return function(r){return ni(e,r,t)}}));function Ru(e,t,r){var n=iu(t),i=Qn(t,n);null!=r||ks(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Qn(t,iu(t)));var o=!(ks(r)&&"chain"in r&&!r.chain),a=_s(e);return Gt(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=ro(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,er([this.value()],arguments))})})),e}function Du(){}var Pu=yo(Jt),Fu=yo(Qt),Uu=yo(nr);function Mu(e){return Zo(e)?fr(ca(e)):function(e){return function(t){return Yn(t,e)}}(e)}var ju=bo(),Hu=bo(!0);function Ku(){return[]}function Vu(){return!1}var zu=vo((function(e,t){return e+t}),0),Wu=Co("ceil"),qu=vo((function(e,t){return e/t}),1),Gu=Co("floor");var Zu,Qu=vo((function(e,t){return e*t}),1),Yu=Co("round"),Xu=vo((function(e,t){return e-t}),0);return pn.after=function(e,t){if("function"!=typeof t)throw new it(u);return e=Hs(e),function(){if(--e<1)return t.apply(this,arguments)}},pn.ary=es,pn.assign=qs,pn.assignIn=Gs,pn.assignInWith=Zs,pn.assignWith=Qs,pn.at=Ys,pn.before=ts,pn.bind=rs,pn.bindAll=Au,pn.bindKey=ns,pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ys(e)?e:[e]},pn.chain=Ma,pn.chunk=function(e,t,r){t=(r?Go(e,t,r):t===o)?1:zr(Hs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(Fr(i/t));a<i;)u[s++]=Ni(e,a,a+=t);return u},pn.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return er(ys(r)?ro(r):[r],zn(t,1))},pn.cond=function(e){var t=null==e?0:e.length,r=Po();return e=t?Jt(e,(function(e){if("function"!=typeof e[1])throw new it(u);return[r(e[0]),e[1]]})):[],Si((function(r){for(var n=-1;++n<t;){var i=e[n];if(Wt(i[0],this,r))return Wt(i[1],this,r)}}))},pn.conforms=function(e){return function(e){var t=iu(e);return function(r){return Pn(r,e,t)}}(Dn(e,h))},pn.constant=ku,pn.countBy=Ka,pn.create=function(e,t){var r=dn(e);return null==t?r:Bn(r,t)},pn.curry=function e(t,r,n){var i=To(t,w,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},pn.curryRight=function e(t,r,n){var i=To(t,E,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},pn.debounce=is,pn.defaults=Xs,pn.defaultsDeep=$s,pn.defer=os,pn.delay=as,pn.difference=pa,pn.differenceBy=da,pn.differenceWith=ga,pn.drop=function(e,t,r){var n=null==e?0:e.length;return n?Ni(e,(t=r||t===o?1:Hs(t))<0?0:t,n):[]},pn.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Ni(e,0,(t=n-(t=r||t===o?1:Hs(t)))<0?0:t):[]},pn.dropRightWhile=function(e,t){return e&&e.length?ji(e,Po(t,3),!0,!0):[]},pn.dropWhile=function(e,t){return e&&e.length?ji(e,Po(t,3),!0):[]},pn.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Go(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=Hs(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:Hs(n))<0&&(n+=i),n=r>n?0:Ks(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},pn.filter=function(e,t){return(ys(e)?Yt:Vn)(e,Po(t,3))},pn.flatMap=function(e,t){return zn(Ya(e,t),1)},pn.flatMapDeep=function(e,t){return zn(Ya(e,t),O)},pn.flatMapDepth=function(e,t,r){return r=r===o?1:Hs(r),zn(Ya(e,t),r)},pn.flatten=ma,pn.flattenDeep=function(e){return(null==e?0:e.length)?zn(e,O):[]},pn.flattenDepth=function(e,t){return(null==e?0:e.length)?zn(e,t=t===o?1:Hs(t)):[]},pn.flip=function(e){return To(e,A)},pn.flow=Iu,pn.flowRight=xu,pn.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},pn.functions=function(e){return null==e?[]:Qn(e,iu(e))},pn.functionsIn=function(e){return null==e?[]:Qn(e,ou(e))},pn.groupBy=Ga,pn.initial=function(e){return(null==e?0:e.length)?Ni(e,0,-1):[]},pn.intersection=wa,pn.intersectionBy=Ea,pn.intersectionWith=Ca,pn.invert=tu,pn.invertBy=ru,pn.invokeMap=Za,pn.iteratee=Bu,pn.keyBy=Qa,pn.keys=iu,pn.keysIn=ou,pn.map=Ya,pn.mapKeys=function(e,t){var r={};return t=Po(t,3),Gn(e,(function(e,n,i){Ln(r,t(e,n,i),e)})),r},pn.mapValues=function(e,t){var r={};return t=Po(t,3),Gn(e,(function(e,n,i){Ln(r,n,t(e,n,i))})),r},pn.matches=function(e){return pi(Dn(e,h))},pn.matchesProperty=function(e,t){return di(e,Dn(t,h))},pn.memoize=ss,pn.merge=au,pn.mergeWith=su,pn.method=Lu,pn.methodOf=Ou,pn.mixin=Ru,pn.negate=us,pn.nthArg=function(e){return e=Hs(e),Si((function(t){return vi(t,e)}))},pn.omit=uu,pn.omitBy=function(e,t){return cu(e,us(Po(t)))},pn.once=function(e){return ts(2,e)},pn.orderBy=function(e,t,r,n){return null==e?[]:(ys(t)||(t=null==t?[]:[t]),ys(r=n?o:r)||(r=null==r?[]:[r]),yi(e,t,r))},pn.over=Pu,pn.overArgs=ls,pn.overEvery=Fu,pn.overSome=Uu,pn.partial=cs,pn.partialRight=fs,pn.partition=Xa,pn.pick=lu,pn.pickBy=cu,pn.property=Mu,pn.propertyOf=function(e){return function(t){return null==e?o:Yn(e,t)}},pn.pull=_a,pn.pullAll=Ta,pn.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?bi(e,t,Po(r,2)):e},pn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?bi(e,t,o,r):e},pn.pullAt=Aa,pn.range=ju,pn.rangeRight=Hu,pn.rearg=hs,pn.reject=function(e,t){return(ys(e)?Yt:Vn)(e,us(Po(t,3)))},pn.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=Po(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return wi(e,i),r},pn.rest=function(e,t){if("function"!=typeof e)throw new it(u);return Si(e,t=t===o?t:Hs(t))},pn.reverse=ka,pn.sampleSize=function(e,t,r){return t=(r?Go(e,t,r):t===o)?1:Hs(t),(ys(e)?Tn:Ti)(e,t)},pn.set=function(e,t,r){return null==e?e:Ai(e,t,r)},pn.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:Ai(e,t,r,n)},pn.shuffle=function(e){return(ys(e)?An:xi)(e)},pn.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Go(e,t,r)?(t=0,r=n):(t=null==t?0:Hs(t),r=r===o?n:Hs(r)),Ni(e,t,r)):[]},pn.sortBy=$a,pn.sortedUniq=function(e){return e&&e.length?Ri(e):[]},pn.sortedUniqBy=function(e,t){return e&&e.length?Ri(e,Po(t,2)):[]},pn.split=function(e,t,r){return r&&"number"!=typeof r&&Go(e,t,r)&&(t=r=o),(r=r===o?F:r>>>0)?(e=Ws(e))&&("string"==typeof t||null!=t&&!Ls(t))&&!(t=Pi(t))&&_r(e)?Zi(Br(e),0,r):e.split(t,r):[]},pn.spread=function(e,t){if("function"!=typeof e)throw new it(u);return t=null==t?0:zr(Hs(t),0),Si((function(r){var n=r[t],i=Zi(r,0,t);return n&&er(i,n),Wt(e,this,i)}))},pn.tail=function(e){var t=null==e?0:e.length;return t?Ni(e,1,t):[]},pn.take=function(e,t,r){return e&&e.length?Ni(e,0,(t=r||t===o?1:Hs(t))<0?0:t):[]},pn.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Ni(e,(t=n-(t=r||t===o?1:Hs(t)))<0?0:t,n):[]},pn.takeRightWhile=function(e,t){return e&&e.length?ji(e,Po(t,3),!1,!0):[]},pn.takeWhile=function(e,t){return e&&e.length?ji(e,Po(t,3)):[]},pn.tap=function(e,t){return t(e),e},pn.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new it(u);return ks(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),is(e,t,{leading:n,maxWait:t,trailing:i})},pn.thru=ja,pn.toArray=Ms,pn.toPairs=fu,pn.toPairsIn=hu,pn.toPath=function(e){return ys(e)?Jt(e,ca):Ds(e)?[e]:ro(la(Ws(e)))},pn.toPlainObject=zs,pn.transform=function(e,t,r){var n=ys(e),i=n||Es(e)||Ps(e);if(t=Po(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ks(e)&&_s(o)?dn(Bt(e)):{}}return(i?Gt:Gn)(e,(function(e,n,i){return t(r,e,n,i)})),r},pn.unary=function(e){return es(e,1)},pn.union=Ia,pn.unionBy=xa,pn.unionWith=Na,pn.uniq=function(e){return e&&e.length?Fi(e):[]},pn.uniqBy=function(e,t){return e&&e.length?Fi(e,Po(t,2)):[]},pn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Fi(e,o,t):[]},pn.unset=function(e,t){return null==e||Ui(e,t)},pn.unzip=Ba,pn.unzipWith=La,pn.update=function(e,t,r){return null==e?e:Mi(e,t,Wi(r))},pn.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:Mi(e,t,Wi(r),n)},pn.values=pu,pn.valuesIn=function(e){return null==e?[]:yr(e,ou(e))},pn.without=Oa,pn.words=_u,pn.wrap=function(e,t){return cs(Wi(t),e)},pn.xor=Ra,pn.xorBy=Da,pn.xorWith=Pa,pn.zip=Fa,pn.zipObject=function(e,t){return Vi(e||[],t||[],In)},pn.zipObjectDeep=function(e,t){return Vi(e||[],t||[],Ai)},pn.zipWith=Ua,pn.entries=fu,pn.entriesIn=hu,pn.extend=Gs,pn.extendWith=Zs,Ru(pn,pn),pn.add=zu,pn.attempt=Tu,pn.camelCase=du,pn.capitalize=gu,pn.ceil=Wu,pn.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=Vs(r))==r?r:0),t!==o&&(t=(t=Vs(t))==t?t:0),Rn(Vs(e),t,r)},pn.clone=function(e){return Dn(e,d)},pn.cloneDeep=function(e){return Dn(e,h|d)},pn.cloneDeepWith=function(e,t){return Dn(e,h|d,t="function"==typeof t?t:o)},pn.cloneWith=function(e,t){return Dn(e,d,t="function"==typeof t?t:o)},pn.conformsTo=function(e,t){return null==t||Pn(e,t,iu(t))},pn.deburr=vu,pn.defaultTo=function(e,t){return null==e||e!=e?t:e},pn.divide=qu,pn.endsWith=function(e,t,r){e=Ws(e),t=Pi(t);var n=e.length,i=r=r===o?n:Rn(Hs(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},pn.eq=ps,pn.escape=function(e){return(e=Ws(e))&&Te.test(e)?e.replace(Se,Cr):e},pn.escapeRegExp=function(e){return(e=Ws(e))&&Oe.test(e)?e.replace(Le,"\\$&"):e},pn.every=function(e,t,r){var n=ys(e)?Qt:Hn;return r&&Go(e,t,r)&&(t=o),n(e,Po(t,3))},pn.find=Va,pn.findIndex=va,pn.findKey=function(e,t){return or(e,Po(t,3),Gn)},pn.findLast=za,pn.findLastIndex=ya,pn.findLastKey=function(e,t){return or(e,Po(t,3),Zn)},pn.floor=Gu,pn.forEach=Wa,pn.forEachRight=qa,pn.forIn=function(e,t){return null==e?e:Wn(e,Po(t,3),ou)},pn.forInRight=function(e,t){return null==e?e:qn(e,Po(t,3),ou)},pn.forOwn=function(e,t){return e&&Gn(e,Po(t,3))},pn.forOwnRight=function(e,t){return e&&Zn(e,Po(t,3))},pn.get=Js,pn.gt=ds,pn.gte=gs,pn.has=function(e,t){return null!=e&&Vo(e,t,ei)},pn.hasIn=eu,pn.head=ba,pn.identity=Nu,pn.includes=function(e,t,r,n){e=bs(e)?e:pu(e),r=r&&!n?Hs(r):0;var i=e.length;return r<0&&(r=zr(i+r,0)),Rs(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&sr(e,t,r)>-1},pn.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Hs(r);return i<0&&(i=zr(n+i,0)),sr(e,t,i)},pn.inRange=function(e,t,r){return t=js(t),r===o?(r=t,t=0):r=js(r),function(e,t,r){return e>=Wr(t,r)&&e<zr(t,r)}(e=Vs(e),t,r)},pn.invoke=nu,pn.isArguments=vs,pn.isArray=ys,pn.isArrayBuffer=ms,pn.isArrayLike=bs,pn.isArrayLikeObject=ws,pn.isBoolean=function(e){return!0===e||!1===e||Is(e)&&$n(e)==z},pn.isBuffer=Es,pn.isDate=Cs,pn.isElement=function(e){return Is(e)&&1===e.nodeType&&!Bs(e)},pn.isEmpty=function(e){if(null==e)return!0;if(bs(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||Es(e)||Ps(e)||vs(e)))return!e.length;var t=Ko(e);if(t==Y||t==re)return!e.size;if(Xo(e))return!li(e).length;for(var r in e)if(ct.call(e,r))return!1;return!0},pn.isEqual=function(e,t){return oi(e,t)},pn.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?oi(e,t,o,r):!!n},pn.isError=Ss,pn.isFinite=function(e){return"number"==typeof e&&Hr(e)},pn.isFunction=_s,pn.isInteger=Ts,pn.isLength=As,pn.isMap=xs,pn.isMatch=function(e,t){return e===t||ai(e,t,Uo(t))},pn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,ai(e,t,Uo(t),r)},pn.isNaN=function(e){return Ns(e)&&e!=+e},pn.isNative=function(e){if(Yo(e))throw new $e(s);return si(e)},pn.isNil=function(e){return null==e},pn.isNull=function(e){return null===e},pn.isNumber=Ns,pn.isObject=ks,pn.isObjectLike=Is,pn.isPlainObject=Bs,pn.isRegExp=Ls,pn.isSafeInteger=function(e){return Ts(e)&&e>=-R&&e<=R},pn.isSet=Os,pn.isString=Rs,pn.isSymbol=Ds,pn.isTypedArray=Ps,pn.isUndefined=function(e){return e===o},pn.isWeakMap=function(e){return Is(e)&&Ko(e)==ae},pn.isWeakSet=function(e){return Is(e)&&$n(e)==se},pn.join=function(e,t){return null==e?"":Kr.call(e,t)},pn.kebabCase=yu,pn.last=Sa,pn.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=Hs(r))<0?zr(n+i,0):Wr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):ar(e,lr,i,!0)},pn.lowerCase=mu,pn.lowerFirst=bu,pn.lt=Fs,pn.lte=Us,pn.max=function(e){return e&&e.length?Kn(e,Nu,Jn):o},pn.maxBy=function(e,t){return e&&e.length?Kn(e,Po(t,2),Jn):o},pn.mean=function(e){return cr(e,Nu)},pn.meanBy=function(e,t){return cr(e,Po(t,2))},pn.min=function(e){return e&&e.length?Kn(e,Nu,fi):o},pn.minBy=function(e,t){return e&&e.length?Kn(e,Po(t,2),fi):o},pn.stubArray=Ku,pn.stubFalse=Vu,pn.stubObject=function(){return{}},pn.stubString=function(){return""},pn.stubTrue=function(){return!0},pn.multiply=Qu,pn.nth=function(e,t){return e&&e.length?vi(e,Hs(t)):o},pn.noConflict=function(){return Ot._===this&&(Ot._=gt),this},pn.noop=Du,pn.now=Ja,pn.pad=function(e,t,r){e=Ws(e);var n=(t=Hs(t))?Nr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return mo(Ur(i),r)+e+mo(Fr(i),r)},pn.padEnd=function(e,t,r){e=Ws(e);var n=(t=Hs(t))?Nr(e):0;return t&&n<t?e+mo(t-n,r):e},pn.padStart=function(e,t,r){e=Ws(e);var n=(t=Hs(t))?Nr(e):0;return t&&n<t?mo(t-n,r)+e:e},pn.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Gr(Ws(e).replace(De,""),t||0)},pn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Go(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=js(e),t===o?(t=e,e=0):t=js(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=Zr();return Wr(e+i*(t-e+xt("1e-"+((i+"").length-1))),t)}return Ei(e,t)},pn.reduce=function(e,t,r){var n=ys(e)?tr:pr,i=arguments.length<3;return n(e,Po(t,4),r,i,Mn)},pn.reduceRight=function(e,t,r){var n=ys(e)?rr:pr,i=arguments.length<3;return n(e,Po(t,4),r,i,jn)},pn.repeat=function(e,t,r){return t=(r?Go(e,t,r):t===o)?1:Hs(t),Ci(Ws(e),t)},pn.replace=function(){var e=arguments,t=Ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pn.result=function(e,t,r){var n=-1,i=(t=qi(t,e)).length;for(i||(i=1,e=o);++n<i;){var a=null==e?o:e[ca(t[n])];a===o&&(n=i,a=r),e=_s(a)?a.call(e):a}return e},pn.round=Yu,pn.runInContext=e,pn.sample=function(e){return(ys(e)?_n:_i)(e)},pn.size=function(e){if(null==e)return 0;if(bs(e))return Rs(e)?Nr(e):e.length;var t=Ko(e);return t==Y||t==re?e.size:li(e).length},pn.snakeCase=wu,pn.some=function(e,t,r){var n=ys(e)?nr:Bi;return r&&Go(e,t,r)&&(t=o),n(e,Po(t,3))},pn.sortedIndex=function(e,t){return Li(e,t)},pn.sortedIndexBy=function(e,t,r){return Oi(e,t,Po(r,2))},pn.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Li(e,t);if(n<r&&ps(e[n],t))return n}return-1},pn.sortedLastIndex=function(e,t){return Li(e,t,!0)},pn.sortedLastIndexBy=function(e,t,r){return Oi(e,t,Po(r,2),!0)},pn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Li(e,t,!0)-1;if(ps(e[r],t))return r}return-1},pn.startCase=Eu,pn.startsWith=function(e,t,r){return e=Ws(e),r=null==r?0:Rn(Hs(r),0,e.length),t=Pi(t),e.slice(r,r+t.length)==t},pn.subtract=Xu,pn.sum=function(e){return e&&e.length?dr(e,Nu):0},pn.sumBy=function(e,t){return e&&e.length?dr(e,Po(t,2)):0},pn.template=function(e,t,r){var n=pn.templateSettings;r&&Go(e,t,r)&&(t=o),e=Ws(e),t=Zs({},t,n,Ao);var i,a,s=Zs({},t.imports,n.imports,Ao),u=iu(s),l=yr(s,u),c=0,f=t.interpolate||Ye,h="__p += '",p=rt((t.escape||Ye).source+"|"+f.source+"|"+(f===Ie?Ke:Ye).source+"|"+(t.evaluate||Ye).source+"|$","g"),d="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Tt+"]")+"\n";e.replace(p,(function(t,r,n,o,s,u){return n||(n=o),h+=e.slice(c,u).replace(Xe,Sr),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var g=ct.call(t,"variable")&&t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(be,""):h).replace(we,"$1").replace(Ee,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Tu((function(){return Je(u,d+"return "+h).apply(o,l)}));if(v.source=h,Ss(v))throw v;return v},pn.times=function(e,t){if((e=Hs(e))<1||e>R)return[];var r=F,n=Wr(e,F);t=Po(t),e-=F;for(var i=gr(n,t);++r<e;)t(r);return i},pn.toFinite=js,pn.toInteger=Hs,pn.toLength=Ks,pn.toLower=function(e){return Ws(e).toLowerCase()},pn.toNumber=Vs,pn.toSafeInteger=function(e){return e?Rn(Hs(e),-R,R):0===e?e:0},pn.toString=Ws,pn.toUpper=function(e){return Ws(e).toUpperCase()},pn.trim=function(e,t,r){if((e=Ws(e))&&(r||t===o))return e.replace(Re,"");if(!e||!(t=Pi(t)))return e;var n=Br(e),i=Br(t);return Zi(n,br(n,i),wr(n,i)+1).join("")},pn.trimEnd=function(e,t,r){if((e=Ws(e))&&(r||t===o))return e.replace(Pe,"");if(!e||!(t=Pi(t)))return e;var n=Br(e);return Zi(n,0,wr(n,Br(t))+1).join("")},pn.trimStart=function(e,t,r){if((e=Ws(e))&&(r||t===o))return e.replace(De,"");if(!e||!(t=Pi(t)))return e;var n=Br(e);return Zi(n,br(n,Br(t))).join("")},pn.truncate=function(e,t){var r=k,n=I;if(ks(t)){var i="separator"in t?t.separator:i;r="length"in t?Hs(t.length):r,n="omission"in t?Pi(t.omission):n}var a=(e=Ws(e)).length;if(_r(e)){var s=Br(e);a=s.length}if(r>=a)return e;var u=r-Nr(n);if(u<1)return n;var l=s?Zi(s,0,u).join(""):e.slice(0,u);if(i===o)return l+n;if(s&&(u+=l.length-u),Ls(i)){if(e.slice(u).search(i)){var c,f=l;for(i.global||(i=rt(i.source,Ws(Ve.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var h=c.index;l=l.slice(0,h===o?u:h)}}else if(e.indexOf(Pi(i),u)!=u){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+n},pn.unescape=function(e){return(e=Ws(e))&&_e.test(e)?e.replace(Ce,Lr):e},pn.uniqueId=function(e){var t=++ft;return Ws(e)+t},pn.upperCase=Cu,pn.upperFirst=Su,pn.each=Wa,pn.eachRight=qa,pn.first=ba,Ru(pn,(Zu={},Gn(pn,(function(e,t){ct.call(pn.prototype,t)||(Zu[t]=e)})),Zu),{chain:!1}),pn.VERSION="4.17.15",Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){pn[e].placeholder=pn})),Gt(["drop","take"],(function(e,t){yn.prototype[e]=function(r){r=r===o?1:zr(Hs(r),0);var n=this.__filtered__&&!t?new yn(this):this.clone();return n.__filtered__?n.__takeCount__=Wr(r,n.__takeCount__):n.__views__.push({size:Wr(r,F),type:e+(n.__dir__<0?"Right":"")}),n},yn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Gt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==B||3==r;yn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Po(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Gt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");yn.prototype[e]=function(){return this[r](1).value()[0]}})),Gt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");yn.prototype[e]=function(){return this.__filtered__?new yn(this):this[r](1)}})),yn.prototype.compact=function(){return this.filter(Nu)},yn.prototype.find=function(e){return this.filter(e).head()},yn.prototype.findLast=function(e){return this.reverse().find(e)},yn.prototype.invokeMap=Si((function(e,t){return"function"==typeof e?new yn(this):this.map((function(r){return ni(r,e,t)}))})),yn.prototype.reject=function(e){return this.filter(us(Po(e)))},yn.prototype.slice=function(e,t){e=Hs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new yn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=Hs(t))<0?r.dropRight(-t):r.take(t-e)),r)},yn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yn.prototype.toArray=function(){return this.take(F)},Gn(yn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=pn[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(pn.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof yn,l=s[0],c=u||ys(t),f=function(e){var t=i.apply(pn,er([e],s));return n&&h?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,g=u&&!p;if(!a&&c){t=g?t:new yn(this);var v=e.apply(t,s);return v.__actions__.push({func:ja,args:[f],thisArg:o}),new vn(v,h)}return d&&g?e.apply(this,s):(v=this.thru(f),d?n?v.value()[0]:v.value():v)})})),Gt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ot[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);pn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(ys(i)?i:[],e)}return this[r]((function(r){return t.apply(ys(r)?r:[],e)}))}})),Gn(yn.prototype,(function(e,t){var r=pn[t];if(r){var n=r.name+"";ct.call(nn,n)||(nn[n]=[]),nn[n].push({name:t,func:r})}})),nn[po(o,m).name]=[{name:"wrapper",func:o}],yn.prototype.clone=function(){var e=new yn(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},yn.prototype.reverse=function(){if(this.__filtered__){var e=new yn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=ys(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Wr(t,e+a);break;case"takeRight":e=zr(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,f=c.length,h=0,p=Wr(u,this.__takeCount__);if(!r||!n&&i==u&&p==u)return Hi(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var g=-1,v=e[l+=t];++g<f;){var y=c[g],m=y.iteratee,b=y.type,w=m(v);if(b==L)v=w;else if(!w){if(b==B)continue e;break e}}d[h++]=v}return d},pn.prototype.at=Ha,pn.prototype.chain=function(){return Ma(this)},pn.prototype.commit=function(){return new vn(this.value(),this.__chain__)},pn.prototype.next=function(){this.__values__===o&&(this.__values__=Ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},pn.prototype.plant=function(e){for(var t,r=this;r instanceof gn;){var n=ha(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yn){var t=e;return this.__actions__.length&&(t=new yn(this)),(t=t.reverse()).__actions__.push({func:ja,args:[ka],thisArg:o}),new vn(t,this.__chain__)}return this.thru(ka)},pn.prototype.toJSON=pn.prototype.valueOf=pn.prototype.value=function(){return Hi(this.__wrapped__,this.__actions__)},pn.prototype.first=pn.prototype.head,Ut&&(pn.prototype[Ut]=function(){return this}),pn}();Ot._=Or,(i=function(){return Or}.call(t,r,t,n))===o||(n.exports=i)}).call(this)}).call(this,r(7),r(93)(e))},function(e,t,r){"use strict";(function(e){
/*!
 * algorithms/helpers.js - Internal functions and fields used in Cryptographic
 * Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
"undefined"==typeof Promise&&r(55).polyfill(),t.int32ToBuffer=function(t,r){return(r=r||e.alloc(4))[0]=t>>>24&255,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r};var n=Math.pow(2,32);t.int64ToBuffer=function(r,i){i=i||e.alloc(8);var o=Math.floor(r/n),a=r%n;return o=t.int32ToBuffer(o),a=t.int32ToBuffer(a),i=e.concat([o,a])};var i={};Object.defineProperty(t,"subtleCrypto",{get:function(){return"subtleCrypto"in i?i.subtleCrypto:i.subtleCrypto=function(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return crypto.subtle}()},enumerable:!0}),Object.defineProperty(t,"nodeCrypto",{get:function(){return"nodeCrypto"in i?i.nodeCrypto:i.nodeCrypto=function(){var e;try{e=r(110)}catch(e){return}if(Object.keys(e).length)return e}()},enumerable:!0}),t.setupFallback=function(e,r,n){return e&&t.nodeCrypto?function(){var t,r=arguments;function i(e){return 0===e.message.indexOf("unsupported algorithm:")?n.apply(null,r):Promise.reject(e)}try{t=Promise.resolve(e.apply(null,r))}catch(e){t=i(e)}return t}:r&&t.subtleCrypto?function(){var e,t=arguments;function i(e){return e.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==e.message&&e instanceof Error?Promise.reject(e):n.apply(null,t)}try{e=(e=r.apply(null,t)).catch(i)}catch(t){e=i(t)}return e}:n}}).call(this,r(1).Buffer)},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";
/*!
 * algorithms/constants.js - Constants used in Cryptographic Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */e.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}},function(e,t,r){"use strict";(function(t){
/*!
 * util/utf8.js - Implementation of UTF-8 Encoder/Decoder
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n,i=r(8),o=i.partialRight,a=i.merge,s=(n=[],"undefined"!=typeof Uint8ClampedArray&&n.push(Uint8ClampedArray),"undefined"!=typeof Uint8Array&&n.push(Uint8Array),"undefined"!=typeof Uint16Array&&n.push(Uint16Array),"undefined"!=typeof Uint32Array&&n.push(Uint32Array),"undefined"!=typeof Float32Array&&n.push(Float32Array),"undefined"!=typeof Float64Array&&n.push(Float64Array),n);e.exports=o(a,(function(e,r){if(t.isBuffer(r))r=t.from(r);else{var n=function(e){for(var t,r=0;!t&&s.length>r;r++)e instanceof s[r]&&(t=s[r]);return t}(r);r=n?new n(r,r.byteOffset,r.byteLength):void 0}return r,r}))}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);r(3),r(15);var i=e.exports=n.asn1=n.asn1||{};function o(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,o,a){if(n.util.isArray(o)){for(var s=[],u=0;u<o.length;++u)void 0!==o[u]&&s.push(o[u]);o=s}var l={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(o),value:o};return a&&"bitStringContents"in a&&(l.bitStringContents=a.bitStringContents,l.original=i.copy(l)),l},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var o=0;o<e.length;++o)r.push(i.copy(e[o],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!i.equals(e[o],t[o]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var a=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var i=127&r;o(e,t,i),n=e.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}};i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),function e(t,r,n,s){var u;o(t,r,2);var l=t.getByte();r--;var c=192&l,f=31&l;u=t.length();var h,p,d=a(t,r);if(r-=u-t.length(),void 0!==d&&d>r){if(s.strict){var g=new Error("Too few bytes to read ASN.1 value.");throw g.available=t.length(),g.remaining=r,g.requested=d,g}d=r}var v=32==(32&l);if(v)if(h=[],void 0===d)for(;;){if(o(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}u=t.length(),h.push(e(t,r,n+1,s)),r-=u-t.length()}else for(;d>0;)u=t.length(),h.push(e(t,d,n+1,s)),r-=u-t.length(),d-=u-t.length();void 0===h&&c===i.Class.UNIVERSAL&&f===i.Type.BITSTRING&&(p=t.bytes(d));if(void 0===h&&s.decodeBitStrings&&c===i.Class.UNIVERSAL&&f===i.Type.BITSTRING&&d>1){var y=t.read,m=r,b=0;if(f===i.Type.BITSTRING&&(o(t,r,1),b=t.getByte(),r--),0===b)try{u=t.length();var w={verbose:s.verbose,strict:!0,decodeBitStrings:!0},E=e(t,r,n+1,w),C=u-t.length();r-=C,f==i.Type.BITSTRING&&C++;var S=E.tagClass;C!==d||S!==i.Class.UNIVERSAL&&S!==i.Class.CONTEXT_SPECIFIC||(h=[E])}catch(e){}void 0===h&&(t.read=y,r=m)}if(void 0===h){if(void 0===d){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");d=r}if(f===i.Type.BMPSTRING)for(h="";d>0;d-=2)o(t,r,2),h+=String.fromCharCode(t.getInt16()),r-=2;else h=t.getBytes(d)}var _=void 0===p?null:{bitStringContents:p};return i.create(c,f,v,h,_)}(e,e.length(),0,t)},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,o=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)o.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:o.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&o.putBuffer(i.toDer(e.value[s]))}else if(e.type===i.Type.BMPSTRING)for(s=0;s<e.value.length;++s)o.putInt16(e.value.charCodeAt(s));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?o.putBytes(e.value.substr(1)):o.putBytes(e.value);if(t.putByte(r),o.length()<=127)t.putByte(127&o.length());else{var u=o.length(),l="";do{l+=String.fromCharCode(255&u),u>>>=8}while(u>0);t.putByte(128|l.length);for(s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(o),t},i.oidToDer=function(e){var t,r,i,o,a=e.split("."),s=n.util.createBuffer();s.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var u=2;u<a.length;++u){t=!0,r=[],i=parseInt(a[u],10);do{o=127&i,i>>>=7,t||(o|=128),r.push(o),t=!1}while(i>0);for(var l=r.length-1;l>=0;--l)s.putByte(r[l])}return s},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var u=e.charAt(10),l=10;"+"!==u&&"-"!==u&&(s=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,0),l&&("+"===(u=e.charAt(l))||"-"===u)){var c=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);c*=6e4,"+"===u?t.setTime(+t-c):t.setTime(+t+c)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),u=0,l=0,c=!1;"Z"===e.charAt(e.length-1)&&(c=!0);var f=e.length-5,h=e.charAt(f);"+"!==h&&"-"!==h||(l=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10),l*=6e4,"+"===h&&(l*=-1),c=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),c?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,u),t.setTime(+t+l)):(t.setFullYear(r,n,i),t.setHours(o,a,s,u)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,o){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)o&&(e.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var s=0,u=0;a&&u<t.value.length;++u)a=t.value[u].optional||!1,e.value[s]&&((a=i.validate(e.value[s],t.value[u],r,o))?++s:t.value[u].optional&&(a=!0)),!a&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var s=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var o="";r=r||2,(t=t||0)>0&&(o+="\n");for(var a="",u=0;u<t*r;++u)a+=" ";switch(o+=a+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:o+="Universal:";break;case i.Class.APPLICATION:o+="Application:";break;case i.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case i.Class.PRIVATE:o+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(o+=e.type,e.type){case i.Type.NONE:o+=" (None)";break;case i.Type.BOOLEAN:o+=" (Boolean)";break;case i.Type.INTEGER:o+=" (Integer)";break;case i.Type.BITSTRING:o+=" (Bit string)";break;case i.Type.OCTETSTRING:o+=" (Octet string)";break;case i.Type.NULL:o+=" (Null)";break;case i.Type.OID:o+=" (Object Identifier)";break;case i.Type.ODESC:o+=" (Object Descriptor)";break;case i.Type.EXTERNAL:o+=" (External or Instance of)";break;case i.Type.REAL:o+=" (Real)";break;case i.Type.ENUMERATED:o+=" (Enumerated)";break;case i.Type.EMBEDDED:o+=" (Embedded PDV)";break;case i.Type.UTF8:o+=" (UTF8)";break;case i.Type.ROID:o+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:o+=" (Sequence)";break;case i.Type.SET:o+=" (Set)";break;case i.Type.PRINTABLESTRING:o+=" (Printable String)";break;case i.Type.IA5String:o+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:o+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case i.Type.BMPSTRING:o+=" (BMP String)"}else o+=e.type;if(o+="\n",o+=a+"Constructed: "+e.constructed+"\n",e.composed){var l=0,c="";for(u=0;u<e.value.length;++u)void 0!==e.value[u]&&(l+=1,c+=i.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(c+=","));o+=a+"Sub values: "+l+c}else{if(o+=a+"Value: ",e.type===i.Type.OID){var f=i.derToOid(e.value);o+=f,n.pki&&n.pki.oids&&f in n.pki.oids&&(o+=" ("+n.pki.oids[f]+") ")}if(e.type===i.Type.INTEGER)try{o+=i.derToInteger(e.value)}catch(t){o+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?o+="0x"+n.util.bytesToHex(e.value.slice(1)):o+="(none)",e.value.length>0){var h=e.value.charCodeAt(0);1==h?o+=" (1 unused bit shown)":h>1&&(o+=" ("+h+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(s.test(e.value)||(o+="("+e.value+") "),o+="0x"+n.util.bytesToHex(e.value)):e.type===i.Type.UTF8?o+=n.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?o+=e.value:s.test(e.value)?o+="0x"+n.util.bytesToHex(e.value):0===e.value.length?o+="[null]":o+=e.value}return o}},function(e,t,r){(function(t){var n=r(2);r(21),r(60),r(61),r(3),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),o=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var s=a(),u=null,l=n.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(u=function(e){return c.getRandomValues(e)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var f="";for(var h in navigator)try{"string"==typeof navigator[h]&&(f+=navigator[h])}catch(e){}s.collect(f),f=null}t&&(t().mousemove((function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)})),t().keypress((function(e){s.collectInt(e.charCode,8)})))}if(n.random)for(var h in s)n.random[h]=s[h];else n.random=s;n.random.createInstance=a,e.exports=n.random}(void 0!==t?t:null)}).call(this,r(0))},function(e,t,r){var n=r(2);n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function o(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.5","serialName"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.5.4.13","description"),o("2.16.840.1.113730.1.1","nsCertType"),o("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t,r){var n=r(2);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t,r){"use strict";var n=r(32),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(25);o.inherits=r(20);var a=r(77),s=r(53);o.inherits(f,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(e),l=u&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),d=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),v=/Android/.test(e),y=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),m=g||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),E=f&&e.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(f=!1,u=!0);var C=m&&(l||f&&(null==E||E<12.11)),S=r||a&&s>=9;function _(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var T,A=function(e,t){var r=e.className,n=_(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function k(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function I(e,t){return k(e).appendChild(t)}function x(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function N(e,t,r,n){var i=x(e,t,r,n);return i.setAttribute("role","presentation"),i}function B(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function O(e,t){var r=e.className;_(t).test(r)||(e.className+=(r?" ":"")+t)}function R(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!_(r[n]).test(t)&&(t+=" "+r[n]);return t}T=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var D=function(e){e.select()};function P(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function U(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}g?D=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(D=function(e){try{e.select()}catch(e){}});var M=function(){this.id=null};function j(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}M.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var H=30,K={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},z={origin:"*mouse"},W={origin:"+move"};function q(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var G=[""];function Z(e){for(;G.length<=e;)G.push(Q(G)+" ");return G[e]}function Q(e){return e[e.length-1]}function Y(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function X(){}function $(e,t){var r;return Object.create?r=Object.create(e):(X.prototype=e,r=new X),t&&F(t,r),r}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>"Â"&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&ne.test(e)}function oe(e,t,r){for(;(r<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=r;return t}function ae(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}var se=null;function ue(e,t,r){var n;se=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:se=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:se=i)}return null!=n?n:se}var le=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(e,t,r){this.level=e,this.from=t,this.to=r}return function(u,l){var c="ltr"==l?"L":"R";if(0==u.length||"ltr"==l&&!r.test(u))return!1;for(var f,h=u.length,p=[],d=0;d<h;++d)p.push((f=u.charCodeAt(d))<=247?e.charAt(f):1424<=f&&f<=1524?"R":1536<=f&&f<=1785?t.charAt(f-1536):1774<=f&&f<=2220?"r":8192<=f&&f<=8203?"w":8204==f?"b":"L");for(var g=0,v=c;g<h;++g){var y=p[g];"m"==y?p[g]=v:v=y}for(var m=0,b=c;m<h;++m){var w=p[m];"1"==w&&"r"==b?p[m]="n":i.test(w)&&(b=w,"r"==w&&(p[m]="R"))}for(var E=1,C=p[0];E<h-1;++E){var S=p[E];"+"==S&&"1"==C&&"1"==p[E+1]?p[E]="1":","!=S||C!=p[E+1]||"1"!=C&&"n"!=C||(p[E]=C),C=S}for(var _=0;_<h;++_){var T=p[_];if(","==T)p[_]="N";else if("%"==T){var A=void 0;for(A=_+1;A<h&&"%"==p[A];++A);for(var k=_&&"!"==p[_-1]||A<h&&"1"==p[A]?"1":"N",I=_;I<A;++I)p[I]=k;_=A-1}}for(var x=0,N=c;x<h;++x){var B=p[x];"L"==N&&"1"==B?p[x]="L":i.test(B)&&(N=B)}for(var L=0;L<h;++L)if(n.test(p[L])){var O=void 0;for(O=L+1;O<h&&n.test(p[O]);++O);for(var R="L"==(L?p[L-1]:c),D=R==("L"==(O<h?p[O]:c))?R?"L":"R":c,P=L;P<O;++P)p[P]=D;L=O-1}for(var F,U=[],M=0;M<h;)if(o.test(p[M])){var j=M;for(++M;M<h&&o.test(p[M]);++M);U.push(new s(0,j,M))}else{var H=M,K=U.length;for(++M;M<h&&"L"!=p[M];++M);for(var V=H;V<M;)if(a.test(p[V])){H<V&&U.splice(K,0,new s(1,H,V));var z=V;for(++V;V<M&&a.test(p[V]);++V);U.splice(K,0,new s(2,z,V)),H=V}else++V;H<M&&U.splice(K,0,new s(1,H,M))}return"ltr"==l&&(1==U[0].level&&(F=u.match(/^\s+/))&&(U[0].from=F[0].length,U.unshift(new s(0,0,F[0].length))),1==Q(U).level&&(F=u.match(/\s+$/))&&(Q(U).to-=F[0].length,U.push(new s(0,h-F[0].length,h)))),"rtl"==l?U.reverse():U}}();function ce(e,t){var r=e.order;return null==r&&(r=e.order=le(e.text,t)),r}var fe=[],he=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||fe).concat(r)}};function pe(e,t){return e._handlers&&e._handlers[t]||fe}function de(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=j(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ge(e,t){var r=pe(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ve(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ge(e,r||t.type,e,t),Ce(t)||t.codemirrorIgnore}function ye(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==j(r,t[n])&&r.push(t[n])}function me(e,t){return pe(e,t).length>0}function be(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){de(this,e,t)}}function we(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ee(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){we(e),Ee(e)}function _e(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),m&&e.ctrlKey&&1==t&&(t=3),t}var Ae,ke,Ie=function(){if(a&&s<9)return!1;var e=x("div");return"draggable"in e||"dragDrop"in e}();function xe(e){if(null==Ae){var t=x("span","â");I(e,x("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ae=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=Ae?x("span","â"):x("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ne(e){if(null!=ke)return ke;var t=I(e,document.createTextNode("AØ®A")),r=T(t,0,1).getBoundingClientRect(),n=T(t,1,2).getBoundingClientRect();return k(e),!(!r||r.left==r.right)&&(ke=n.right-r.right<3)}var Be,Le=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Oe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Re="oncopy"in(Be=x("div"))||(Be.setAttribute("oncopy","return;"),"function"==typeof Be.oncopy),De=null,Pe={},Fe={};function Ue(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Pe[e]=t}function Me(e){if("string"==typeof e&&Fe.hasOwnProperty(e))e=Fe[e];else if(e&&"string"==typeof e.name&&Fe.hasOwnProperty(e.name)){var t=Fe[e.name];"string"==typeof t&&(t={name:t}),(e=$(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Me("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Me("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function je(e,t){t=Me(t);var r=Pe[t.name];if(!r)return je(e,"text/plain");var n=r(e,t);if(He.hasOwnProperty(t.name)){var i=He[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var He={};function Ke(e,t){F(t,He.hasOwnProperty(e)?He[e]:He[e]={})}function Ve(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function ze(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function We(e,t,r){return!e.startState||e.startState(t,r)}var qe=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Ge(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Ze(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i})),n}function Qe(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function Ye(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Xe(e){if(null==e.parent)return null;for(var t=e.parent,r=j(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function $e(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function Je(e,t){return t>=e.first&&t<e.first+e.size}function et(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function tt(e,t,r){if(void 0===r&&(r=null),!(this instanceof tt))return new tt(e,t,r);this.line=e,this.ch=t,this.sticky=r}function rt(e,t){return e.line-t.line||e.ch-t.ch}function nt(e,t){return e.sticky==t.sticky&&0==rt(e,t)}function it(e){return tt(e.line,e.ch)}function ot(e,t){return rt(e,t)<0?t:e}function at(e,t){return rt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ut(e,t){if(t.line<e.first)return tt(e.first,0);var r=e.first+e.size-1;return t.line>r?tt(r,Ge(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?tt(e.line,t):r<0?tt(e.line,0):e}(t,Ge(e,t.line).text.length)}function lt(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ut(e,t[n]);return r}qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},qe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},qe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},qe.prototype.skipToEnd=function(){this.pos=this.string.length},qe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},qe.prototype.backUp=function(e){this.pos-=e},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},qe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},qe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t},ft=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ht(e,t,r,n){var i=[e.state.modeGen],o={};Et(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],u=1,l=0;r.state=!0,Et(e,t.text,s.mode,r,(function(e,t){for(var r=u;l<e;){var n=i[u];n>e&&i.splice(u,1,e,i[u+1],n),u+=2,l=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,u-r,e,"overlay "+t),u=r+2;else for(;r<u;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}}),o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)s(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function pt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=dt(e,Xe(t)),i=t.text.length>e.options.maxHighlightLength&&Ve(e.doc.mode,n.state),o=ht(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function dt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new ft(n,!0,t);var o=function(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=Ge(o,s-1),l=u.stateAfter;if(l&&(!r||s+(l instanceof ct?l.lookAhead:0)<=o.modeFrontier))return s;var c=U(u.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}(e,t,r),a=o>n.first&&Ge(n,o-1).stateAfter,s=a?ft.fromSaved(n,a,o):new ft(n,We(n.mode),o);return n.iter(o,t,(function(r){gt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function gt(e,t,r,n){var i=e.doc.mode,o=new qe(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&vt(i,r.state);!o.eol();)yt(i,o,r.state),o.start=o.pos}function vt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=ze(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function yt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=ze(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ft.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ft.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ft.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ft.fromSaved=function(e,t,r){return t instanceof ct?new ft(e,Ve(e.mode,t.state),r,t.lookAhead):new ft(e,Ve(e.mode,t),r)},ft.prototype.save=function(e){var t=!1!==e?Ve(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var mt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function bt(e,t,r,n){var i,o,a=e.doc,s=a.mode,u=Ge(a,(t=ut(a,t)).line),l=dt(e,t.line,r),c=new qe(u.text,e.options.tabSize,l);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=yt(s,c,l.state),n&&o.push(new mt(c,i,Ve(a.mode,l.state)));return n?o:new mt(c,i,l.state)}function wt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Et(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,f=new qe(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&wt(vt(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&gt(e,t,n,f.pos),f.pos=t.length,u=null):u=wt(yt(r,f,n.state,h),o),h){var p=h[0].name;p&&(u="m-"+(u?p+" "+u:p))}if(!s||c!=u){for(;l<f.start;)i(l=Math.min(f.start,l+5e3),c);c=u}f.start=f.pos}for(;l<f.pos;){var d=Math.min(f.pos,l+5e3);i(d,c),l=d}}var Ct=!1,St=!1;function _t(e,t,r){this.marker=e,this.from=t,this.to=r}function Tt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function At(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function kt(e,t){if(t.full)return null;var r=Je(e,t.from.line)&&Ge(e,t.from.line).markedSpans,n=Je(e,t.to.line)&&Ge(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==rt(t.from,t.to),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new _t(a,o.from,s?null:o.to))}}return n}(r,i,a),u=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new _t(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,a),l=1==t.text.length,c=Q(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var p=Tt(u,h.marker);p?l&&(h.to=null==p.to?null:p.to+c):h.to=i}}if(u)for(var d=0;d<u.length;++d){var g=u[d];null!=g.to&&(g.to+=c),null==g.from?Tt(s,g.marker)||(g.from=c,l&&(s||(s=[])).push(g)):(g.from+=c,l&&(s||(s=[])).push(g))}s&&(s=It(s)),u&&u!=s&&(u=It(u));var v=[s];if(!l){var y,m=t.text.length-2;if(m>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(y||(y=[])).push(new _t(s[b].marker,null,null));for(var w=0;w<m;++w)v.push(y);v.push(u)}return v}function It(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function xt(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Nt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Bt(e){return e.inclusiveLeft?-1:0}function Lt(e){return e.inclusiveRight?1:0}function Ot(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=rt(n.from,i.from)||Bt(e)-Bt(t);if(o)return-o;var a=rt(n.to,i.to)||Lt(e)-Lt(t);return a||t.id-e.id}function Rt(e,t){var r,n=St&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Ot(r,i.marker)<0)&&(r=i.marker);return r}function Dt(e){return Rt(e,!0)}function Pt(e){return Rt(e,!1)}function Ft(e,t){var r,n=St&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||Ot(r,o.marker)<0)&&(r=o.marker)}return r}function Ut(e,t,r,n,i){var o=Ge(e,t),a=St&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=rt(l.from,r)||Bt(u.marker)-Bt(i),f=rt(l.to,n)||Lt(u.marker)-Lt(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?rt(l.to,r)>=0:rt(l.to,r)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?rt(l.from,n)<=0:rt(l.from,n)<0)))return!0}}}function Mt(e){for(var t;t=Dt(e);)e=t.find(-1,!0).line;return e}function jt(e,t){var r=Ge(e,t),n=Mt(r);return r==n?t:Xe(n)}function Ht(e,t){if(t>e.lastLine())return t;var r,n=Ge(e,t);if(!Kt(e,n))return t;for(;r=Pt(n);)n=r.find(1,!0).line;return Xe(n)+1}function Kt(e,t){var r=St&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Vt(e,t,n))return!0}}function Vt(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Vt(e,n.line,Tt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Vt(e,t,i))return!0}function zt(e){for(var t=0,r=(e=Mt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function Wt(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Dt(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Pt(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function qt(e){var t=e.display,r=e.doc;t.maxLine=Ge(r,r.first),t.maxLineLength=Wt(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=Wt(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var Gt=function(e,t,r){this.text=e,Nt(this,t),this.height=r?r(this):1};function Zt(e){e.parent=null,xt(e)}Gt.prototype.lineNo=function(){return Xe(this)},be(Gt);var Qt={},Yt={};function Xt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Yt:Qt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function $t(e,t){var r=N("span",null,null,u?"padding-right: .1px":null),n={pre:N("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=er,Ne(e.display.measure)&&(a=ce(o,e.doc.direction))&&(n.addToken=tr(n.addToken,a)),n.map=[],nr(o,n,pt(e,o,t!=e.display.externalMeasured&&Xe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=R(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=R(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(xe(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return ge(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=R(n.pre.className,n.textClass||"")),n}function Jt(e){var t=x("span","â¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function er(e,t,r,n,i,o,u){if(t){var l,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="Â "),n+=o,r=" "==o}return n}(t,e.trailingSpace):t,f=e.cm.state.specialChars,h=!1;if(f.test(t)){l=document.createDocumentFragment();for(var p=0;;){f.lastIndex=p;var d=f.exec(t),g=d?d.index-p:t.length-p;if(g){var v=document.createTextNode(c.slice(p,p+g));a&&s<9?l.appendChild(x("span",[v])):l.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;p+=g+1;var y=void 0;if("\t"==d[0]){var m=e.cm.options.tabSize,b=m-e.col%m;(y=l.appendChild(x("span",Z(b),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?((y=l.appendChild(x("span","\r"==d[0]?"â":"â¤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((y=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?l.appendChild(x("span",[y])):l.appendChild(y),e.col+=1);e.map.push(e.pos,e.pos+1,y),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||h||o){var w=r||"";n&&(w+=n),i&&(w+=i);var E=x("span",[l],w,o);if(u)for(var C in u)u.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&E.setAttribute(C,u[C]);return e.content.appendChild(E)}e.content.appendChild(l)}}function tr(e,t){return function(r,n,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=r.pos,c=l+n.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>l&&f.from<=l);h++);if(f.to>=c)return e(r,n,i,o,a,s,u);e(r,n.slice(0,f.to-l),i,o,null,s,u),o=null,n=n.slice(f.to-l),l=f.to}}}function rr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function nr(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,u,l,c,f,h,p=i.length,d=0,g=1,v="",y=0;;){if(y==d){u=l=c=s="",h=null,f=null,y=1/0;for(var m=[],b=void 0,w=0;w<n.length;++w){var E=n[w],C=E.marker;if("bookmark"==C.type&&E.from==d&&C.widgetNode)m.push(C);else if(E.from<=d&&(null==E.to||E.to>d||C.collapsed&&E.to==d&&E.from==d)){if(null!=E.to&&E.to!=d&&y>E.to&&(y=E.to,l=""),C.className&&(u+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&E.from==d&&(c+=" "+C.startStyle),C.endStyle&&E.to==y&&(b||(b=[])).push(C.endStyle,E.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var S in C.attributes)(h||(h={}))[S]=C.attributes[S];C.collapsed&&(!f||Ot(f.marker,C)<0)&&(f=E)}else E.from>d&&y>E.from&&(y=E.from)}if(b)for(var _=0;_<b.length;_+=2)b[_+1]==y&&(l+=" "+b[_]);if(!f||f.from==d)for(var T=0;T<m.length;++T)rr(t,0,m[T]);if(f&&(f.from||0)==d){if(rr(t,(null==f.to?p+1:f.to)-d,f.marker,null==f.from),null==f.to)return;f.to==d&&(f=!1)}}if(d>=p)break;for(var A=Math.min(p,y);;){if(v){var k=d+v.length;if(!f){var I=k>A?v.slice(0,A-d):v;t.addToken(t,I,a?a+u:u,c,d+I.length==y?l:"",s,h)}if(k>=A){v=v.slice(A-d),d=A;break}d=k,c=""}v=i.slice(o,o=r[g++]),a=Xt(r[g++],t.cm.options)}}else for(var x=1;x<r.length;x+=2)t.addToken(t,i.slice(o,o=r[x]),Xt(r[x+1],t.cm.options))}function ir(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Pt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?Xe(Q(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Kt(e,t)}function or(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new ir(e.doc,Ge(e.doc,o),o);n=o+a.size,i.push(a)}return i}var ar=null,sr=null;function ur(e,t){var r=pe(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ar?n=ar.delayedCallbacks:sr?n=sr:(n=sr=[],setTimeout(lr,0));for(var o=function(e){n.push((function(){return r[e].apply(null,i)}))},a=0;a<r.length;++a)o(a)}}function lr(){var e=sr;sr=null;for(var t=0;t<e.length;++t)e[t]()}function cr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?pr(e,t):"gutter"==o?gr(e,t,r,n):"class"==o?dr(e,t):"widget"==o&&vr(e,t,n)}t.changes=null}function fr(e){return e.node==e.text&&(e.node=x("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function hr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):$t(e,t)}function pr(e,t){var r=t.text.className,n=hr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,dr(e,t)):r&&(t.text.className=r)}function dr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=fr(t);t.background=n.insertBefore(x("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?fr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function gr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=fr(t);t.gutterBackground=x("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=fr(t),s=t.gutter=x("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(x("div",et(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.display.gutterSpecs.length;++u){var l=e.display.gutterSpecs[u].className,c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(x("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function vr(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);mr(e,t,r)}function yr(e,t,r,n){var i=hr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),dr(e,t),gr(e,t,r,n),mr(e,t,n),t.node}function mr(e,t,r){if(br(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)br(e,t.rest[n],t,r,!1)}function br(e,t,r,n,i){if(t.widgets)for(var o=fr(r),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=x("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),wr(u,l,r,n),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,r.gutter||r.text):o.appendChild(l),ur(u,"redraw")}}function wr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Er(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!B(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),I(t.display.measure,x("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Cr(e,t){for(var r=_e(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Sr(e){return e.lineSpace.offsetTop}function _r(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Tr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=I(e.measure,x("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Ar(e){return H-e.display.nativeBarWidth}function kr(e){return e.display.scroller.clientWidth-Ar(e)-e.display.barWidth}function Ir(e){return e.display.scroller.clientHeight-Ar(e)-e.display.barHeight}function xr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(Xe(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Nr(e,t,r,n){return Or(e,Lr(e,t),r,n)}function Br(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[fn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Lr(e,t){var r=Xe(t),n=Br(e,r);n&&!n.text?n=null:n&&n.changes&&(cr(e,n,r,an(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=Xe(t=Mt(t)),n=e.display.externalMeasured=new ir(e.doc,t,r);n.lineN=r;var i=n.built=$t(e,n);return n.text=i.pre,I(e.display.lineMeasure,i.pre),n}(e,t));var i=xr(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Or(e,t,r,n,i){t.before&&(r=-1);var o,u=r+(n||"");return t.cache.hasOwnProperty(u)?o=t.cache[u]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,i=n&&kr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,r,n){var i,o=Pr(t.map,r,n),u=o.node,l=o.start,c=o.end,f=o.collapse;if(3==u.nodeType){for(var h=0;h<4;h++){for(;l&&ie(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+c<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==l&&c==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Fr(T(u,l,c).getClientRects(),n)).left||i.right||0==l)break;c=l,l-=1,f="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=De)return De;var t=I(e,x("span","x")),r=t.getBoundingClientRect(),n=T(t,0,1).getBoundingClientRect();return De=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var p;l>0&&(f=n="right"),i=e.options.lineWrapping&&(p=u.getClientRects()).length>1?p["right"==n?p.length-1:0]:u.getBoundingClientRect()}if(a&&s<9&&!l&&(!i||!i.left&&!i.right)){var d=u.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+on(e.display),top:d.top,bottom:d.bottom}:Dr}for(var g=i.top-t.rect.top,v=i.bottom-t.rect.top,y=(g+v)/2,m=t.view.measure.heights,b=0;b<m.length-1&&!(y<m[b]);b++);var w=b?m[b-1]:0,E=m[b],C={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:w,bottom:E};return i.left||i.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=v),C}(e,t,r,n)).bogus||(t.cache[u]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Rr,Dr={left:0,right:0,top:0,bottom:0};function Pr(e,t,r){for(var n,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?o=1+(i=t-s):(l==e.length-3||t==u&&e[l+3]>t)&&(i=(o=u-s)-1,t>=u&&(a="right")),null!=i){if(n=e[l+2],s==u&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)n=e[2+(l-=3)],a="left";if("right"==r&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)n=e[(l+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Fr(e,t){var r=Dr;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Ur(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Mr(e){e.display.externalMeasure=null,k(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ur(e.display.view[t])}function jr(e){Mr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Hr(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Kr(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Vr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Er(e.widgets[r]));return t}function zr(e,t,r,n,i){if(!i){var o=Vr(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=zt(t);if("local"==n?a+=Sr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:Kr());var u=s.left+("window"==n?0:Hr());r.left+=u,r.right+=u}return r.top+=a,r.bottom+=a,r}function Wr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Hr(),i-=Kr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function qr(e,t,r,n,i){return n||(n=Ge(e.doc,t.line)),zr(e,n,Nr(e,n,t.ch,i),r)}function Gr(e,t,r,n,i,o){function a(t,a){var s=Or(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,zr(e,n,s,r)}n=n||Ge(e.doc,t.line),i||(i=Lr(e,n));var s=ce(n,e.doc.direction),u=t.ch,l=t.sticky;if(u>=n.text.length?(u=n.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function c(e,t,r){return a(r?e-1:e,1==s[t].level!=r)}var f=ue(s,u,l),h=se,p=c(u,f,"before"==l);return null!=h&&(p.other=c(u,h,"before"!=l)),p}function Zr(e,t){var r=0;t=ut(e.doc,t),e.options.lineWrapping||(r=on(e.display)*t.ch);var n=Ge(e.doc,t.line),i=zt(n)+Sr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Qr(e,t,r,n,i){var o=tt(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function Yr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Qr(n.first,0,null,-1,-1);var i=$e(n,r),o=n.first+n.size-1;if(i>o)return Qr(n.first+n.size-1,Ge(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Ge(n,i);;){var s=en(e,a,i,t,r),u=Ft(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!u)return s;var l=u.find(1);if(l.line==i)return l;a=Ge(n,i=l.line)}}function Xr(e,t,r,n){n-=Vr(t);var i=t.text.length,o=ae((function(t){return Or(e,r,t-1).bottom<=n}),i,0);return{begin:o,end:i=ae((function(t){return Or(e,r,t).top>n}),o,i)}}function $r(e,t,r,n){return r||(r=Lr(e,t)),Xr(e,t,r,zr(e,t,Or(e,r,n),"line").top)}function Jr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function en(e,t,r,n,i){i-=zt(t);var o=Lr(e,t),a=Vr(t),s=0,u=t.text.length,l=!0,c=ce(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?rn:tn)(e,t,r,o,c,n,i);s=(l=1!=f.level)?f.from:f.to-1,u=l?f.to:f.from-1}var h,p,d=null,g=null,v=ae((function(t){var r=Or(e,o,t);return r.top+=a,r.bottom+=a,!!Jr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(d=t,g=r),!0)}),s,u),y=!1;if(g){var m=n-g.left<g.right-n,b=m==l;v=d+(b?0:1),p=b?"after":"before",h=m?g.left:g.right}else{l||v!=u&&v!=s||v++,p=0==v?"after":v==t.text.length?"before":Or(e,o,v-(l?1:0)).bottom+a<=i==l?"after":"before";var w=Gr(e,tt(r,v,p),"line",t,o);h=w.left,y=i<w.top?-1:i>=w.bottom?1:0}return Qr(r,v=oe(t.text,v,1),p,y,n-h)}function tn(e,t,r,n,i,o,a){var s=ae((function(s){var u=i[s],l=1!=u.level;return Jr(Gr(e,tt(r,l?u.to:u.from,l?"before":"after"),"line",t,n),o,a,!0)}),0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=Gr(e,tt(r,l?u.from:u.to,l?"after":"before"),"line",t,n);Jr(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u}function rn(e,t,r,n,i,o,a){var s=Xr(e,t,n,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,f=null,h=0;h<i.length;h++){var p=i[h];if(!(p.from>=l||p.to<=u)){var d=Or(e,n,1!=p.level?Math.min(l,p.to)-1:Math.max(u,p.from)).right,g=d<o?o-d+1e9:d-o;(!c||f>g)&&(c=p,f=g)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function nn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Rr){Rr=x("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Rr.appendChild(document.createTextNode("x")),Rr.appendChild(x("br"));Rr.appendChild(document.createTextNode("x"))}I(e.measure,Rr);var r=Rr.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),k(e.measure),r||1}function on(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=x("span","xxxxxxxxxx"),r=x("pre",[t],"CodeMirror-line-like");I(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function an(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:sn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function sn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function un(e){var t=nn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/on(e.display)-3);return function(i){if(Kt(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function ln(e){var t=e.doc,r=un(e);t.iter((function(e){var t=r(e);t!=e.height&&Ye(e,t)}))}function cn(e,t,r,n){var i=e.display;if(!r&&"true"==_e(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var u,l=Yr(e,o,a);if(n&&1==l.xRel&&(u=Ge(e.doc,l.line).text).length==l.ch){var c=U(u,u.length,e.options.tabSize)-u.length;l=tt(l.line,Math.max(0,Math.round((o-Tr(e.display).left)/on(e.display))-c))}return l}function fn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function hn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)St&&jt(e.doc,t)<i.viewTo&&dn(e);else if(r<=i.viewFrom)St&&Ht(e.doc,r+n)>i.viewFrom?dn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)dn(e);else if(t<=i.viewFrom){var o=gn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):dn(e)}else if(r>=i.viewTo){var a=gn(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):dn(e)}else{var s=gn(e,t,t,-1),u=gn(e,r,r+n,1);s&&u?(i.view=i.view.slice(0,s.index).concat(or(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=n):dn(e)}var l=i.externalMeasured;l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(i.externalMeasured=null))}function pn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[fn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==j(a,r)&&a.push(r)}}}function dn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function gn(e,t,r,n){var i,o=fn(e,t),a=e.display.view;if(!St||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;jt(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function vn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function yn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(t||a!=r.sel.primIndex){var s=r.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&bn(e,s.head,i),u||En(e,s,o)}}return n}function bn(e,t,r){var n=Gr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(x("div","Â ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(x("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function wn(e,t){return e.top-t.top||e.left-t.left}function En(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=Tr(e.display),s=a.left,u=Math.max(n.sizerWidth,kr(e)-n.sizer.offsetLeft)-a.right,l="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(x("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?u-e:r)+"px;\n                             height: "+(n-t)+"px"))}function f(t,r,n){var o,a,f=Ge(i,t),h=f.text.length;function p(r,n){return qr(e,tt(t,r),"div",f,n)}function d(t,r,n){var i=$r(e,f,null,t),o="ltr"==r==("after"==n)?"left":"right";return p("after"==n?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var g=ce(f,i.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}(g,r||0,null==n?h:n,(function(e,t,i,f){var v="ltr"==i,y=p(e,v?"left":"right"),m=p(t-1,v?"right":"left"),b=null==r&&0==e,w=null==n&&t==h,E=0==f,C=!g||f==g.length-1;if(m.top-y.top<=3){var S=(l?w:b)&&C,_=(l?b:w)&&E?s:(v?y:m).left,T=S?u:(v?m:y).right;c(_,y.top,T-_,y.bottom)}else{var A,k,I,x;v?(A=l&&b&&E?s:y.left,k=l?u:d(e,i,"before"),I=l?s:d(t,i,"after"),x=l&&w&&C?u:m.right):(A=l?d(e,i,"before"):s,k=!l&&b&&E?u:y.right,I=!l&&w&&C?s:m.left,x=l?d(t,i,"after"):u),c(A,y.top,k-A,y.bottom),y.bottom<m.top&&c(s,y.bottom,null,m.top),c(I,m.top,x-I,m.bottom)}(!o||wn(y,o)<0)&&(o=y),wn(m,o)<0&&(o=m),(!a||wn(y,a)<0)&&(a=y),wn(m,a)<0&&(a=m)})),{start:o,end:a}}var h=t.from(),p=t.to();if(h.line==p.line)f(h.line,h.ch,p.ch);else{var d=Ge(i,h.line),g=Ge(i,p.line),v=Mt(d)==Mt(g),y=f(h.line,h.ch,v?d.text.length+1:null).end,m=f(p.line,v?0:null,p.ch).start;v&&(y.top<m.top-2?(c(y.right,y.top,null,y.bottom),c(s,m.top,m.left,m.bottom)):c(y.right,y.top,m.left-y.right,y.bottom)),y.bottom<m.top&&c(s,y.bottom,null,m.top)}r.appendChild(o)}function Cn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Sn(e){e.state.focused||(e.display.input.focus(),Tn(e))}function _n(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,An(e))}),100)}function Tn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ge(e,"focus",e,t),e.state.focused=!0,O(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),u&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Cn(e))}function An(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ge(e,"blur",e,t),e.state.focused=!1,A(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function kn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=e.options.lineWrapping,u=void 0,l=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;u=c-r,r=c}else{var f=i.node.getBoundingClientRect();u=f.bottom-f.top,!o&&i.text.firstChild&&(l=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var h=i.line.height-u;if((h>.005||h<-.005)&&(Ye(i.line,u),In(i.line),i.rest))for(var p=0;p<i.rest.length;p++)In(i.rest[p]);if(l>e.display.sizerWidth){var d=Math.ceil(l/on(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function In(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function xn(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Sr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=$e(t,n),a=$e(t,i);if(r&&r.ensure){var s=r.ensure.from.line,u=r.ensure.to.line;s<o?(o=s,a=$e(t,zt(Ge(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=$e(t,zt(Ge(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function Nn(e,t){var r=e.display,n=nn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Ir(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+_r(r),u=t.top<n,l=t.bottom>s-n;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,h=kr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+f-3&&(a.scrollLeft=t.right+(p?0:10)-h),a}function Bn(e,t){null!=t&&(Rn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ln(e){Rn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function On(e,t,r){null==t&&null==r||Rn(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Rn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Dn(e,Zr(e,t.from),Zr(e,t.to),t.margin))}function Dn(e,t,r,n){var i=Nn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});On(e,i.scrollLeft,i.scrollTop)}function Pn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||li(e,{top:t}),Fn(e,t,!0),r&&li(e),ii(e,100))}function Fn(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Un(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,hi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Mn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+_r(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Ar(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var jn=function(e,t,r){this.cm=r;var n=this.vert=x("div",[x("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=x("div",[x("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),he(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),he(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};jn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},jn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},jn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},jn.prototype.zeroWidthHack=function(){var e=m&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new M,this.disableVert=new M},jn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,(function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},jn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Hn=function(){};function Kn(e,t){t||(t=Mn(e));var r=e.display.barWidth,n=e.display.barHeight;Vn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&kn(e),Vn(e,Mn(e)),r=e.display.barWidth,n=e.display.barHeight}function Vn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Hn.prototype.update=function(){return{bottom:0,right:0}},Hn.prototype.setScrollLeft=function(){},Hn.prototype.setScrollTop=function(){},Hn.prototype.clear=function(){};var zn={native:jn,null:Hn};function Wn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new zn[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?Un(e,t):Pn(e,t)}),e),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)}var qn=0;function Gn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qn},t=e.curOp,ar?ar.ops.push(t):t.ownsGroup=ar={ops:[t],delayedCallbacks:[]}}function Zn(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{ar=null,t(r)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Qn(t[r]);for(var n=0;n<t.length;n++)Yn(t[n]);for(var i=0;i<t.length;i++)Xn(t[i]);for(var o=0;o<t.length;o++)$n(t[o]);for(var a=0;a<t.length;a++)Jn(t[a])}(e)}))}function Qn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ar(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ar(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&qt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ai(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Yn(e){e.updatedDisplay=e.mustUpdate&&si(e.cm,e.update)}function Xn(e){var t=e.cm,r=t.display;e.updatedDisplay&&kn(t),e.barMeasure=Mn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Nr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Ar(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-kr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function $n(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Un(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==L();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Kn(t,e.barMeasure),e.updatedDisplay&&fi(t,e.barMeasure),e.selectionChanged&&Cn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Sn(e.cm)}function Jn(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&ui(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Fn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Un(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ve(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=x("div","â",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Sr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ar(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?tt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?tt(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Gr(e,t),u=r&&r!=t?Gr(e,r):s,l=Nn(e,i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-n,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+n}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=l.scrollTop&&(Pn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Un(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(t,ut(n,e.scrollToPos.from),ut(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ge(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&ge(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ge(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ei(e,t){if(e.curOp)return t();Gn(e);try{return t()}finally{Zn(e)}}function ti(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Gn(e);try{return t.apply(e,arguments)}finally{Zn(e)}}}function ri(e){return function(){if(this.curOp)return e.apply(this,arguments);Gn(this);try{return e.apply(this,arguments)}finally{Zn(this)}}}function ni(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Gn(t);try{return e.apply(this,arguments)}finally{Zn(t)}}}function ii(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,P(oi,e))}function oi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=dt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ve(t.mode,n.state):null,u=ht(e,o,n,!0);s&&(n.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&gt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ii(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&ei(e,(function(){for(var t=0;t<i.length;t++)pn(e,i[t],"text")}))}}var ai=function(e,t,r){var n=e.display;this.viewport=t,this.visible=xn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=kr(e),this.force=r,this.dims=an(e),this.events=[]};function si(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return dn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==vn(e))return!1;pi(e)&&(dn(e),t.dims=an(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),St&&(o=jt(e.doc,o),a=Ht(e.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=or(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=or(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(fn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(or(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,fn(e,r)))),n.viewTo=r}(e,o,a),r.viewOffset=zt(Ge(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=vn(e);if(!s&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=L();if(!t||!B(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&B(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return l>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var r=t.nextSibling;return u&&m&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var l=n.view,c=n.viewFrom,f=0;f<l.length;f++){var h=l[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var p=i&&null!=t&&t<=c&&h.lineNumber;h.changes&&(j(h.changes,"gutter")>-1&&(p=!1),cr(e,h,c,r)),p&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(et(e.options,c)))),a=h.node.nextSibling}else{var d=yr(e,h,c,r);o.insertBefore(d,a)}c+=h.size}for(;a;)a=s(a)}(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=L()&&(e.activeElt.focus(),e.anchorNode&&B(document.body,e.anchorNode)&&B(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(c),k(r.cursorDiv),k(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ii(e,400)),r.updateLineNumbers=null,!0}function ui(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=kr(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+_r(e.display)-Ir(e),r.top)}),t.visible=xn(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&si(e,t);n=!1){kn(e);var i=Mn(e);yn(e),Kn(e,i),fi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function li(e,t){var r=new ai(e,t);if(si(e,r)){kn(e),ui(e,r);var n=Mn(e);yn(e),Kn(e,n),fi(e,n),r.finish()}}function ci(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function fi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ar(e)+"px"}function hi(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=sn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function pi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=et(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(x("div",[x("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ci(e.display),!0}return!1}function di(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function gi(e){var t=e.gutters,r=e.gutterSpecs;k(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=t.appendChild(x("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ci(e)}function vi(e){gi(e.display),hn(e),hi(e)}function yi(e,t,n,i){var o=this;this.input=n,o.scrollbarFiller=x("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=x("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=N("div",null,"CodeMirror-code"),o.selectionDiv=x("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=x("div",null,"CodeMirror-cursors"),o.measure=x("div",null,"CodeMirror-measure"),o.lineMeasure=x("div",null,"CodeMirror-measure"),o.lineSpace=N("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=N("div",[o.lineSpace],"CodeMirror-lines");o.mover=x("div",[l],null,"position: relative"),o.sizer=x("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=x("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),o.gutters=x("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=x("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=x("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),u||r&&y||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=di(i.gutters,i.lineNumbers),gi(o),n.init(o)}ai.prototype.signal=function(e,t){me(e,t)&&this.events.push(arguments)},ai.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ge.apply(null,this.events[e])};var mi=0,bi=null;function wi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Ei(e){var t=wi(e);return t.x*=bi,t.y*=bi,t}function Ci(e,t){var n=wi(t),i=n.x,o=n.y,a=e.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&l||o&&c){if(o&&m&&u)e:for(var h=t.target,p=a.view;h!=s;h=h.parentNode)for(var d=0;d<p.length;d++)if(p[d].node==h){e.display.currentWheelTarget=h;break e}if(i&&!r&&!f&&null!=bi)return o&&c&&Pn(e,Math.max(0,s.scrollTop+o*bi)),Un(e,Math.max(0,s.scrollLeft+i*bi)),(!o||o&&c)&&we(t),void(a.wheelStartX=null);if(o&&null!=bi){var g=o*bi,v=e.doc.scrollTop,y=v+a.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):y=Math.min(e.doc.height,y+g+50),li(e,{top:v,bottom:y})}mi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(bi=(bi*mi+r)/(mi+1),++mi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?bi=-.53:r?bi=15:c?bi=-.7:h&&(bi=-1/3);var Si=function(e,t){this.ranges=e,this.primIndex=t};Si.prototype.primary=function(){return this.ranges[this.primIndex]},Si.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!nt(r.anchor,n.anchor)||!nt(r.head,n.head))return!1}return!0},Si.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new _i(it(this.ranges[t].anchor),it(this.ranges[t].head));return new Si(e,this.primIndex)},Si.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Si.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(rt(t,n.from())>=0&&rt(e,n.to())<=0)return r}return-1};var _i=function(e,t){this.anchor=e,this.head=t};function Ti(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return rt(e.from(),t.from())})),r=j(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],u=rt(s.to(),a.from());if(n&&!a.empty()?u>0:u>=0){var l=at(s.from(),a.from()),c=ot(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new _i(f?c:l,f?l:c))}}return new Si(t,r)}function Ai(e,t){return new Si([new _i(e,t||e)],0)}function ki(e){return e.text?tt(e.from.line+e.text.length-1,Q(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ii(e,t){if(rt(e,t.from)<0)return e;if(rt(e,t.to)<=0)return ki(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=ki(t).ch-t.to.ch),tt(r,n)}function xi(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new _i(Ii(i.anchor,t),Ii(i.head,t)))}return Ti(e.cm,r,e.sel.primIndex)}function Ni(e,t,r){return e.line==t.line?tt(r.line,e.ch-t.ch+r.ch):tt(r.line+(e.line-t.line),e.ch)}function Bi(e){e.doc.mode=je(e.options,e.doc.modeOption),Li(e)}function Li(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ii(e,100),e.state.modeGen++,e.curOp&&hn(e)}function Oi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Q(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ri(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),xt(e),Nt(e,r);var i=n?n(e):1;i!=e.height&&Ye(e,i)}(e,r,i,n),ur(e,"change",e,t)}function a(e,t){for(var r=[],o=e;o<t;++o)r.push(new Gt(l[o],i(o),n));return r}var s=t.from,u=t.to,l=t.text,c=Ge(e,s.line),f=Ge(e,u.line),h=Q(l),p=i(l.length-1),d=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(Oi(e,t)){var g=a(0,l.length-1);o(f,f.text,p),d&&e.remove(s.line,d),g.length&&e.insert(s.line,g)}else if(c==f)if(1==l.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(u.ch),p);else{var v=a(1,l.length-1);v.push(new Gt(h+c.text.slice(u.ch),p,n)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,v)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(f,h+f.text.slice(u.ch),p);var y=a(1,l.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,y)}ur(e,"change",e,t)}function Di(e,t,r){!function e(n,i,o){if(n.linked)for(var a=0;a<n.linked.length;++a){var s=n.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;r&&!u||(t(s.doc,u),e(s.doc,n,u))}}}(e,null,!0)}function Pi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ln(e),Bi(e),Fi(e),e.options.lineWrapping||qt(e),e.options.mode=t.modeOption,hn(e)}function Fi(e){("rtl"==e.doc.direction?O:A)(e.display.lineDiv,"CodeMirror-rtl")}function Ui(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Mi(e,t){var r={from:it(t.from),to:ki(t),text:Ze(e,t.from,t.to)};return zi(e,r,t.from.line,t.to.line+1),Di(e,(function(e){return zi(e,r,t.from.line,t.to.line+1)}),!0),r}function ji(e){for(;e.length&&Q(e).ranges;)e.pop()}function Hi(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(ji(e.done),Q(e.done)):e.done.length&&!Q(e.done).ranges?Q(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Q(e.done)):void 0}(i,i.lastOp==n)))a=Q(o.changes),0==rt(t.from,t.to)&&0==rt(t.from,a.to)?a.to=ki(t):o.changes.push(Mi(e,t));else{var u=Q(i.done);for(u&&u.ranges||Vi(e.sel,i.done),o={changes:[Mi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||ge(e,"historyAdded")}function Ki(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Q(i.done),t))?i.done[i.done.length-1]=t:Vi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&ji(i.undone)}function Vi(e,t){var r=Q(t);r&&r.ranges&&r.equals(e)||t.push(e)}function zi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o}))}function Wi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function qi(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Wi(r[i]));return n}(e,t),n=kt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(r[i]=a)}return r}function Gi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?Si.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&j(t,Number(c[1]))>-1&&(Q(s)[f]=l[f],delete l[f])}}}return n}function Zi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=rt(t,i)<0;o!=rt(r,i)<0?(i=t,t=r):o!=rt(t,r)<0&&(t=r)}return new _i(i,t)}return new _i(r||t,t)}function Qi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),eo(e,new Si([Zi(e.sel.primary(),t,r,i)],0),n)}function Yi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Zi(e.sel.ranges[o],t[o],null,i);eo(e,Ti(e.cm,n,e.sel.primIndex),r)}function Xi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,eo(e,Ti(e.cm,i,e.sel.primIndex),n)}function $i(e,t,r,n){eo(e,Ai(t,r),n)}function Ji(e,t,r){var n=e.history.done,i=Q(n);i&&i.ranges?(n[n.length-1]=t,to(e,t,r)):eo(e,t,r)}function eo(e,t,r){to(e,t,r),Ki(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function to(e,t,r){(me(e,"beforeSelectionChange")||e.cm&&me(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new _i(ut(e,t[r].anchor),ut(e,t[r].head))},origin:r&&r.origin};return ge(e,"beforeSelectionChange",e,n),e.cm&&ge(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Ti(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(rt(t.primary().head,e.sel.primary().head)<0?-1:1);ro(e,io(e,t,n,!0)),r&&!1===r.scroll||!e.cm||Ln(e.cm)}function ro(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ye(e.cm)),ur(e,"cursorActivity",e))}function no(e){ro(e,io(e,e.sel,null,!1))}function io(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=ao(e,a.anchor,s&&s.anchor,r,n),l=ao(e,a.head,s&&s.head,r,n);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new _i(u,l))}return i?Ti(e.cm,i,t.primIndex):t}function oo(e,t,r,n,i){var o=Ge(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker,l="selectLeft"in u?!u.selectLeft:u.inclusiveLeft,c="selectRight"in u?!u.selectRight:u.inclusiveRight;if((null==s.from||(l?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(ge(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(r){var f=u.find(n<0?1:-1),h=void 0;if((n<0?c:l)&&(f=so(e,f,-n,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(h=rt(f,r))&&(n<0?h<0:h>0))return oo(e,f,t,n,i)}var p=u.find(n<0?-1:1);return(n<0?l:c)&&(p=so(e,p,n,p.line==t.line?o:null)),p?oo(e,p,t,n,i):null}}return t}function ao(e,t,r,n,i){var o=n||1,a=oo(e,t,r,o,i)||!i&&oo(e,t,r,o,!0)||oo(e,t,r,-o,i)||!i&&oo(e,t,r,-o,!0);return a||(e.cantEdit=!0,tt(e.first,0))}function so(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ut(e,tt(t.line-1)):null:r>0&&t.ch==(n||Ge(e,t.line)).text.length?t.line<e.first+e.size-1?tt(t.line+1,0):null:new tt(t.line,t.ch+r)}function uo(e){e.setSelection(tt(e.firstLine(),0),tt(e.lastLine()),V)}function lo(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=ut(e,t)),r&&(n.to=ut(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),ge(e,"beforeChange",e,n),e.cm&&ge(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function co(e,t,r){if(e.cm){if(!e.cm.curOp)return ti(e.cm,co)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(me(e,"beforeChange")||e.cm&&me(e.cm,"beforeChange"))||(t=lo(e,t,!0))){var n=Ct&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=j(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(rt(l.to,s.from)<0||rt(l.from,s.to)>0)){var c=[u,1],f=rt(l.from,s.from),h=rt(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)fo(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else fo(e,t)}}function fo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=rt(t.from,t.to)){var r=xi(e,t);Hi(e,t,r,e.cm?e.cm.curOp.id:NaN),go(e,t,r,kt(e,t));var n=[];Di(e,(function(e,r){r||-1!=j(n,e.history)||(bo(e.history,t),n.push(e.history)),go(e,t,null,kt(e,t))}))}}function ho(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,u="undo"==t?o.undone:o.done,l=0;l<s.length&&(i=s[l],r?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Vi(i,u),r&&!i.equals(e.sel))return void eo(e,i,{clearRedo:!1});a=i}var c=[];Vi(a,u),u.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=me(e,"beforeChange")||e.cm&&me(e.cm,"beforeChange"),h=function(r){var n=i.changes[r];if(n.origin=t,f&&!lo(e,n,!1))return s.length=0,{};c.push(Mi(e,n));var o=r?xi(e,n):Q(s);go(e,n,o,qi(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:ki(n)});var a=[];Di(e,(function(e,t){t||-1!=j(a,e.history)||(bo(e.history,n),a.push(e.history)),go(e,n,null,qi(e,n))}))},p=i.changes.length-1;p>=0;--p){var d=h(p);if(d)return d.v}}}}function po(e,t){if(0!=t&&(e.first+=t,e.sel=new Si(Y(e.sel.ranges,(function(e){return new _i(tt(e.anchor.line+t,e.anchor.ch),tt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){hn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)pn(e.cm,n,"gutter")}}function go(e,t,r,n){if(e.cm&&!e.cm.curOp)return ti(e.cm,go)(e,t,r,n);if(t.to.line<e.first)po(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);po(e,i),t={from:tt(e.first,0),to:tt(t.to.line+i,t.to.ch),text:[Q(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:tt(o,Ge(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ze(e,t.from,t.to),r||(r=xi(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=Xe(Mt(Ge(n,o.line))),n.iter(u,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&ye(e),Ri(n,t,r,un(e)),e.options.lineWrapping||(n.iter(u,o.line+t.text.length,(function(e){var t=Wt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Ge(e,n).stateAfter;if(i&&(!(i instanceof ct)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,o.line),ii(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?hn(e):o.line!=a.line||1!=t.text.length||Oi(e.doc,t)?hn(e,o.line,a.line+1,l):pn(e,o.line,"text");var c=me(e,"changes"),f=me(e,"change");if(f||c){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&ur(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,n):Ri(e,t,n),to(e,r,V),e.cantEdit&&ao(e,tt(e.firstLine(),0))&&(e.cantEdit=!1)}}function vo(e,t,r,n,i){var o;n||(n=r),rt(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),co(e,{from:r,to:n,text:t,origin:i})}function yo(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function mo(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)yo(o.ranges[s].anchor,t,r,n),yo(o.ranges[s].head,t,r,n)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(r<l.from.line)l.from=tt(l.from.line+n,l.from.ch),l.to=tt(l.to.line+n,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function bo(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;mo(e.done,r,n,i),mo(e.undone,r,n,i)}function wo(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Ge(e,st(e,t)):i=Xe(t),null==i?null:(n(o,i)&&e.cm&&pn(e.cm,i,r),o)}function Eo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function Co(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}_i.prototype.from=function(){return at(this.anchor,this.head)},_i.prototype.to=function(){return ot(this.anchor,this.head)},_i.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Eo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Zt(i),ur(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},Co.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Eo))){var s=[];this.collapse(s),this.children=[new Eo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new Eo(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++n,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Co(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=j(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new Co(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var So=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function _o(e,t,r){zt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Bn(e,r)}So.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Xe(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Er(this);Ye(r,Math.max(0,r.height-o)),e&&(ei(e,(function(){_o(e,r,-o),pn(e,n,"widget")})),ur(e,"lineWidgetCleared",e,this,n))}},So.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Er(this)-t;i&&(Kt(this.doc,n)||Ye(n,n.height+i),r&&ei(r,(function(){r.curOp.forceUpdate=!0,_o(r,n,i),ur(r,"lineWidgetChanged",r,e,Xe(n))})))},be(So);var To=0,Ao=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++To};function ko(e,t,r,n,i){if(n&&n.shared)return function(e,t,r,n,i){(n=F(n)).shared=!1;var o=[ko(e,t,r,n,i)],a=o[0],s=n.widgetNode;return Di(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(ko(e,ut(e,t),ut(e,r),n,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=Q(o)})),new Io(o,a)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return ti(e.cm,ko)(e,t,r,n,i);var o=new Ao(e,i),a=rt(t,r);if(n&&F(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=N("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ut(e,t.line,t,r,o)||t.line!=r.line&&Ut(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");St=!0}o.addToHistory&&Hi(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,u=t.line,l=e.cm;if(e.iter(u,r.line+1,(function(e){l&&o.collapsed&&!l.options.lineWrapping&&Mt(e)==l.display.maxLine&&(s=!0),o.collapsed&&u!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new _t(o,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u})),o.collapsed&&e.iter(t.line,r.line+1,(function(t){Kt(e,t)&&Ye(t,0)})),o.clearOnEnter&&he(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Ct=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++To,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)hn(l,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=r.line;c++)pn(l,c,"text");o.atomic&&no(l.doc),ur(l,"markerAdded",l,o)}return o}Ao.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Gn(e),me(this,"clear")){var r=this.find();r&&ur(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Tt(a.markedSpans,this);e&&!this.collapsed?pn(e,Xe(a),"text"):e&&(null!=s.to&&(i=Xe(a)),null!=s.from&&(n=Xe(a))),a.markedSpans=At(a.markedSpans,s),null==s.from&&this.collapsed&&!Kt(this.doc,a)&&e&&Ye(a,nn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=Mt(this.lines[u]),c=Wt(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&hn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&no(e.doc)),e&&ur(e,"markerCleared",e,this,n,i),t&&Zn(e),this.parent&&this.parent.clear()}},Ao.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Tt(o.markedSpans,this);if(null!=a.from&&(r=tt(t?o:Xe(o),a.from),-1==e))return r;if(null!=a.to&&(n=tt(t?o:Xe(o),a.to),1==e))return n}return r&&{from:r,to:n}},Ao.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&ei(n,(function(){var i=t.line,o=Xe(t.line),a=Br(n,o);if(a&&(Ur(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Kt(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var u=Er(r)-s;u&&Ye(i,i.height+u)}ur(n,"markerChanged",n,e)}))},Ao.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=j(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ao.prototype.detachLine=function(e){if(this.lines.splice(j(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},be(Ao);var Io=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function xo(e){return e.findMarks(tt(e.first,0),e.clipPos(tt(e.lastLine())),(function(e){return e.parent}))}function No(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Di(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==j(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}Io.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ur(this,"clear")}},Io.prototype.find=function(e,t){return this.primary.find(e,t)},be(Io);var Bo=0,Lo=function(e,t,r,n,i){if(!(this instanceof Lo))return new Lo(e,t,r,n,i);null==r&&(r=0),Co.call(this,[new Eo([new Gt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=tt(r,0);this.sel=Ai(o),this.history=new Ui(null),this.id=++Bo,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ri(this,{from:o,to:o,text:e}),eo(this,Ai(o),V)};Lo.prototype=$(Co.prototype,{constructor:Lo,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ni((function(e){var t=tt(this.first,0),r=this.first+this.size-1;co(this,{from:t,to:tt(r,Ge(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&On(this.cm,0,0),eo(this,Ai(t),V)})),replaceRange:function(e,t,r,n){vo(this,e,t=ut(this,t),r=r?ut(this,r):t,n)},getRange:function(e,t,r){var n=Ze(this,ut(this,e),ut(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Je(this,e))return Ge(this,e)},getLineNumber:function(e){return Xe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ge(this,e)),Mt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ut(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni((function(e,t,r){$i(this,ut(this,"number"==typeof e?tt(e,t||0):e),null,r)})),setSelection:ni((function(e,t,r){$i(this,ut(this,e),ut(this,t||e),r)})),extendSelection:ni((function(e,t,r){Qi(this,ut(this,e),t&&ut(this,t),r)})),extendSelections:ni((function(e,t){Yi(this,lt(this,e),t)})),extendSelectionsBy:ni((function(e,t){Yi(this,lt(this,Y(this.sel.ranges,e)),t)})),setSelections:ni((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new _i(ut(this,e[i].anchor),ut(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),eo(this,Ti(this.cm,n,t),r)}})),addSelection:ni((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new _i(ut(this,e),ut(this,t||e))),eo(this,Ti(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Ze(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Ze(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:ni((function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],i=tt(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=Ni(s.from,i,o),l=Ni(ki(s),i,o);if(i=s.to,o=l,"around"==r){var c=e.sel.ranges[a],f=rt(c.head,c.anchor)<0;n[a]=new _i(f?l:u,f?u:l)}else n[a]=new _i(u,u)}return new Si(n,e.sel.primIndex)}(this,n,t),u=n.length-1;u>=0;u--)co(this,n[u]);s?Ji(this,s):this.cm&&Ln(this.cm)})),undo:ni((function(){ho(this,"undo")})),redo:ni((function(){ho(this,"redo")})),undoSelection:ni((function(){ho(this,"undo",!0)})),redoSelection:ni((function(){ho(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new Ui(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Gi(this.history.done),undone:Gi(this.history.undone)}},setHistory:function(e){var t=this.history=new Ui(this.history.maxGeneration);t.done=Gi(e.done.slice(0),null,!0),t.undone=Gi(e.undone.slice(0),null,!0)},setGutterMarker:ni((function(e,t,r){return wo(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&re(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:ni((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&wo(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,re(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Je(this,e))return null;if(t=e,!(e=Ge(this,e)))return null}else if(null==(t=Xe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ni((function(e,t,r){return wo(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(_(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:ni((function(e,t,r){return wo(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(_(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:ni((function(e,t,r){return function(e,t,r,n){var i=new So(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),wo(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Kt(e,t)){var n=zt(t)<e.scrollTop;Ye(t,t.height+Er(i)),n&&Bn(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&ur(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Xe(t)),i}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return ko(this,ut(this,e),ut(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ko(this,e=ut(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Ge(this,(e=ut(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ut(this,e),t=ut(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||r&&!r(u.marker)||n.push(u.marker.parent||u.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r})),ut(this,tt(r,t))},indexFromPos:function(e){var t=(e=ut(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Lo(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Lo(Qe(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(rt(o,a)){var s=ko(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,xo(this)),n},unlinkDoc:function(e){if(e instanceof Ia&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),No(xo(this));break}if(e.history==this.history){var r=[e.id];Di(e,(function(e){return r.push(e.id)}),!0),e.history=new Ui(null),e.history.done=Gi(this.history.done,r),e.history.undone=Gi(this.history.undone,r)}},iterLinkedDocs:function(e){Di(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Le(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ei(t=this.cm,(function(){Fi(t),hn(t)})))}))}),Lo.prototype.eachLine=Lo.prototype.iter;var Oo=0;function Ro(e){var t=this;if(Do(t),!ve(t,e)&&!Cr(t.display,e)){we(e),a&&(Oo=+new Date);var r=cn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,u=function(e,n){if(!t.options.allowDropFileTypes||-1!=j(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=ti(t,(function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++s==i){var u={from:r=ut(t.doc,r),to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};co(t.doc,u),Ji(t.doc,Ai(r,ki(u)))}})),a.readAsText(e)}},l=0;l<i;++l)u(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var c=e.dataTransfer.getData("Text");if(c){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),to(t.doc,Ai(r,r)),f)for(var h=0;h<f.length;++h)vo(t.doc,"",f[h].anchor,f[h].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Do(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Po(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Fo=!1;function Uo(){var e;Fo||(he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Po(Mo)}),100))})),he(window,"blur",(function(){return Po(An)})),Fo=!0)}function Mo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ho=0;Ho<10;Ho++)jo[Ho+48]=jo[Ho+96]=String(Ho);for(var Ko=65;Ko<=90;Ko++)jo[Ko]=String.fromCharCode(Ko);for(var Vo=1;Vo<=12;Vo++)jo[Vo+111]=jo[Vo+63235]="F"+Vo;var zo={};function Wo(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function qo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Y(r.split(" "),Wo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var l in t)e[l]=t[l];return e}function Go(e,t,r,n){var i=(t=Xo(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Go(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=Go(e,t.fallthrough[o],r,n);if(a)return a}}}function Zo(e){var t="string"==typeof e?e:jo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Qo(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Yo(e,t){if(f&&34==e.keyCode&&e.char)return!1;var r=jo[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Qo(r,e,t))}function Xo(e){return"string"==typeof e?zo[e]:e}function $o(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&rt(o.from,Q(n).to)<=0;){var a=n.pop();if(rt(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}ei(e,(function(){for(var t=n.length-1;t>=0;t--)vo(e.doc,"",n[t].from,n[t].to,"+delete");Ln(e)}))}function Jo(e,t,r){var n=oe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function ea(e,t,r){var n=Jo(e,t.ch,r);return null==n?null:new tt(t.line,n,r<0?"after":"before")}function ta(e,t,r,n,i){if(e){var o=ce(r,t.doc.direction);if(o){var a,s=i<0?Q(o):o[0],u=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var l=Lr(t,r);a=i<0?r.text.length-1:0;var c=Or(t,l,a).top;a=ae((function(e){return Or(t,l,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Jo(r,a,1))}else a=i<0?s.to:s.from;return new tt(n,a,u)}}return new tt(n,i<0?r.text.length:0,i<0?"before":"after")}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=m?zo.macDefault:zo.pcDefault;var ra={selectAll:uo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return $o(e,(function(t){if(t.empty()){var r=Ge(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:tt(t.head.line+1,0)}:{from:t.head,to:tt(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return $o(e,(function(t){return{from:tt(t.from().line,0),to:ut(e.doc,tt(t.to().line+1,0))}}))},delLineLeft:function(e){return $o(e,(function(e){return{from:tt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return $o(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return $o(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(tt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(tt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return na(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ia(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var r=Ge(e.doc,t),n=function(e){for(var t;t=Pt(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=Xe(n)),ta(!0,e,r,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?ia(e,t.head):n}),W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=U(e.getLine(o.line),o.ch,n);t.push(Z(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ei(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Ge(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new tt(i.line,i.ch-1)),i.ch>0)i=new tt(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),tt(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Ge(e.doc,i.line-1).text;a&&(i=new tt(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),tt(i.line-1,a.length-1),i,"+transpose"))}r.push(new _i(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return ei(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Ln(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function na(e,t){var r=Ge(e.doc,t),n=Mt(r);return n!=r&&(t=Xe(n)),ta(!0,e,n,t,1)}function ia(e,t){var r=na(e,t.line),n=Ge(e.doc,r.line),i=ce(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return tt(r.line,a?0:o,r.sticky)}return r}function oa(e,t,r){if("string"==typeof t&&!(t=ra[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=K}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var aa=new M;function sa(e,t,r,n){var i=e.state.keySeq;if(i){if(Zo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:aa.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ua(e,i+" "+t,r,n))return!0}return ua(e,t,r,n)}function ua(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Go(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Go(t,e.options.extraKeys,r,e)||Go(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&ur(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(we(r),Cn(e)),!!i}function la(e,t){var r=Yo(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?sa(e,"Shift-"+r,t,(function(t){return oa(e,t,!0)}))||sa(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return oa(e,t)})):sa(e,r,t,(function(t){return oa(e,t)})))}var ca=null;function fa(e){var t=this;if(t.curOp.focus=L(),!ve(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=la(t,e);f&&(ca=n?r:null,!n&&88==r&&!Re&&(m?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(A(t,"CodeMirror-crosshair"),de(document,"keyup",r),de(document,"mouseover",r))}O(t,"CodeMirror-crosshair"),he(document,"keyup",r),he(document,"mouseover",r)}(t)}}function ha(e){16==e.keyCode&&(this.doc.sel.shift=!1),ve(this,e)}function pa(e){var t=this;if(!(Cr(t.display,e)||ve(t,e)||e.ctrlKey&&!e.altKey||m&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(f&&r==ca)return ca=null,void we(e);if(!f||e.which&&!(e.which<10)||!la(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(e,t,r){return sa(e,"'"+r+"'",t,(function(t){return oa(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var da,ga,va=function(e,t,r){this.time=e,this.pos=t,this.button=r};function ya(e){var t=this,r=t.display;if(!(ve(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Cr(r,e))u||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!wa(t,e)){var n=cn(t,e),i=Te(e),o=n?function(e,t){var r=+new Date;return ga&&ga.compare(r,e,t)?(da=ga=null,"triple"):da&&da.compare(r,e,t)?(ga=new va(r,e,t),da=null,"double"):(da=new va(r,e,t),ga=null,"single")}(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),sa(e,Qo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=ra[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=K}finally{e.state.suppressEdits=!1}return n}))}(t,i,n,o,e)||(1==i?n?function(e,t,r,n){a?setTimeout(P(Sn,e),0):e.curOp.focus=L();var i,o=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=m?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(m?r.altKey:r.ctrlKey)),i}(e,r,n),l=e.doc.sel;e.options.dragDrop&&Ie&&!e.isReadOnly()&&"single"==r&&(i=l.contains(t))>-1&&(rt((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(rt(i.to(),t)>0||t.xRel<0)?function(e,t,r,n){var i=e.display,o=!1,l=ti(e,(function(t){u&&(i.scroller.draggable=!1),e.state.draggingText=!1,de(i.wrapper.ownerDocument,"mouseup",l),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",f),de(i.scroller,"drop",l),o||(we(t),n.addNew||Qi(e.doc,r,null,null,n.extend),u||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};u&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),he(i.wrapper.ownerDocument,"mouseup",l),he(i.wrapper.ownerDocument,"mousemove",c),he(i.scroller,"dragstart",f),he(i.scroller,"drop",l),_n(e),setTimeout((function(){return i.input.focus()}),20)}(e,n,t,o):function(e,t,r,n){var i=e.display,o=e.doc;we(t);var a,s,u=o.sel,l=u.ranges;if(n.addNew&&!n.extend?(s=o.sel.contains(r),a=s>-1?l[s]:new _i(r,r)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(a=new _i(r,r)),r=cn(e,t,!0,!0),s=-1;else{var c=ma(e,r,n.unit);a=n.extend?Zi(a,c.anchor,c.head,n.extend):c}n.addNew?-1==s?(s=l.length,eo(o,Ti(e,l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==n.unit&&!n.extend?(eo(o,Ti(e,l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Xi(o,s,a,z):(s=0,eo(o,new Si([a],0),z),u=o.sel);var f=r;function h(t){if(0!=rt(f,t))if(f=t,"rectangle"==n.unit){for(var i=[],l=e.options.tabSize,c=U(Ge(o,r.line).text,r.ch,l),h=U(Ge(o,t.line).text,t.ch,l),p=Math.min(c,h),d=Math.max(c,h),g=Math.min(r.line,t.line),v=Math.min(e.lastLine(),Math.max(r.line,t.line));g<=v;g++){var y=Ge(o,g).text,m=q(y,p,l);p==d?i.push(new _i(tt(g,m),tt(g,m))):y.length>m&&i.push(new _i(tt(g,m),tt(g,q(y,d,l))))}i.length||i.push(new _i(r,r)),eo(o,Ti(e,u.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,E=ma(e,t,n.unit),C=w.anchor;rt(E.anchor,C)>0?(b=E.head,C=at(w.from(),E.anchor)):(b=E.anchor,C=ot(w.to(),E.head));var S=u.ranges.slice(0);S[s]=function(e,t){var r=t.anchor,n=t.head,i=Ge(e.doc,r.line);if(0==rt(r,n)&&r.sticky==n.sticky)return t;var o=ce(i);if(!o)return t;var a=ue(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var u,l=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ue(o,n.ch,n.sticky),f=c-a||(n.ch-r.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var h=o[l+(u?-1:0)],p=u==(1==h.level),d=p?h.from:h.to,g=p?"after":"before";return r.ch==d&&r.sticky==g?t:new _i(new tt(r.line,d,g),n)}(e,new _i(ut(o,C),b)),eo(o,Ti(e,S,s),z)}}var p=i.wrapper.getBoundingClientRect(),d=0;function g(t){e.state.selectingText=!1,d=1/0,t&&(we(t),i.input.focus()),de(i.wrapper.ownerDocument,"mousemove",v),de(i.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var v=ti(e,(function(t){0!==t.buttons&&Te(t)?function t(r){var a=++d,s=cn(e,r,!0,"rectangle"==n.unit);if(s)if(0!=rt(s,f)){e.curOp.focus=L(),h(s);var u=xn(i,o);(s.line>=u.to||s.line<u.from)&&setTimeout(ti(e,(function(){d==a&&t(r)})),150)}else{var l=r.clientY<p.top?-20:r.clientY>p.bottom?20:0;l&&setTimeout(ti(e,(function(){d==a&&(i.scroller.scrollTop+=l,t(r))})),50)}}(t):g(t)})),y=ti(e,g);e.state.selectingText=y,he(i.wrapper.ownerDocument,"mousemove",v),he(i.wrapper.ownerDocument,"mouseup",y)}(e,n,t,o)}(t,n,o,e):_e(e)==r.scroller&&we(e):2==i?(n&&Qi(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(S?t.display.input.onContextMenu(e):_n(t)))}}function ma(e,t,r){if("char"==r)return new _i(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new _i(tt(t.line,0),ut(e.doc,tt(t.line+1,0)));var n=r(e,t);return new _i(n.from,n.to)}function ba(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&we(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!me(e,r))return Ce(t);o-=s.top-a.viewOffset;for(var u=0;u<e.display.gutterSpecs.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i)return ge(e,r,e,$e(e.doc,o),e.display.gutterSpecs[u].className,t),Ce(t)}}function wa(e,t){return ba(e,t,"gutterClick",!0)}function Ea(e,t){Cr(e.display,t)||function(e,t){return!!me(e,"gutterContextMenu")&&ba(e,t,"gutterContextMenu",!1)}(e,t)||ve(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Ca(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jr(e)}va.prototype.compare=function(e,t,r){return this.time+400>e&&0==rt(t,this.pos)&&r==this.button};var Sa={toString:function(){return"CodeMirror.Init"}},_a={},Ta={};function Aa(e,t,r){if(!t!=!(r&&r!=Sa)){var n=e.display.dragFunctions,i=t?he:de;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function ka(e){e.options.lineWrapping?(O(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(A(e.display.wrapper,"CodeMirror-wrap"),qt(e)),ln(e),hn(e),jr(e),setTimeout((function(){return Kn(e)}),100)}function Ia(e,t){var r=this;if(!(this instanceof Ia))return new Ia(e,t);this.options=t=t?F(t):{},F(_a,t,!1);var n=t.value;"string"==typeof n?n=new Lo(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Ia.inputStyles[t.inputStyle](this),o=this.display=new yi(e,n,i,t);for(var l in o.wrapper.CodeMirror=this,Ca(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new M,keySeq:null,specialChars:null},t.autofocus&&!y&&o.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;he(t.scroller,"mousedown",ti(e,ya)),he(t.scroller,"dblclick",a&&s<11?ti(e,(function(t){if(!ve(e,t)){var r=cn(e,t);if(r&&!wa(e,t)&&!Cr(e.display,t)){we(t);var n=e.findWordAt(r);Qi(e.doc,n.anchor,n.head)}}})):function(t){return ve(e,t)||we(t)}),he(t.scroller,"contextmenu",(function(t){return Ea(e,t)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}he(t.scroller,"touchstart",(function(i){if(!ve(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!wa(e,i)){t.input.ensurePolled(),clearTimeout(r);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!Cr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!n.prev||o(n,n.prev)?new _i(s,s):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(s):new _i(tt(s.line,0),ut(e.doc,tt(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),we(r)}i()})),he(t.scroller,"touchcancel",i),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Pn(e,t.scroller.scrollTop),Un(e,t.scroller.scrollLeft,!0),ge(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return Ci(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return Ci(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ve(e,t)||Se(t)},over:function(t){ve(e,t)||(function(e,t){var r=cn(e,t);if(r){var n=document.createDocumentFragment();bn(e,r,n),e.display.dragCursor||(e.display.dragCursor=x("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),I(e.display.dragCursor,n)}}(e,t),Se(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-Oo<100))Se(t);else if(!ve(e,t)&&!Cr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var r=x("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),f&&r.parentNode.removeChild(r)}}(e,t)},drop:ti(e,Ro),leave:function(t){ve(e,t)||Do(e)}};var u=t.input.getField();he(u,"keyup",(function(t){return ha.call(e,t)})),he(u,"keydown",ti(e,fa)),he(u,"keypress",ti(e,pa)),he(u,"focus",(function(t){return Tn(e,t)})),he(u,"blur",(function(t){return An(e,t)}))}(this),Uo(),Gn(this),this.curOp.forceUpdate=!0,Pi(this,n),t.autofocus&&!y||this.hasFocus()?setTimeout(P(Tn,this),20):An(this),Ta)Ta.hasOwnProperty(l)&&Ta[l](r,t[l],Sa);pi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<xa.length;++c)xa[c](r);Zn(this),u&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ia.defaults=_a,Ia.optionHandlers=Ta;var xa=[];function Na(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=dt(e,t).state:r="prev");var a=e.options.tabSize,s=Ge(o,t),u=U(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((l=o.mode.indent(i,s.text.slice(c.length),s.text))==K||l>150)){if(!n)return;r="prev"}}else l=0,r="not";"prev"==r?l=t>o.first?U(Ge(o,t-1).text,null,a):0:"add"==r?l=u+e.options.indentUnit:"subtract"==r?l=u-e.options.indentUnit:"number"==typeof r&&(l=u+r),l=Math.max(0,l);var f="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/a);p;--p)h+=a,f+="\t";if(h<l&&(f+=Z(l-h)),f!=c)return vo(o,f,tt(t,0),tt(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var g=o.sel.ranges[d];if(g.head.line==t&&g.head.ch<c.length){var v=tt(t,c.length);Xi(o,d,new _i(v,v));break}}}Ia.defineInitHook=function(e){return xa.push(e)};var Ba=null;function La(e){Ba=e}function Oa(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,u=Le(t),l=null;if(s&&n.ranges.length>1)if(Ba&&Ba.text.join("\n")==t){if(n.ranges.length%Ba.text.length==0){l=[];for(var c=0;c<Ba.text.length;c++)l.push(o.splitLines(Ba.text[c]))}}else u.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(l=Y(u,(function(e){return[e]})));for(var f=e.curOp.updateInput,h=n.ranges.length-1;h>=0;h--){var p=n.ranges[h],d=p.from(),g=p.to();p.empty()&&(r&&r>0?d=tt(d.line,d.ch-r):e.state.overwrite&&!s?g=tt(g.line,Math.min(Ge(o,g.line).text.length,g.ch+Q(u).length)):s&&Ba&&Ba.lineWise&&Ba.text.join("\n")==t&&(d=g=tt(d.line,0)));var v={from:d,to:g,text:l?l[h%l.length]:u,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};co(e.doc,v),ur(e,"inputRead",e,v)}t&&!s&&Da(e,t),Ln(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ra(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||ei(t,(function(){return Oa(t,r,0,null,"paste")})),!0}function Da(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Na(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ge(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Na(e,i.head.line,"smart"));a&&ur(e,"electricInput",e,i.head.line)}}}function Pa(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:tt(i,0),head:tt(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Fa(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Ua(){var e=x("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=x("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Fa(e),t}function Ma(e,t,r,n,i){var o=t,a=r,s=Ge(e,t.line);function u(n){var o,a;if(null==(o=i?function(e,t,r,n){var i=ce(t,e.doc.direction);if(!i)return ea(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=ue(i,r.ch,r.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return ea(t,r,n);var s,u=function(e,r){return Jo(t,e instanceof tt?e.ch:e,r)},l=function(r){return e.options.lineWrapping?(s=s||Lr(e,t),$r(e,t,s,r)):{begin:0,end:t.text.length}},c=l("before"==r.sticky?u(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==n<0,h=u(r,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var p=f?"before":"after";return new tt(r.line,h,p)}}var d=function(e,t,n){for(var o=function(e,t){return t?new tt(r.line,u(e,1),"before"):new tt(r.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),l=s?n.begin:u(n.end,-1);if(a.from<=l&&l<a.to)return o(l,s);if(l=s?a.from:u(a.to,-1),n.begin<=l&&l<n.end)return o(l,s)}},g=d(o+n,n,c);if(g)return g;var v=n>0?c.end:u(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=d(n>0?0:i.length-1,n,l(v)))?null:g}(e.cm,s,t,r):ea(s,t,r))){if(n||(a=t.line+r)<e.first||a>=e.first+e.size||(t=new tt(a,t.ch,t.sticky),!(s=Ge(e,a))))return!1;t=ta(i,e.cm,s,t.line,r)}else t=o;return!0}if("char"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var l=null,c="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(r<0)||u(!h);h=!1){var p=s.text.charAt(t.ch)||"\n",d=te(p,f)?"w":c&&"\n"==p?"n":!c||/\s/.test(p)?null:"p";if(!c||h||d||(d="s"),l&&l!=d){r<0&&(r=1,u(),t.sticky="after");break}if(d&&(l=d),r>0&&!u(!h))break}var g=ao(e,t,o,a,!0);return nt(o,g)&&(g.hitSide=!0),g}function ja(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*nn(e.display),3);i=(r>0?t.bottom:t.top)+r*l}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=Yr(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var Ha=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new M,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ka(e,t){var r=Br(e,t.line);if(!r||r.hidden)return null;var n=Ge(e.doc,t.line),i=xr(r,n,t.line),o=ce(n,e.doc.direction),a="left";o&&(a=ue(o,t.ch)%2?"right":"left");var s=Pr(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Va(e,t){return t&&(e.bad=!0),e}function za(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Va(e.clipPos(tt(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return Wa(o,t,r)}}function Wa(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!B(n,t))return Va(tt(Xe(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?Q(e.rest):e.line;return Va(tt(Xe(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var u=e.measure,l=u.maps;function c(t,r,n){for(var i=-1;i<(l?l.length:0);i++)for(var o=i<0?u.map:l[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==r){var c=Xe(i<0?e.line:e.rest[i]),f=o[a]+n;return(n<0||s!=t)&&(f=o[a+(n?1:0)]),tt(c,f)}}}var f=c(a,s,r);if(f)return Va(f,i);for(var h=s.nextSibling,p=a?a.nodeValue.length-r:0;h;h=h.nextSibling){if(f=c(h,h.firstChild,0))return Va(tt(f.line,f.ch-p),i);p+=h.textContent.length}for(var d=s.previousSibling,g=r;d;d=d.previousSibling){if(f=c(d,d.firstChild,-1))return Va(tt(f.line,f.ch+g),i);g+=d.textContent.length}}Ha.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){if(!ve(n,e)){if(n.somethingSelected())La({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Pa(n);La({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,V),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Ba.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=Ua(),s=a.firstChild;n.display.lineSpace.insertBefore(a,n.display.lineSpace.firstChild),s.value=Ba.text.join("\n");var u=document.activeElement;D(s),setTimeout((function(){n.display.lineSpace.removeChild(a),u.focus(),u==i&&r.showPrimarySelection()}),50)}}Fa(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),he(i,"paste",(function(e){ve(n,e)||Ra(e,n)||s<=11&&setTimeout(ti(n,(function(){return t.updateFromDOM()})),20)})),he(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(i,"touchstart",(function(){return r.forceCompositionEnd()})),he(i,"input",(function(){t.composing||t.readFromDOMSoon()})),he(i,"copy",o),he(i,"cut",o)},Ha.prototype.prepareSelection=function(){var e=mn(this.cm,!1);return e.focus=this.cm.state.focused,e},Ha.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ha.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ha.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=za(t,e.anchorNode,e.anchorOffset),s=za(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=rt(at(a,s),i)||0!=rt(ot(a,s),o)){var u=t.display.view,l=i.line>=t.display.viewFrom&&Ka(t,i)||{node:u[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Ka(t,o);if(!c){var f=u[u.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(l&&c){var p,d=e.rangeCount&&e.getRangeAt(0);try{p=T(l.node,l.offset,c.offset,c.node)}catch(e){}p&&(!r&&t.state.focused?(e.collapse(l.node,l.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),d&&null==e.anchorNode?e.addRange(d):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ha.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ha.prototype.showMultipleSelections=function(e){I(this.cm.display.cursorDiv,e.cursors),I(this.cm.display.selectionDiv,e.selection)},Ha.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ha.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return B(this.div,t)},Ha.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ha.prototype.blur=function(){this.div.blur()},Ha.prototype.getField=function(){return this.div},Ha.prototype.supportsTouch=function(){return!0},Ha.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():ei(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Ha.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ha.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=za(t,e.anchorNode,e.anchorOffset),n=za(t,e.focusNode,e.focusOffset);r&&n&&ei(t,(function(){eo(t.doc,Ai(r,n),V),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ha.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=tt(a.line-1,Ge(n.doc,a.line-1).length)),s.ch==Ge(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=tt(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=fn(n,a.line))?(t=Xe(i.view[0].line),r=i.view[0].node):(t=Xe(i.view[e].line),r=i.view[e-1].node.nextSibling);var u,l,c=fn(n,s.line);if(c==i.view.length-1?(u=i.viewTo-1,l=i.lineDiv.lastChild):(u=Xe(i.view[c+1].line)-1,l=i.view[c+1].node.previousSibling),!r)return!1;for(var f=n.doc.splitLines(function(e,t,r,n,i){var o="",a=!1,s=e.doc.lineSeparator(),u=!1;function l(){a&&(o+=s,u&&(o+=s),a=u=!1)}function c(e){e&&(l(),o+=e)}function f(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void c(r);var o,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(tt(n,0),tt(i+1,0),(v=+h,function(e){return e.id==v}));return void(p.length&&(o=p[0].find(0))&&c(Ze(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var d=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;d&&l();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(u=!0),d&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var v}for(;f(t),t!=r;)t=t.nextSibling,u=!1;return o}(n,r,l,t,u)),h=Ze(n.doc,tt(t,0),tt(u,Ge(n.doc,u).text.length));f.length>1&&h.length>1;)if(Q(f)==Q(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),t++}for(var p=0,d=0,g=f[0],v=h[0],y=Math.min(g.length,v.length);p<y&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var m=Q(f),b=Q(h),w=Math.min(m.length-(1==f.length?p:0),b.length-(1==h.length?p:0));d<w&&m.charCodeAt(m.length-d-1)==b.charCodeAt(b.length-d-1);)++d;if(1==f.length&&1==h.length&&t==a.line)for(;p&&p>a.ch&&m.charCodeAt(m.length-d-1)==b.charCodeAt(b.length-d-1);)p--,d++;f[f.length-1]=m.slice(0,m.length-d).replace(/^\u200b+/,""),f[0]=f[0].slice(p).replace(/\u200b+$/,"");var E=tt(t,p),C=tt(u,h.length?Q(h).length-d:0);return f.length>1||f[0]||rt(E,C)?(vo(n.doc,f,E,C,"+input"),!0):void 0},Ha.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ha.prototype.reset=function(){this.forceCompositionEnd()},Ha.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ha.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ha.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ei(this.cm,(function(){return hn(e.cm)}))},Ha.prototype.setUneditable=function(e){e.contentEditable="false"},Ha.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ti(this.cm,Oa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ha.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ha.prototype.onContextMenu=function(){},Ha.prototype.resetPosition=function(){},Ha.prototype.needsContentAttribute=!0;var qa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new M,this.hasSelection=!1,this.composing=null};qa.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ve(n,e)){if(n.somethingSelected())La({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Pa(n);La({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(r.prevInput="",i.value=t.text.join("\n"),D(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),he(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),he(i,"paste",(function(e){ve(n,e)||Ra(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),he(i,"cut",o),he(i,"copy",o),he(e.scroller,"paste",(function(t){if(!Cr(e,t)&&!ve(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),he(e.lineSpace,"selectstart",(function(t){Cr(e,t)||we(t)})),he(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),he(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},qa.prototype.createField=function(e){this.wrapper=Ua(),this.textarea=this.wrapper.firstChild},qa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=mn(e);if(e.options.moveInputWithCursor){var i=Gr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},qa.prototype.showSelection=function(e){var t=this.cm.display;I(t.cursorDiv,e.cursors),I(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&D(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},qa.prototype.getField=function(){return this.textarea},qa.prototype.supportsTouch=function(){return!1},qa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||L()!=this.textarea))try{this.textarea.focus()}catch(e){}},qa.prototype.blur=function(){this.textarea.blur()},qa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qa.prototype.receivedFocus=function(){this.slowPoll()},qa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},qa.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}))},qa.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Oe(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||m&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="â"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(n.length,i.length);u<l&&n.charCodeAt(u)==i.charCodeAt(u);)++u;return ei(t,(function(){Oa(t,i.slice(u),n.length-u,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},qa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},qa.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=cn(r,e),l=n.scroller.scrollTop;if(o&&!f){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&ti(r,eo)(r.doc,Ai(o),V);var c,h=i.style.cssText,p=t.wrapper.style.cssText,d=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(c=window.scrollY),n.input.focus(),u&&window.scrollTo(null,c),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&v(),S){Se(e);var g=function(){de(window,"mouseup",g),setTimeout(y,20)};he(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="â"+(e?i.value:"");i.value="â",i.value=o,t.prevInput=e?"":"â",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=l),null!=i.selectionStart)){(!a||a&&s<9)&&v();var e=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"â"==t.prevInput?ti(r,uo)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},qa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},qa.prototype.setUneditable=function(){},qa.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=Sa&&i(e,t,r)}:i)}e.defineOption=r,e.Init=Sa,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,Bi(e)}),!0),r("indentUnit",2,Bi,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){Li(e),jr(e),hn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(tt(n,o))}n++}));for(var i=r.length-1;i>=0;i--)vo(e.doc,t,r[i],tt(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Sa&&e.refresh()})),r("specialCharPlaceholder",Jt,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!w),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){Ca(e),vi(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Xo(t),i=r!=Sa&&Xo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,ka,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=di(t,e.options.lineNumbers),vi(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?sn(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return Kn(e)}),!0),r("scrollbarStyle","native",(function(e){Wn(e),Kn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=di(e.options.gutters,t),vi(e)}),!0),r("firstLineNumber",1,vi,!0),r("lineNumberFormatter",(function(e){return e}),vi,!0),r("showCursorWhenSelecting",!1,yn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(An(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,Aa),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,yn,!0),r("singleCursorHeightPerLine",!0,yn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Li,!0),r("addModeClass",!1,Li,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,Li,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}(Ia),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&ti(this,t[e])(this,r,i),ge(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:ri((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,hn(this)})),removeOverlay:ri((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void hn(this)}})),indentLine:ri((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Je(this.doc,e)&&Na(this,e,t,r)})),indentSelection:ri((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Na(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Ln(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<r;++u)Na(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[n].from().ch>0&&Xi(this.doc,n,new _i(o,l[n].to()),V)}}})),getTokenAt:function(e,t){return bt(this,e,t)},getLineTokens:function(e,t){return bt(this,tt(e),t,!0)},getTokenTypeAt:function(e){e=ut(this.doc,e);var t,r=pt(this,Ge(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var u=0;u<i._global.length;u++){var l=i._global[u];l.pred(o,this)&&-1==j(n,l.val)&&n.push(l.val)}return n},getStateAfter:function(e,t){var r=this.doc;return dt(this,(e=st(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Gr(this,null==e?r.head:"object"==typeof e?ut(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return qr(this,ut(this.doc,e),t||"page")},coordsChar:function(e,t){return Yr(this,(e=Wr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Wr(this,{top:e,left:0},t||"page").top,$e(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=Ge(this.doc,e)}else n=e;return zr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-zt(n):0)},defaultTextHeight:function(){return nn(this.display)},defaultCharWidth:function(){return on(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o,a,s,u=this.display,l=(e=Gr(this,ut(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),u.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var f=Math.max(u.wrapper.clientHeight,this.doc.height),h=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>f)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=f&&(l=e.bottom),c+t.offsetWidth>h&&(c=h-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(c=u.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(u.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),r&&(o=this,a={left:c,top:l,right:c+t.offsetWidth,bottom:l+t.offsetHeight},null!=(s=Nn(o,a)).scrollTop&&Pn(o,s.scrollTop),null!=s.scrollLeft&&Un(o,s.scrollLeft))},triggerOnKeyDown:ri(fa),triggerOnKeyPress:ri(pa),triggerOnKeyUp:ha,triggerOnMouseDown:ri(ya),execCommand:function(e){if(ra.hasOwnProperty(e))return ra[e].call(null,this)},triggerElectric:ri((function(e){Da(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=ut(this.doc,e),a=0;a<t&&!(o=Ma(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:ri((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Ma(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),W)})),deleteH:ri((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):$o(this,(function(r){var i=Ma(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var a=ut(this.doc,e),s=0;s<t;++s){var u=Gr(this,a,"div");if(null==o?o=u.left:u.left=o,(a=ja(this,u,i,r)).hitSide)break}return a},moveV:ri((function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=Gr(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=ja(r,s,e,t);return"page"==t&&a==n.sel.primary()&&Bn(r,qr(r,u,"div").top-s.top),u}),W),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Ge(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),a=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new _i(tt(e.line,r),tt(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?O(this.display.cursorDiv,"CodeMirror-overwrite"):A(this.display.cursorDiv,"CodeMirror-overwrite"),ge(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ri((function(e,t){On(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ar(this)-this.display.barHeight,width:e.scrollWidth-Ar(this)-this.display.barWidth,clientHeight:Ir(this),clientWidth:kr(this)}},scrollIntoView:ri((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:tt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Rn(e),e.curOp.scrollToPos=t}(this,e):Dn(this,e.from,e.to,e.margin)})),setSize:ri((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Mr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ge(this,"refresh",this)})),operation:function(e){return ei(this,e)},startOperation:function(){return Gn(this)},endOperation:function(){return Zn(this)},refresh:ri((function(){var e=this.display.cachedTextHeight;hn(this),this.curOp.forceUpdate=!0,jr(this),On(this,this.doc.scrollLeft,this.doc.scrollTop),ci(this.display),(null==e||Math.abs(e-nn(this.display))>.5)&&ln(this),ge(this,"refresh",this)})),swapDoc:ri((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Pi(this,e),jr(this),this.display.input.reset(),On(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ur(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},be(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(Ia);var Ga="iter insert remove copy getEditor constructor".split(" ");for(var Za in Lo.prototype)Lo.prototype.hasOwnProperty(Za)&&j(Ga,Za)<0&&(Ia.prototype[Za]=function(e){return function(){return e.apply(this.doc,arguments)}}(Lo.prototype[Za]));return be(Lo),Ia.inputStyles={textarea:qa,contenteditable:Ha},Ia.defineMode=function(e){Ia.defaults.mode||"null"==e||(Ia.defaults.mode=e),Ue.apply(this,arguments)},Ia.defineMIME=function(e,t){Fe[e]=t},Ia.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ia.defineMIME("text/plain","null"),Ia.defineExtension=function(e,t){Ia.prototype[e]=t},Ia.defineDocExtension=function(e,t){Lo.prototype[e]=t},Ia.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=L();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(he(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(de(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=Ia((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=de,e.on=he,e.wheelEventPixels=Ei,e.Doc=Lo,e.splitLines=Le,e.countColumn=U,e.findColumn=q,e.isWordChar=ee,e.Pass=K,e.signal=ge,e.Line=Gt,e.changeEnd=ki,e.scrollbarModel=zn,e.Pos=tt,e.cmpPos=rt,e.modes=Pe,e.mimeModes=Fe,e.resolveMode=Me,e.getMode=je,e.modeExtensions=He,e.extendMode=Ke,e.copyState=Ve,e.startState=We,e.innerMode=ze,e.commands=ra,e.keyMap=zo,e.keyName=Yo,e.isModifierKey=Zo,e.lookupKey=Go,e.normalizeKeyMap=qo,e.StringStream=qe,e.SharedTextMarker=Io,e.TextMarker=Ao,e.LineWidget=So,e.e_preventDefault=we,e.e_stopPropagation=Ee,e.e_stop=Se,e.addClass=O,e.contains=B,e.rmClass=A,e.keyNames=jo}(Ia),Ia.version="5.48.4",Ia}()},function(e,t,r){"use strict";
/*!
 * jwk/index.js - JSON Web Key (JWK) Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(28);Object.keys(n.KeyStore).forEach((function(e){t[e]=n.KeyStore[e]}));var i=r(73);Object.keys(i).forEach((function(e){t[e]=i[e]})),r(122),r(123),r(124)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){var n=r(2);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(36),r(57),r(3),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=g({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return g({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=g({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return g({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){c||h();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return d(r._w,e,t,!1)},decrypt:function(e,t){return d(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var o=t.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=p(r,e.decrypt&&!s),this._init=!0}},n.aes._expandKey=function(e,t){return c||h(),p(e,t)},n.aes._updateBlock=d,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var o,a,s,u,l,c=!1,f=4;function h(){c=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;o=new Array(256),a=new Array(256),u=new Array(4),l=new Array(4);for(t=0;t<4;++t)u[t]=new Array(256),l[t]=new Array(256);var r,n,i,f,h,p,d,g=0,v=0;for(t=0;t<256;++t){f=(f=v^v<<1^v<<2^v<<3^v<<4)>>8^255&f^99,o[g]=f,a[f]=g,p=(h=e[f])<<24^f<<16^f<<8^f^h,d=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var y=0;y<4;++y)u[y][g]=p,l[y][f]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===g?g=v=1:(g=r^e[e[e[r^i]]],v^=e[e[v]])}}function p(e,t){for(var r,n=e.slice(0),i=1,a=n.length,u=f*(a+6+1),c=a;c<u;++c)r=n[c-1],c%a==0?(r=o[r>>>16&255]<<24^o[r>>>8&255]<<16^o[255&r]<<8^o[r>>>24]^s[i]<<24,i++):a>6&&c%a==4&&(r=o[r>>>24]<<24^o[r>>>16&255]<<16^o[r>>>8&255]<<8^o[255&r]),n[c]=n[c-a]^r;if(t){for(var h,p=l[0],d=l[1],g=l[2],v=l[3],y=n.slice(0),m=(c=0,(u=n.length)-f);c<u;c+=f,m-=f)if(0===c||c===u-f)y[c]=n[m],y[c+1]=n[m+3],y[c+2]=n[m+2],y[c+3]=n[m+1];else for(var b=0;b<f;++b)h=n[m+b],y[c+(3&-b)]=p[o[h>>>24]]^d[o[h>>>16&255]]^g[o[h>>>8&255]]^v[o[255&h]];n=y}return n}function d(e,t,r,n){var i,s,c,f,h,p,d,g,v,y,m,b,w=e.length/4-1;n?(i=l[0],s=l[1],c=l[2],f=l[3],h=a):(i=u[0],s=u[1],c=u[2],f=u[3],h=o),p=t[0]^e[0],d=t[n?3:1]^e[1],g=t[2]^e[2],v=t[n?1:3]^e[3];for(var E=3,C=1;C<w;++C)y=i[p>>>24]^s[d>>>16&255]^c[g>>>8&255]^f[255&v]^e[++E],m=i[d>>>24]^s[g>>>16&255]^c[v>>>8&255]^f[255&p]^e[++E],b=i[g>>>24]^s[v>>>16&255]^c[p>>>8&255]^f[255&d]^e[++E],v=i[v>>>24]^s[p>>>16&255]^c[d>>>8&255]^f[255&g]^e[++E],p=y,d=m,g=b;r[0]=h[p>>>24]<<24^h[d>>>16&255]<<16^h[g>>>8&255]<<8^h[255&v]^e[++E],r[n?3:1]=h[d>>>24]<<24^h[g>>>16&255]<<16^h[v>>>8&255]<<8^h[255&p]^e[++E],r[2]=h[g>>>24]<<24^h[v>>>16&255]<<16^h[p>>>8&255]<<8^h[255&d]^e[++E],r[n?1:3]=h[v>>>24]<<24^h[p>>>16&255]<<16^h[d>>>8&255]<<8^h[255&g]^e[++E]}function g(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=e,i.call(t,r)},t}},function(e,t,r){var n=r(2);r(3);var i=e.exports=n.pem=n.pem||{};function o(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<t.length;++i,++o)if(o>65&&-1!==a){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),o=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=o(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=o(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=o(r)),e.headers)for(var a=0;a<e.headers.length;++a)i+=o(e.headers[a]);return e.procType&&(i+="\r\n"),i+=n.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=i.exec(e);){var u={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(u),t[2]){for(var l=t[2].split(s),c=0;t&&c<l.length;){for(var f=l[c].replace(/\s+$/,""),h=c+1;h<l.length;++h){var p=l[h];if(!/\s/.test(p[0]))break;f+=p,c=h}if(t=f.match(o)){for(var d={name:t[1],values:[]},g=t[2].split(","),v=0;v<g.length;++v)d.values.push(a(g[v]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:g[0],parameters:g[1]||null}}else u.contentDomain=g[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:g[0],type:g[1]}}}++c}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(e,t,r){"use strict";(function(t){
/*!
 * util/databuffer.js - Forge-compatible Buffer based on Node.js Buffers
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(4),i=r(27);function o(e,r){r=r||{},t.isBuffer(e)?this.data=e:n.util.isArrayBuffer(e)?(e=new Uint8Array(e),this.data=t.from(e)):n.util.isArrayBufferView(e)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.data=t.from(e)),this.data&&(this.write=this.data.length,e=void 0),this.growSize=r.growSize||o.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,e?this.putBytes(e):this.data||this.accommodate(0),r.readOffset="readOffset"in r?r.readOffset:this.read,this.write="writeOffset"in r?r.writeOffset:this.write,this.read=Math.min(r.readOffset,this.write)}o.DEFAULT_GROW_SIZE=16,o.prototype.length=function(){return this.write-this.read},o.prototype.available=function(){return this.data.length-this.write},o.prototype.isEmpty=function(){return this.length()<=0},o.prototype.accommodate=function(e){if(this.data){if(this.available()<e){e=Math.max(e,this.growSize);var r=this.data,n=t.alloc(r.length+e);r.copy(n,0),this.data=n}}else e=Math.max(this.write+e,this.growSize),this.data=t.alloc(e);return this.data.fill(0,this.write),this},o.prototype.clear=function(){return this.read=this.write=0,this.data=t.alloc(0),this},o.prototype.truncate=function(e){return this.write=this.read+Math.max(0,this.length()-e),this.data.fill(0,this.write),this},o.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},o.prototype.copy=function(){return new o(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},o.prototype.equals=function(e){if(!o.isBuffer(e))return!1;if(e.length()!==this.length())return!1;for(var t=!0,r=this.read-e.read,n=e.read;e.write>n;n++)t=t&&this.data[n+r]===e.data[n];return t},o.prototype.at=function(e){return this.data[this.read+e]},o.prototype.setAt=function(e,t){return this.data[this.read+e]=t,this},o.prototype.last=function(){return this.data[this.write-1]},o.prototype.bytes=function(e){var t;if(void 0===e?e=this.length():e&&(e=Math.min(e,this.length())),0===e)t="";else{var r=this.read,n=r+e,i=this.data.slice(r,n);t=String.fromCharCode.apply(null,i)}return t},o.prototype.buffer=function(e){var t;if(void 0===e?e=this.length():e&&(e=Math.min(e,this.length())),0===e)t=new ArrayBuffer(0);else{var r=this.read,n=r+e,i=this.data.slice(r,n);(t=new Uint8Array(n-r)).set(i)}return t},o.prototype.native=function(e){var r;if(void 0===e?e=this.length():e&&(e=Math.min(e,this.length())),0===e)r=t.alloc(0);else{var n=this.read,i=n+e;r=this.data.slice(n,i)}return r},o.prototype.toHex=function(){return this.toString("hex")},o.prototype.toString=function(e){if(0===this.length())return"";var t=this.data.slice(this.read,this.write);switch(e=e||"utf8"){case"raw":return t.toString("binary");case"base64url":return i.encode(t);case"utf16":return t.toString("ucs2");default:return t.toString(e)}},o.prototype.fillWithByte=function(e,t){return t||(t=this.available()),this.accommodate(t),this.data.fill(e,this.write,this.write+t),this.write+=t,this},o.prototype.getBuffer=function(e){var t=this.buffer(e);return this.read+=t.byteLength,t},o.prototype.putBuffer=function(e){return this.putBytes(e)},o.prototype.getBytes=function(e){var t=this.bytes(e);return this.read+=t.length,t},o.prototype.putBytes=function(e,r){if("string"==typeof e){switch(r=r||"binary"){case"utf16":r="ucs-2";break;case"raw":r="binary";break;case"base64url":e=i.decode(e)}t.isBuffer(e)||(e=t.from(e,r))}var a,s;if(e instanceof o){var u=e;e=u.data.slice(u.read,u.write),u.read=u.write}else e instanceof n.util.ByteStringBuffer&&(e=e.getBytes());if(t.isBuffer(e))a=e;else if(Array.isArray(e))a=t.from(e);else if(n.util.isArrayBuffer(e))a=new Uint8Array(e),a=t.from(a);else{if(!n.util.isArrayBufferView(e))throw new TypeError("invalid source type");a=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=t.from(a)}return this.accommodate(a.length),s=this.data,a.copy(s,this.write),this.write+=a.length,this},o.prototype.getNative=function(e){var t=this.native(e);return this.read+=t.length,t},o.prototype.putNative=o.prototype.putBuffer,o.prototype.getByte=function(){var e=this.data[this.read];return this.read=Math.min(this.read+1,this.write),e},o.prototype.putByte=function(e){return this.accommodate(1),this.data[this.write]=255&e,this.write++,this},o.prototype.getInt16=function(){var e=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),e},o.prototype.putInt16=function(e){return this.accommodate(2),this.data[this.write]=e>>>8&255,this.data[this.write+1]=255&e,this.write+=2,this},o.prototype.getInt24=function(){var e=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),e},o.prototype.putInt24=function(e){return this.accommodate(3),this.data[this.write]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write+2]=255&e,this.write+=3,this},o.prototype.getInt32=function(){var e=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),e},o.prototype.putInt32=function(e){return this.accommodate(4),this.data[this.write]=e>>>24&255,this.data[this.write+1]=e>>>16&255,this.data[this.write+2]=e>>>8&255,this.data[this.write+3]=255&e,this.write+=4,this},o.prototype.getInt16Le=function(){var e=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),e},o.prototype.putInt16Le=function(e){return this.accommodate(2),this.data[this.write+1]=e>>>8&255,this.data[this.write]=255&e,this.write+=2,this},o.prototype.getInt24Le=function(){var e=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),e},o.prototype.putInt24Le=function(e){return this.accommodate(3),this.data[this.write+2]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write]=255&e,this.write+=3,this},o.prototype.getInt32Le=function(){var e=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),e},o.prototype.putInt32Le=function(e){return this.accommodate(4),this.data[this.write+3]=e>>>24&255,this.data[this.write+2]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write]=255&e,this.write+=4,this},o.prototype.getInt=function(e){var t=0;do{t=t<<8|this.getByte(),e-=8}while(e>0);return t},o.prototype.putInt=function(e,t){this.accommodate(Math.ceil(t/8));do{t-=8,this.putByte(e>>t&255)}while(t>0);return this},o.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.isBuffer=function(e){return e instanceof o},o.asBuffer=function(e){return o.isBuffer(e)?e:e?new o(e):new o},e.exports=n.util.ByteBuffer=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwk/helpers.js - JWK Internal Helper Functions and Constants
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(8).clone,i=r(5),o=r(4),a=r(44),s={name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},u={name:"SubjectPublicKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},l={name:"Certificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},c={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};e.exports={validators:{privateKey:s,publicKey:u,certificate:l},thumbprint:function(e,r,n){if("function"!=typeof e.thumbprint)return Promise.reject(new Error("thumbprint not supported"));n=(n||c.THUMBPRINT_HASH).toUpperCase();var o=e.thumbprint(r),s=Object.keys(o).sort().map((function(e){var r=o[e];return t.isBuffer(r)&&(r=i.base64url.encode(r)),JSON.stringify(e)+":"+JSON.stringify(r)}));s="{"+s.join(",")+"}";try{return a.digest(n,t.from(s,"utf8"))}catch(e){return Promise.reject(e)}},unpackProps:function(e,r){var o;r.forEach((function(r){if(r.name in e){o=o||{};var a=e[r.name];switch(r.type){case"binary":t.isBuffer(a)?e[r.name]=i.base64url.encode(a):a=i.base64url.decode(a);break;case"string":case"number":case"boolean":break;case"array":a=[].concat(a);break;case"object":a=n(a)}o[r.name]=a}}));var a=o||{};return Object.keys(e).forEach((function(t){t in a||delete e[t]})),o},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:c}}).call(this,r(1).Buffer)},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);if(r(13),r(63),r(15),r(59),r(64),r(14),r(3),void 0===i)var i=n.jsbn.BigInteger;var o=n.util.isNodejs?r(39):null,a=n.asn1,s=n.util;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var u=n.pki,l=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},p=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d=function(e){var t;if(!(e.algorithm in u.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=u.oids[e.algorithm];var n=a.oidToDer(t).getBytes(),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);o.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,n)),o.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var s=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(s),a.toDer(i).getBytes()},g=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var o;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{o=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(o.compareTo(t.n)>=0||!o.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(o.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(s)<0;)a=a.add(t.p);var u=a.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return u=u.multiply(o.modInverse(t.n)).mod(t.n)};function v(e,t,r){var i=n.util.createBuffer(),o=Math.ceil(t.n.bitLength()/8);if(e.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=o-11,a}i.putByte(0),i.putByte(r);var s,u=o-3-e.length;if(0===r||1===r){s=0===r?0:255;for(var l=0;l<u;++l)i.putByte(s)}else for(;u>0;){var c=0,f=n.random.getBytes(u);for(l=0;l<u;++l)0===(s=f.charCodeAt(l))?++c:i.putByte(s);u=c}return i.putByte(0),i.putBytes(e),i}function y(e,t,r,i){var o=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),s=a.getByte(),u=a.getByte();if(0!==s||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error("Encryption block is invalid.");var l=0;if(0===u){l=o-3-i;for(var c=0;c<l;++c)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(l=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++l}else if(2===u)for(l=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++l}if(0!==a.getByte()||l!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function m(e,t,r){"function"==typeof t&&(r=t,t={});var o={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){s(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?l(t,e.q):void s(e.qBits,l))}))}function s(e,t){n.prime.generateProbablePrime(e,o,t)}function l(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var o=e.p;e.p=e.q,e.q=o}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void a();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void s(e.qBits,l);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void s(e.qBits,l);var c=e.e.modInverse(e.phi);e.keys={privateKey:u.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:u.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(o.prng=t.prng),a()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function E(e){return n.util.isNodejs&&"function"==typeof o[e]}function C(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.crypto&&"object"==typeof s.globalScope.crypto.subtle&&"function"==typeof s.globalScope.crypto.subtle[e]}function S(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.msCrypto&&"object"==typeof s.globalScope.msCrypto.subtle&&"function"==typeof s.globalScope.msCrypto.subtle[e]}function _(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}u.rsa.encrypt=function(e,t,r){var o,a=r,s=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,o=v(e,t,r)):(o=n.util.createBuffer()).putBytes(e);for(var u=new i(o.toHex(),16),l=g(u,t,a).toString(16),c=n.util.createBuffer(),f=s-Math.ceil(l.length/2);f>0;)c.putByte(0),--f;return c.putBytes(n.util.hexToBytes(l)),c.getBytes()},u.rsa.decrypt=function(e,t,r,o){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=a,s}var u=new i(n.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=g(u,t,r).toString(16),c=n.util.createBuffer(),f=a-Math.ceil(l.length/2);f>0;)c.putByte(0),--f;return c.putBytes(n.util.hexToBytes(l)),!1!==o?y(c.getBytes(),t,r):c.getBytes()},u.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var o,a=(r=r||{}).prng||n.random,s={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(o={algorithm:u,state:0,bits:e,rng:s,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt),o},u.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,o=0,a=function(e,t){return e|t},s=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,h=f-1;0===e.pqState?(e.num=new i(f,e.rng),e.num.testBit(h)||e.num.bitwiseTo(i.ONE.shiftLeft(h),a,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),o=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(l[o++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var p=e.e.modInverse(e.phi);e.keys={privateKey:u.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:u.rsa.setPublicKey(e.n,e.e)}}c+=(n=+new Date)-s,s=n}return null!==e.keys},u.rsa.generateKeyPair=function(e,t,r,i){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(i=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,i=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(i=r,r=void 0):(i=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(i){if(E("generateKeyPair"))return o.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,r){if(e)return i(e);i(null,{privateKey:u.privateKeyFromPem(r),publicKey:u.publicKeyFromPem(t)})}));if(C("generateKey")&&C("exportKey"))return s.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:_(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return s.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){i(e)})).then((function(e){if(e){var t=u.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(e)));i(null,{privateKey:t,publicKey:u.setRsaPublicKey(t.n,t.e)})}}));if(S("generateKey")&&S("exportKey")){var l=s.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:_(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return l.oncomplete=function(e){var t=e.target.result,r=s.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=u.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(t)));i(null,{privateKey:r,publicKey:u.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){i(e)}},void(l.onerror=function(e){i(e)})}}else if(E("generateKeyPairSync")){var c=o.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:u.privateKeyFromPem(c.privateKey),publicKey:u.publicKeyFromPem(c.publicKey)}}var f=u.rsa.createKeyPairGenerationState(e,t,r);if(!i)return u.rsa.stepKeyPairGenerationState(f,0),f.keys;m(f,r,i)},u.setRsaPublicKey=u.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return v(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var o=t.encode(e,r,!0);return u.rsa.encrypt(o,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=y(t,r,!0),e===a.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===(t=y(t,r,!0))}});var i=u.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},u.setRsaPrivateKey=u.rsa.setPrivateKey=function(e,t,r,i,o,a,s,l){var c={n:e,e:t,d:r,p:i,q:o,dP:a,dQ:s,qInv:l,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=u.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:y};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,c,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:d},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,c.n.bitLength());return u.rsa.encrypt(n,c,r)}};return c},u.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},u.privateKeyFromAsn1=function(e){var t,r,o,s,l,h,p,d,g={},v=[];if(a.validate(e,c,g,v)&&(e=a.fromDer(n.util.createBuffer(g.privateKey))),g={},v=[],!a.validate(e,f,g,v)){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=v,y}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),o=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrime1).toHex(),l=n.util.createBuffer(g.privateKeyPrime2).toHex(),h=n.util.createBuffer(g.privateKeyExponent1).toHex(),p=n.util.createBuffer(g.privateKeyExponent2).toHex(),d=n.util.createBuffer(g.privateKeyCoefficient).toHex(),u.setRsaPrivateKey(new i(t,16),new i(r,16),new i(o,16),new i(s,16),new i(l,16),new i(h,16),new i(p,16),new i(d,16))},u.privateKeyToAsn1=u.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.qInv))])},u.publicKeyFromAsn1=function(e){var t={},r=[];if(a.validate(e,p,t,r)){var o,s=a.derToOid(t.publicKeyOid);if(s!==u.oids.rsaEncryption)throw(o=new Error("Cannot read public key. Unknown OID.")).oid=s,o;e=t.rsaPublicKey}if(r=[],!a.validate(e,h,t,r))throw(o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,o;var l=n.util.createBuffer(t.publicKeyModulus).toHex(),c=n.util.createBuffer(t.publicKeyExponent).toHex();return u.setRsaPublicKey(new i(l,16),new i(c,16))},u.publicKeyToAsn1=u.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[u.publicKeyToRSAPublicKey(e)])])},u.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.e))])}},function(e,t,r){"use strict";(function(t){
/*!
 * util/base64url.js - Implementation of web-safe Base64 Encoder/Decoder
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(102),i={encode:function(e,r){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t.isBuffer(e)||(e=t.from(e,r)),n.encode(e)},decode:n.toBuffer};e.exports=i}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwk/keystore.js - JWK KeyStore Implementation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(8).clone,i=r(12),o=r(4),a=r(5),s={BaseKey:r(29),helpers:r(24)},u=function(){var e={};Object.defineProperty(this,"register",{value:function(t){if(!t||"string"!=typeof t.kty||!t.kty)throw new Error("invalid Key factory");var r=t.kty;return e[r]=t,this}}),Object.defineProperty(this,"unregister",{value:function(t){if(!t||"string"!=typeof t.kty||!t.kty)throw new Error("invalid Key factory");var r=t.kty;return t===e[r]&&delete e[r],this}}),Object.defineProperty(this,"get",{value:function(t){return e[t||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(e).map((function(t){return e[t]}))}})},l=new u;function c(e,r){var n,i={},u=[],c=r.form,f=r.body,h=null;switch(r=o.asn1.fromDer(f),c){case"private":e.all().some((function(e){if(n)return!1;if(!e.validators)return!1;var t=e.validators.oid,a=e.validators.privateKey;return!!a&&(i={},u=[],(n=o.asn1.validate(r,a,i,u))&&(i.keyOid=o.asn1.oidToDer(t),i.parsed=!0),n)})),i.type="private";break;case"pkcs8":n=o.asn1.validate(r,s.helpers.validators.privateKey,i,u),i.type="private";break;case"public":case"spki":n=o.asn1.validate(r,s.helpers.validators.publicKey,i,u),i.type="public";break;case"pkix":case"x509":if(n=o.asn1.validate(r,s.helpers.validators.certificate,i,u)){i=function(e){return["certIssuer","certSubject"].forEach((function(t){var r=o.pki.RDNAttributesAsArray(e[t]),n=e[t]={};r.forEach((function(e){n[e.name||e.type]=e.value}))})),e}(i);var p=o.md.sha1.create();p.update(f),h=a.base64url.encode(t.from(p.digest().toHex(),"hex"))}i.type="public"}return n?(i.keyOid&&(i.keyOid=o.asn1.derToOid(i.keyOid)),n=null,l.all().forEach((function(e){n||e&&"function"==typeof e.import&&(n=e.import(i))})),n&&i.certSubject&&i.certSubject.commonName&&(n.kid=i.certSubject.commonName),n&&h&&(n.x5t=h),n):null}var f=function(e,r){var a={};Object.defineProperty(this,"generate",{value:function(t,r,o){var a=e.get(t);if(!a)return Promise.reject(new Error("unsupported key type"));(o=n(o||{})).kty=t;var s=this;return a.generate(r).then((function(e){return e=i(o,e,{kty:t}),s.add(e)}))}}),Object.defineProperty(this,"add",{value:function(r,i,u){var l;if(u=u||{},t.isBuffer(r)||"string"==typeof r)if("json"===(i=(i||"json").toLowerCase()))r=JSON.parse(r.toString("utf8"));else try{if(l="pem"===i?function(e){var t={};if(!o.pem.decode(e).some((function(e){switch(e.type){case"CERTIFICATE":t.form="pkix";break;case"PUBLIC KEY":t.form="spki";break;case"PRIVATE KEY":t.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":t.form="private";break;default:return!1}return t.body=e.body,!0})))throw new Error("supported PEM type not found");return t}(r):{body:r.toString("binary"),form:i},!(r=c(e,l)))throw new Error("no importer for key");Object.keys(u).forEach((function(e){r[e]=u[e]}))}catch(e){return Promise.reject(e)}else r=f.isKey(r)?r.toJSON(!0):n(r);var h=e.get(r.kty);if(!h)return Promise.reject(new Error("unsupported key type"));var p=this;return h.prepare(r).then((function(e){return new s.BaseKey(r.kty,p,r,e)})).then((function(e){var t=e.kid||"";return(a[t]=a[t]||[]).push(e),e}))}}),Object.defineProperty(this,"remove",{value:function(e){if(e){var t=a[e.kid];if(t){var r=t.indexOf(e);-1!==r&&(t.splice(r,1),t.length||delete a[e.kid])}}}}),Object.defineProperty(this,"all",{value:function(e,t){void 0!==(e=e||{}).kid&&null!==e.kid&&"string"!=typeof e.kid&&(e.kid=String(e.kid));var n=[],i=function(t){return(!e.kty||!t.kty||e.kty===t.kty)&&((!e.use||!t.use||e.use===t.use)&&(!e.alg||("dir"===e.alg||!t.alg||e.alg===t.alg)&&t.supports(e.alg)))};return Object.keys(a).forEach((function(t){if(!e.kid||e.kid===t){var r=a[t].filter(i);r.length&&(n=n.concat(r))}})),!t&&r&&(n=n.concat(r.all(e))),n}}),Object.defineProperty(this,"get",{value:function(e,t,n){"boolean"==typeof e?(n=e,t=e=null):"object"==typeof e&&(n=t,t=e,e=null),t=t||{},e&&(t.kid=e),void 0!==t.kid&&null!==t.kid&&"string"!=typeof t.kid&&(t.kid=String(t.kid));var i=this.all(t,!0);return i.length||!r||n||(i=r.get(t,n)),i[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new f(e,this)}}),Object.defineProperty(this,"toJSON",{value:function(e){var t=[];return Object.keys(a).forEach((function(r){var n=a[r].map((function(t){return t.toJSON(e)}));t=t.concat(n)})),{keys:t}}})};f.isKeyStore=function(e){return!!e&&("object"==typeof e&&("function"==typeof e.get&&"function"==typeof e.all&&"function"==typeof e.generate&&"function"==typeof e.add&&"function"==typeof e.remove))},f.createKeyStore=function(){return new f(l)},f.asKeyStore=function(e){if(f.isKeyStore(e))return Promise.resolve(e);var t,r=f.createKeyStore();if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e))t=e;else{if(!("keys"in e))return Promise.reject(new Error("invalid keystore"));t=e.keys}t=t.map((function(e){return r.add(e)}));var n=Promise.all(t);return n=n.then((function(){return r}))},f.isKey=function(e){return!!e&&("object"==typeof e&&(!!f.isKeyStore(e.keystore)&&("string"==typeof e.kty&&"number"==typeof e.length&&"function"==typeof e.algorithms&&"function"==typeof e.supports&&"function"==typeof e.encrypt&&"function"==typeof e.decrypt&&"function"==typeof e.wrap&&"function"==typeof e.unwrap&&"function"==typeof e.sign&&"function"==typeof e.verify)))},f.createKey=function(e,t,r){return f.createKeyStore().generate(e,t,r)},f.asKey=function(e,t,r){return f.isKey(e)?Promise.resolve(e):e=f.createKeyStore().add(e,t,r)},e.exports={KeyRegistry:u,KeyStore:f,registry:l}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwk/basekey.js - JWK Key Base Class Implementation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(8),i=r(12),o=r(106),a=n.assign,s=n.clone,u=n.flatten,l=n.intersection,c=n.omit,f=n.pick,h=n.uniq,p=r(44),d=r(73),g=r(24),v=r(5);e.exports=function(e,r,n,y){if(!e)throw new Error("kty cannot be null");if(!r)throw new Error("keystore cannot be null");if(!n)throw new Error("props cannot be null");if("string"==typeof n&&(n=JSON.parse(n)),!y)throw new Error("cfg cannot be null");var m,b,w=[],E={},C={};n=s(n),m=a({},n[g.INTERNALS.THUMBPRINT_KEY]||{}),delete n[g.INTERNALS.THUMBPRINT_KEY],Object.keys(m).forEach((function(e){var r=m[e];b||(b=r,t.isBuffer(b)&&(b=v.base64url.encode(b))),t.isBuffer(r)||(r=v.base64url.decode(r),m[e]=r)})),n.kty=e,n.kid=n.kid||b||o();var S,_=Object.keys(g.COMMON_PROPS).map((function(e){return g.COMMON_PROPS[e].name}));C.base=f(n,_),w=w.concat(Object.keys(C.base)),C.public=s(n),E.public=y.publicKey(C.public),E.public&&(w=w.concat(Object.keys(C.public))),C.private=s(n),E.private=y.privateKey(C.private),E.private&&(w=w.concat(Object.keys(C.private))),C.extra=c(n,w),S=E.public&&"length"in E.public?E.public.length:E.private&&"length"in E.private?E.private.length:NaN,Object.defineProperty(this,"keystore",{value:r,enumerable:!0}),Object.defineProperty(this,"length",{value:S,enumerable:!0}),Object.defineProperty(this,"kty",{value:e,enumerable:!0}),Object.defineProperty(this,"kid",{value:C.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:C.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:C.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(e){if(e=(e||g.INTERNALS.THUMBPRINT_HASH).toUpperCase(),m[e])return Promise.resolve(m[e]);var t=g.thumbprint(y,C,e);return t=t.then((function(t){return t&&(m[e]=t),t}))}}),Object.defineProperty(this,"algorithms",{value:function(t){var r=[];this.use&&"sig"!==this.use||(t&&d.MODE_SIGN!==t||r.push(d.MODE_SIGN),t&&d.MODE_VERIFY!==t||r.push(d.MODE_VERIFY)),this.use&&"enc"!==this.use||(t&&d.MODE_ENCRYPT!==t||r.push(d.MODE_ENCRYPT),t&&d.MODE_DECRYPT!==t||r.push(d.MODE_DECRYPT),t&&d.MODE_WRAP!==t||r.push(d.MODE_WRAP),t&&d.MODE_UNWRAP!==t||r.push(d.MODE_UNWRAP));var n,i=this,o=r.map((function(e){return y.algorithms.call(i,E,e)}));(o=u(o),o=h(o),this.alg)&&(n="oct"===e?[this.alg,"dir"]:[this.alg],o=l(o,n));return o}}),Object.defineProperty(this,"supports",{value:function(e,t){return-1!==this.algorithms(t).indexOf(e)}}),Object.defineProperty(this,"has",{value:function(e,t){var r=!1;return r=(r=(r=(r=r||!!(C.base&&e in C.base))||!!(E.public&&e in E.public))||!!(C.extra&&e in C.extra))||!!(t&&E.private&&e in E.private)}}),Object.defineProperty(this,"get",{value:function(e,t){var r;return C.base&&e in C.base?r=C.base:E.public&&e in E.public?r=E.public:C.extra&&e in C.extra?r=C.extra:t&&E.private&&e in E.private&&(r=E.private),r&&r[e]||null}}),Object.defineProperty(this,"toJSON",{value:function(e,t){Array.isArray(e)&&(t=e,e=!1);var r={};return r=i(r,C.base,C.public,"boolean"==typeof e&&e?C.private:{},C.extra),r=c(r,t||[])}}),Object.defineProperty(this,"toPEM",{value:function(e){if(null===e&&(e=!1),!y.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var t=e?E.private:E.public;if(!t)throw new Error("Invalid key");return y.convertToPEM.call(this,t,e)}}),Object.defineProperty(this,"toObject",{value:function(e,t){Array.isArray(e)&&(t=e,e=!1);var r={};return r=i(r,C.base,E.public,"boolean"==typeof e&&e?E.private:{},C.extra),r=c(r,(t||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(e,t,r){if(-1===this.algorithms("sign").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=y.signKey.call(this,e,E);return n?(r=r?s(r):{},y.signProps&&(r=i(r,y.signProps.call(this,e,r))),p.sign(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(e,t,r,n){if(-1===this.algorithms("verify").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=y.verifyKey.call(this,e,E);return o?(n=n?s(n):{},y.verifyProps&&(n=i(n,y.verifyProps.call(this,e,n))),p.verify(e,o,t,r,n)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(e,t,r){if(-1===this.algorithms("encrypt").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=y.encryptKey.call(this,e,E);return n?(r=r?s(r):{},y.encryptProps&&(r=i(r,y.encryptProps.call(this,e,r))),p.encrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(e,t,r){if(-1===this.algorithms("decrypt").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=y.decryptKey.call(this,e,E);return n?(r=r?s(r):{},y.decryptProps&&(r=i(r,y.decryptProps.call(this,e,r))),p.decrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(e,t,r){if(-1===this.algorithms("wrap").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=y.wrapKey.call(this,e,E);return n?(r=r?s(r):{},y.wrapProps&&(r=i(r,y.wrapProps.call(this,e,r))),p.encrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(e,t,r){if(-1===this.algorithms("unwrap").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=y.unwrapKey.call(this,e,E);return n?(r=r?s(r):{},y.unwrapProps&&(r=i(r,y.unwrapProps.call(this,e,r))),p.decrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}})}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/sha.js - Cryptographic Secure Hash Algorithms, versions 1 and 2
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(4),i=r(9);var o={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach((function(e){var r,a,s;o[e]={digest:(r=e,a=r.replace("SHA-","SHA").toLowerCase(),s={name:r},i.setupFallback((function(e){var t=i.nodeCrypto.createHash(a);return t.update(e),t.digest()}),(function(e){return i.subtleCrypto.digest(s,e).then((function(e){return e=t.from(e)}))}),(function(e){var t=n.md[a].create();return t.update(e),t=t.digest().native(),Promise.resolve(t)})))}})),e.exports=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * deps/ciphermodes/pack.js - Pack/Unpack Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(46),i=e.exports={intToBigEndian:function(e,r,n){if("number"==typeof e)switch(arguments.length){case 1:r=t.alloc(4),i.intToBigEndian(e,r,0);break;case 3:r[n]=255&e>>>24,r[++n]=255&e>>>16,r[++n]=255&e>>>8,r[++n]=255&e;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=t.alloc(4*e.length),i.intToBigEndian(e,r,0);break;case 3:for(var o=0;o<e.length;++o)i.intToBigEndian(e[o],r,n),n+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},longToBigEndian:function(e,r,n){if(Array.isArray(e))switch(arguments.length){case 1:r=t.alloc(8*e.length),i.longToBigEndian(e,r,0);break;case 3:for(var o=0;o<e.length;++o)i.longToBigEndian(e[o],r,n),n+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=t.alloc(8),i.longToBigEndian(e,r,0);break;case 3:var a=e.low,s=e.high;i.intToBigEndian(s,r,n),i.intToBigEndian(a,r,n+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},bigEndianToInt:function(e,t,r){switch(arguments.length){case 2:var n=e[t]<<24;return n|=(255&e[++t])<<16,n|=(255&e[++t])<<8,n|=255&e[++t];case 3:for(var o=0;o<r.length;++o)r[o]=i.bigEndianToInt(e,t),t+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(e,t,r){switch(arguments.length){case 2:var o=i.bigEndianToInt(e,t),a=i.bigEndianToInt(e,t+4),s=new n(a,o);return s;case 3:for(var u=0;u<r.length;++u)r[u]=i.bigEndianToLong(e,t),t+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,r(10))},function(e,t,r){var n=r(1),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t,r){"use strict";
/*!
 * jws/index.js - JSON Web Signature (JWS) Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n={createSign:r(92).createSign,createVerify:r(127).createVerify};e.exports=n},function(e,t,r){var n=r(2);r(3),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){var n=r(2);r(16),r(3),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,o={start:function(o,a){if(null!==o)if("string"==typeof o){if(!((o=o.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');t=n.md.algorithms[o].create()}else t=o;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var s=a;a=n.util.createBuffer();for(var u=0;u<s.length;++u)a.putByte(s[u])}var l=a.length();l>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),l=a.length();for(u=0;u<l;++u){s=a.at(u);r.putByte(54^s),i.putByte(92^s)}if(l<t.blockLength)for(s=t.blockLength-l,u=0;u<s;++u)r.putByte(54),i.putByte(92);e=a,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return o.digest=o.getMac,o}},function(e,t,r){(function(t){var n=r(2);r(37),r(16),r(3);var i,o=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(39)),e.exports=n.pbkdf2=o.pbkdf2=function(e,r,o,a,s,u){if("function"==typeof s&&(u=s,s=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===s||"object"!=typeof s)&&(i.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=t.from(e,"binary"),r=t.from(r,"binary"),u?4===i.pbkdf2Sync.length?i.pbkdf2(e,r,o,a,(function(e,t){if(e)return u(e);u(null,t.toString("binary"))})):i.pbkdf2(e,r,o,a,s,(function(e,t){if(e)return u(e);u(null,t.toString("binary"))})):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,r,o,a).toString("binary"):i.pbkdf2Sync(e,r,o,a,s).toString("binary");if(null==s&&(s="sha1"),"string"==typeof s){if(!(s in n.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=n.md[s].create()}var l=s.digestLength;if(a>4294967295*l){var c=new Error("Derived key is too long.");if(u)return u(c);throw c}var f=Math.ceil(a/l),h=a-(f-1)*l,p=n.hmac.create();p.start(s,e);var d,g,v,y="";if(!u){for(var m=1;m<=f;++m){p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(m)),d=v=p.digest().getBytes();for(var b=2;b<=o;++b)p.start(null,null),p.update(v),g=p.digest().getBytes(),d=n.util.xorBytes(d,g,l),v=g;y+=m<f?d:d.substr(0,h)}return y}m=1;function w(){if(m>f)return u(null,y);p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(m)),d=v=p.digest().getBytes(),b=2,E()}function E(){if(b<=o)return p.start(null,null),p.update(v),g=p.digest().getBytes(),d=n.util.xorBytes(d,g,l),v=g,++b,n.util.setImmediate(E);y+=m<f?d:d.substr(0,h),++m,w()}w()}}).call(this,r(1).Buffer)},function(e,t){},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=u[1],u[1]=u[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var u,l=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-l));for(var c=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)c+=(u=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(c>>>0),c=u>>>0;a.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},i};var o=null,a=!1;function s(e,t,r){for(var n,i,o,a,s,u,l,c=r.length();c>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,l=0;l<16;++l)n=r.getInt32(),t[l]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<20;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<32;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<40;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<60;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<80;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o^a^s)+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,c-=64}}},function(e,t,r){var n=r(2);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(36),r(57),r(3),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return p(r._keys,e,t,!1)},decrypt:function(e,t){return p(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=e.length()>8?3:1,y=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<v;w++){var E=e.getInt32(),C=e.getInt32();E^=(t=252645135&(E>>>4^C))<<4,E^=t=65535&((C^=t)>>>-16^E),E^=(t=858993459&(E>>>2^(C^=t<<-16)))<<2,E^=t=65535&((C^=t)>>>-16^E),E^=(t=1431655765&(E>>>1^(C^=t<<-16)))<<1,E^=t=16711935&((C^=t)>>>8^E),t=(E^=(t=1431655765&(E>>>1^(C^=t<<8)))<<1)<<8|(C^=t)>>>20&240,E=C<<24|C<<8&16711680|C>>>8&65280|C>>>24&240,C=t;for(var S=0;S<m.length;++S){m[S]?(E=E<<2|E>>>26,C=C<<2|C>>>26):(E=E<<1|E>>>27,C=C<<1|C>>>27);var _=r[(E&=-15)>>>28]|n[E>>>24&15]|i[E>>>20&15]|o[E>>>16&15]|a[E>>>12&15]|s[E>>>8&15]|u[E>>>4&15],T=l[(C&=-15)>>>28]|c[C>>>24&15]|f[C>>>20&15]|h[C>>>16&15]|p[C>>>12&15]|d[C>>>8&15]|g[C>>>4&15];t=65535&(T>>>16^_),y[b++]=_^t,y[b++]=T^t<<16}}return y}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],c=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(e,t,r,n){var i,p,d=32===e.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],v=t[1];g^=(p=252645135&(g>>>4^v))<<4,g^=(p=65535&(g>>>16^(v^=p)))<<16,g^=p=858993459&((v^=p)>>>2^g),g^=p=16711935&((v^=p<<2)>>>8^g),g=(g^=(p=1431655765&(g>>>1^(v^=p<<8)))<<1)<<1|g>>>31,v=(v^=p)<<1|v>>>31;for(var y=0;y<d;y+=3){for(var m=i[y+1],b=i[y+2],w=i[y];w!=m;w+=b){var E=v^e[w],C=(v>>>4|v<<28)^e[w+1];p=g,g=v,v=p^(a[E>>>24&63]|u[E>>>16&63]|c[E>>>8&63]|h[63&E]|o[C>>>24&63]|s[C>>>16&63]|l[C>>>8&63]|f[63&C])}p=g,g=v,v=p}v=v>>>1|v<<31,v^=p=1431655765&((g=g>>>1|g<<31)>>>1^v),v^=(p=16711935&(v>>>8^(g^=p<<1)))<<8,v^=(p=858993459&(v>>>2^(g^=p)))<<2,v^=p=65535&((g^=p)>>>16^v),v^=p=252645135&((g^=p<<16)>>>4^v),g^=p<<4,r[0]=g,r[1]=v}function d(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=e,i.call(t,r)},t}},function(e,t,r){var n=r(2);r(21),r(13),r(41),r(16),r(97),r(15),r(22),r(43),r(26),r(3);var i=n.asn1,o=e.exports=n.pki=n.pki||{},a=o.oids,s={};s.CN=a.commonName,s.commonName="CN",s.C=a.countryName,s.countryName="C",s.L=a.localityName,s.localityName="L",s.ST=a.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=a.organizationName,s.organizationName="O",s.OU=a.organizationalUnitName,s.organizationalUnitName="OU",s.E=a.emailAddress,s.emailAddress="E";var u=n.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},f={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[f,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function p(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}o.RDNAttributesAsArray=function(e,t){for(var r,n,o,u=[],l=0;l<e.value.length;++l){r=e.value[l];for(var c=0;c<r.value.length;++c)o={},n=r.value[c],o.type=i.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in a&&(o.name=a[o.type],o.name in s&&(o.shortName=s[o.name])),t&&(t.update(o.type),t.update(o.value)),u.push(o)}return u},o.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],u=i.derToOid(n.value[0].value),l=n.value[1].value,c=0;c<l.length;++c){var f={};if(f.type=u,f.value=l[c].value,f.valueTagClass=l[c].type,f.type in a&&(f.name=a[f.type],f.name in s&&(f.shortName=s[f.name])),f.type===a.extensionRequest){f.extensions=[];for(var h=0;h<f.value.length;++h)f.extensions.push(o.certificateExtensionFromAsn1(f.value[h]))}t.push(f)}return t};var d=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var o={},s=[];if(!i.validate(t,c,o,s)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=s,u}return void 0!==o.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(n.saltLength=o.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,s=0;s<a.length;++s){var u=(t=a[s]).value,l=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(l=t.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,l,!1,u)])]),o.value.push(r)}return o}function v(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in o.oids?t.name=o.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=o.oids[s[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in o.oids))throw(u=new Error("Attribute type not specified.")).attribute=t,u;t.type=o.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(o.certificateExtensionToAsn1(y(t.extensions[n])))}var u;if(void 0===t.value)throw(u=new Error("Attribute value not specified.")).attribute=t,u}}function y(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in o.oids&&(e.name=o.oids[e.id]),void 0===e.id){if(!(e.name&&e.name in o.oids))throw(E=new Error("Extension ID not specified.")).extension=e,E;e.id=o.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,s=0,u=0;e.digitalSignature&&(s|=128,r=7),e.nonRepudiation&&(s|=64,r=6),e.keyEncipherment&&(s|=32,r=5),e.dataEncipherment&&(s|=16,r=4),e.keyAgreement&&(s|=8,r=3),e.keyCertSign&&(s|=4,r=2),e.cRLSign&&(s|=2,r=1),e.encipherOnly&&(s|=1,r=0),e.decipherOnly&&(u|=128,r=7);var l=String.fromCharCode(r);0!==u?l+=String.fromCharCode(s)+String.fromCharCode(u):0!==s&&(l+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,l)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var f in e)!0===e[f]&&(f in a?c.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[f]).getBytes())):-1!==f.indexOf(".")&&c.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f).getBytes())))}else if("nsCertType"===e.name){r=0,s=0;e.client&&(s|=128,r=7),e.server&&(s|=64,r=6),e.email&&(s|=32,r=5),e.objsign&&(s|=16,r=4),e.reserved&&(s|=8,r=3),e.sslCA&&(s|=4,r=2),e.emailCA&&(s|=2,r=1),e.objCA&&(s|=1,r=0);l=String.fromCharCode(r);0!==s&&(l+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,l)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<e.altNames.length;++h){l=(m=e.altNames[h]).value;if(7===m.type&&m.ip){if(null===(l=n.util.bytesFromIP(m.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===m.type&&(l=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(l));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,l))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);c=e.value.value;if(e.keyIdentifier){var d=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(e.authorityCertIssuer){var v=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];c.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var y=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);c.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);c=e.value.value;var m,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),w=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<e.altNames.length;++h){l=(m=e.altNames[h]).value;if(7===m.type&&m.ip){if(null===(l=n.util.bytesFromIP(m.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===m.type&&(l=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(l));w.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,l))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[w])),c.push(b)}var E;if(void 0===e.value)throw(E=new Error("Extension value not specified.")).extension=e,E;return e}function m(e,t){switch(e){case a["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function b(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,o=0;o<r.length;++o){var a=r[o],s=a.value,u=i.Type.UTF8;"valueTagClass"in a&&(u=a.valueTagClass),u===i.Type.UTF8&&(s=n.util.encodeUtf8(s));var l=!1;"valueConstructed"in a&&(l=a.valueConstructed);var c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,l,s)])]);t.value.push(c)}return t}o.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return o.certificateFromAsn1(u,t)},o.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(o.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.publicKeyFromAsn1(a)},o.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(o.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(o.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var s=a.digest();if("hex"===t.encoding){var u=s.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s},o.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return o.certificationRequestFromAsn1(u,t)},o.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(o.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return p(e.issuer,t)},e.issuer.addField=function(t){v([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){v(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){v(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)y(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],t.id&&r.id===t.id?n=r:t.name&&r.name===t.name&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=o.getTBSCertificate(e);var l=i.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var s=t.issuer,u=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=s.attributes,g.actualIssuer=u.attributes,g}var l=t.md;if(null===l){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":l=n.md.sha1.create();break;case"md5WithRSAEncryption":l=n.md.md5.create();break;case"sha256WithRSAEncryption":l=n.md.sha256.create();break;case"sha384WithRSAEncryption":l=n.md.sha384.create();break;case"sha512WithRSAEncryption":l=n.md.sha512.create();break;case"RSASSA-PSS":l=n.md.sha256.create()}if(null===l)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var c=t.tbsCertificate||o.getTBSCertificate(t),f=i.toDer(c);l.update(f.getBytes())}if(null!==l){var h;switch(t.signatureOid){case a.sha1WithRSAEncryption:h=void 0;break;case a["RSASSA-PSS"]:var p,d,g;if(void 0===(p=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=p,g;if(void 0===(d=a[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=d,g;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=a[t.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:p};h=n.pss.create(n.md[p].create(),d,t.signatureParameters.saltLength)}r=e.publicKey.verify(l.digest().getBytes(),t.signature,h)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,a;r=!0;for(var s=0;r&&s<n.attributes.length;++s)o=n.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var o=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},e},o.certificateFromAsn1=function(e,t){var r={},s=[];if(!i.validate(e,l,r,s))throw(h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,h;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=n.util.createBuffer(r.certSerialNumber);u.serialNumber=c.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var f=[];if(void 0!==r.certValidity1UTCTime&&f.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&f.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=f[0],u.validity.notAfter=f[1],u.tbsCertificate=r.tbsCertificate,t){var h;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=u.signatureOid,h;var g=i.toDer(u.tbsCertificate);u.md.update(g.getBytes())}var y=n.md.sha1.create();u.issuer.getField=function(e){return p(u.issuer,e)},u.issuer.addField=function(e){v([e]),u.issuer.attributes.push(e)},u.issuer.attributes=o.RDNAttributesAsArray(r.certIssuer,y),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=y.digest().toHex();var m=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){v([e]),u.subject.attributes.push(e)},u.subject.attributes=o.RDNAttributesAsArray(r.certSubject,m),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=m.digest().toHex(),r.certExtensions?u.extensions=o.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},o.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(o.certificateExtensionFromAsn1(n.value[i]));return t},o.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,o=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1),o=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&o)}else if("basicConstraints"===t.name){(u=i.fromDer(t.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var s=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?s=u.value[0].value:u.value.length>1&&(s=u.value[1].value),null!==s&&(t.pathLenConstraint=i.derToInteger(s))}else if("extKeyUsage"===t.name)for(var u=i.fromDer(t.value),l=0;l<u.value.length;++l){var c=i.derToOid(u.value[l].value);c in a?t[a[c]]=!0:t[c]=!0}else if("nsCertType"===t.name){r=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var f;t.altNames=[];u=i.fromDer(t.value);for(var h=0;h<u.value.length;++h){var p={type:(f=u.value[h]).type,value:f.value};switch(t.altNames.push(p),f.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(f.value);break;case 8:p.oid=i.derToOid(f.value)}}}else if("subjectKeyIdentifier"===t.name){u=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(u.value)}return t},o.certificationRequestFromAsn1=function(e,t){var r={},s=[];if(!i.validate(e,h,r,s))throw(l=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=s,l;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,t){var l;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(l=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,l;var c=i.toDer(u.certificationRequestInfo);u.md.update(c.getBytes())}var f=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){v([e]),u.subject.attributes.push(e)},u.subject.attributes=o.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),u.subject.hash=f.digest().toHex(),u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(e){return p(u,e)},u.addAttribute=function(e){v([e]),u.attributes.push(e)},u.attributes=o.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},o.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return p(e,t)},e.addAttribute=function(t){v([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){v(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){v(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=o.getCertificationRequestInfo(e);var l=i.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(h=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,h;var s=e.certificationRequestInfo||o.getCertificationRequestInfo(e),u=i.toDer(s);r.update(u.getBytes())}if(null!==r){var l;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var c,f,h;if(void 0===(c=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[c])throw(h=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,h.name=c,h;if(void 0===(f=a[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[f])throw(h=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,h.name=f,h;if(f=n.mgf[f].create(n.md[c].create()),void 0===(c=a[e.signatureParameters.hash.algorithmOid])||void 0===n.md[c])throw(h=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,h.name=c,h;l=n.pss.create(n.md[c].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,l)}return t},e};var w=new Date("1950-01-01T00:00:00Z"),E=new Date("2050-01-01T00:00:00Z");function C(e){return e>=w&&e<E?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(e))}o.getTBSCertificate=function(e){var t=C(e.validity.notBefore),r=C(e.validity.notAfter),a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),m(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,r]),g(e.subject),o.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(o.certificateExtensionsToAsn1(e.extensions)),a},o.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),g(e.subject),o.publicKeyToAsn1(e.publicKey),b(e)])},o.distinguishedNameToAsn1=function(e){return g(e)},o.certificateToAsn1=function(e){var t=e.tbsCertificate||o.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),m(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(o.certificateExtensionToAsn1(e[n]));return t},o.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},o.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||o.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),m(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=o.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=i.toDer(o.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s){if(a===i.toDer(o.certificateToAsn1(t[s])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var o=0;o<i.length;++o)e.push(i[o]);else e.push(i)}return e},t.removeCertificate=function(e){var s;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var u=r(e.subject);if(!n.util.isArray(u))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var l=i.toDer(o.certificateToAsn1(e)).getBytes(),c=0;c<u.length;++c){l===i.toDer(o.certificateToAsn1(u[c])).getBytes()&&(s=u[c],u.splice(c,1))}return 0===u.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var u=e[s];t.addCertificate(u)}return t},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var i=(t=t.slice(0)).slice(0),a=r.validityCheckDate;void 0===a&&(a=new Date);var s=!0,u=null,l=0;do{var c=t.shift(),f=null,h=!1;if(a&&(a<c.validity.notBefore||a>c.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:a}),null===u){if(null===(f=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(h=!0,f=c),f){var p=f;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){f=p.shift();try{d=f.verify(c)}catch(e){}}d||(u={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==u||f&&!h||e.hasCertificate(c)||(u={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===u&&f&&!c.isIssuer(f)&&(u={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===u)for(var g={keyUsage:!0,basicConstraints:!0},v=0;null===u&&v<c.extensions.length;++v){var y=c.extensions[v];!y.critical||y.name in g||(u={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===u&&(!s||0===t.length&&(!f||h))){var m=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==m||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate})),null!==u||null===m||m.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===u&&null!==b&&"pathLenConstraint"in m)l-1>m.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var w=null===u||u.error,E=r.verify?r.verify(w,l,i):w;if(!0!==E)throw!0===w&&(u={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(E||0===E)&&("object"!=typeof E||n.util.isArray(E)?"string"==typeof E&&(u.error=E):(E.message&&(u.message=E.message),E.error&&(u.error=E.error))),u;u=null,s=!1,++l}while(t.length>0);return!0}},function(e,t,r){var n=r(2);r(14),r(3),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,o=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||n.random,u={encode:function(e,u){var l,c,f=u-1,h=Math.ceil(f/8),p=e.digest().getBytes();if(h<o+t+2)throw new Error("Message is too long to encrypt.");c=null===a?s.getBytesSync(t):a.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(c),r.start(),r.update(d.getBytes());var g=r.digest().getBytes(),v=new n.util.ByteBuffer;v.fillWithByte(0,h-t-o-2),v.putByte(1),v.putBytes(c);var y=v.getBytes(),m=h-o-1,b=i.generate(g,m),w="";for(l=0;l<m;l++)w+=String.fromCharCode(y.charCodeAt(l)^b.charCodeAt(l));var E=65280>>8*h-f&255;return(w=String.fromCharCode(w.charCodeAt(0)&~E)+w.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,s){var u,l=s-1,c=Math.ceil(l/8);if(a=a.substr(-c),c<o+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(c-1))throw new Error("Encoded message does not end in 0xBC.");var f=c-o-1,h=a.substr(0,f),p=a.substr(f,o),d=65280>>8*c-l&255;if(0!=(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(p,f),v="";for(u=0;u<f;u++)v+=String.fromCharCode(h.charCodeAt(u)^g.charCodeAt(u));v=String.fromCharCode(v.charCodeAt(0)&~d)+v.substr(1);var y=c-o-t-2;for(u=0;u<y;u++)if(0!==v.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==v.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=v.substr(-t),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(m),r.start(),r.update(b.getBytes()),p===r.digest().getBytes()}};return u}},function(e,t,r){"use strict";
/*!
 * algorithms/index.js - Cryptographic Algorithms Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=[r(109),r(111),r(47),r(69),r(115),r(116),r(118),r(72),r(45),r(119),r(120),r(121),r(30)],i={},o={},a={},s={},u={},l={};n.forEach((function(e){Object.keys(e).forEach((function(t){var r=e[t];"function"==typeof r.encrypt&&(u[t]=r.encrypt),"function"==typeof r.decrypt&&(l[t]=r.decrypt),"function"==typeof r.sign&&(a[t]=r.sign),"function"==typeof r.verify&&(s[t]=r.verify),"function"==typeof r.digest&&(i[t]=r.digest),"function"==typeof r.derive&&(o[t]=r.derive)}))})),t.digest=function(e,t,r){var n=i[e];return n?n(t,r):Promise.reject(new Error("unsupported algorithm: "+e))},t.derive=function(e,t,r){var n=o[e];return n?n(t,r):Promise.reject(new Error("unsupported algorithm: "+e))},t.sign=function(e,t,r,n){var i=a[e];return i?i(t,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))},t.verify=function(e,t,r,n,i){var o=s[e];return o?o(t,r,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+e))},t.encrypt=function(e,t,r,n){var i=u[e];return i?i(t,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))},t.decrypt=function(e,t,r,n){var i=l[e];return i?i(t,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))}},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/hmac.js - HMAC-based "signatures"
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(11),i=r(4),o=r(23),a=r(9);function s(e){var r=e.replace("HS","SHA").toLowerCase(),o=e.replace("HS","SHA-");function s(e,t){return(e=(e||n.HASHLENGTH[o])/8)>t.length?Promise.reject(new Error("invalid key length")):Promise.resolve(t)}return a.setupFallback((function(e,t,n){return s((n=n||{}).length,e).then((function(){var n=a.nodeCrypto.createHmac(r,e);n.update(t);var i=n.digest();return{data:t,mac:i}}))}),(function(e,r,n){var i={name:"HMAC",hash:{name:o}};return s((n=n||{}).length,e).then((function(){return a.subtleCrypto.importKey("raw",e,i,!0,["sign"])})).then((function(e){return a.subtleCrypto.sign(i,e,r)})).then((function(e){var n=t.from(e);return{data:r,mac:n}}))}),(function(e,t,n){return s((n=n||{}).length,e).then((function(){var n=i.hmac.create();return n.start(r,e.toString("binary")),n.update(t),n=n.digest().native(),{data:t,mac:n}}))}))}function u(e){var r=e.replace("HS","SHA").toLowerCase(),s=e.replace("HS","SHA-");function u(e,t,r){e=(e||n.HASHLENGTH[s])/8;for(var i=!0,o=0;e>o;o++)i=i&&t[o]===r[o];return i}return a.setupFallback((function(e,t,n,i){i=i||{};var o=a.nodeCrypto.createHmac(r,e);o.update(t);var s=o.digest();if(!u(i.length,n,s))throw new Error("verification failed");return{data:t,mac:s,valid:!0}}),(function(e,r,n,i){var o={name:"HMAC",hash:{name:s}};return((i=i||{}).length?a.subtleCrypto.importKey("raw",e,o,!0,["sign"]).then((function(e){return a.subtleCrypto.sign(o,e,r)})).then((function(e){var r=t.from(e);return u(i.length,n,r)})):a.subtleCrypto.importKey("raw",e,o,!0,["verify"]).then((function(e){return a.subtleCrypto.verify(o,e,n,r)}))).then((function(e){return e?{data:r,mac:n,valid:!0}:Promise.reject(new Error("verifaction failed"))}))}),(function(e,t,n,a){a=a||{};var s=i.hmac.create();return s.start(r,new o(e)),s.update(t),s=s.digest().native(),u(a.length,n,s)?Promise.resolve({data:t,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))}))}var l={};["HS1","HS256","HS384","HS512"].forEach((function(e){l[e]={sign:s(e),verify:u(e)}})),e.exports=l}).call(this,r(1).Buffer)},function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var o={},a={};function s(e,t){var r,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=a[e])?n:(r=l(e,(0|e)<0?-1:0,!0),i&&(a[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(r=l(e,e<0?-1:0,!1),i&&(o[e]=r),r)}function u(e,t){if(isNaN(e))return t?m:y;if(t){if(e<0)return m;if(e>=d)return S}else{if(e<=-g)return _;if(e+1>=g)return C}return e<0?u(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=u,n.fromBits=l;var c=Math.pow;function f(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return f(e.substring(1),t,r).neg();for(var i=u(c(r,8)),o=y,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+s),r);if(s<8){var h=u(c(r,s));o=o.mul(h).add(u(l))}else o=(o=o.mul(i)).add(u(l))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?f(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=f,n.fromValue=h;var p=4294967296,d=p*p,g=d/2,v=s(1<<24),y=s(0);n.ZERO=y;var m=s(0,!0);n.UZERO=m;var b=s(1);n.ONE=b;var w=s(1,!0);n.UONE=w;var E=s(-1);n.NEG_ONE=E;var C=l(-1,2147483647,!1);n.MAX_VALUE=C;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var _=l(0,-2147483648,!1);n.MIN_VALUE=_;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(c(e,6),this.unsigned),o=this,a="";;){var s=o.div(i),l=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(b)},T.neg=T.negate,T.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,f=0,p=0,d=0;return p+=(d+=o+(65535&e.low))>>>16,f+=(p+=n+u)>>>16,c+=(f+=r+s)>>>16,c+=t+a,l((p&=65535)<<16|(d&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},T.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return y;if(i(e)||(e=h(e)),r)return l(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(_))return e.isOdd()?_:y;if(e.eq(_))return this.isOdd()?_:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,c=65535&e.high,f=e.low>>>16,p=65535&e.low,d=0,g=0,m=0,b=0;return m+=(b+=a*p)>>>16,g+=(m+=o*p)>>>16,m&=65535,g+=(m+=a*f)>>>16,d+=(g+=n*p)>>>16,g&=65535,d+=(g+=o*f)>>>16,g&=65535,d+=(g+=a*c)>>>16,d+=t*p+n*f+o*c+a*s,l((m&=65535)<<16|(b&=65535),(d&=65535)<<16|(g&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,n,o;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return w;o=m}else{if(this.eq(_))return e.eq(b)||e.eq(E)?_:e.eq(_)?b:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:E:(n=this.sub(e.mul(t)),o=t.add(n.div(e)));if(e.eq(_))return this.unsigned?m:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=y}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:c(2,a-48),f=u(t),p=f.mul(e);p.isNegative()||p.gt(n);)p=(f=u(t-=s,this.unsigned)).mul(e);f.isZero()&&(f=b),o=o.add(f),n=n.sub(p)}return o},T.div=T.divide,T.modulo=function(e){return i(e)||(e=h(e)),r?l((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return l(~this.low,~this.high,this.unsigned)},T.and=function(e){return i(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return i(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return i(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/aes-kw.js - AES-KW Key-Wrapping
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(9),i=r(4),o=r(23),a=t.from("a6a6a6a6a6a6a6a6","hex");function s(e,r){for(var n=Math.max(e.length,r.length),i=t.alloc(n),o=0;n>o;o++)i[o]=(e[o]||0)^(r[o]||0);return i}function u(e,t){for(var r=[],n=0;e.length>n;n+=t)r.push(e.slice(n,n+t));return r}function l(e){var r=Math.floor(e/4294967296),n=e%4294967296,i=t.alloc(8);return i[0]=255&r>>>24,i[1]=255&r>>>16,i[2]=255&r>>>8,i[3]=255&r>>>0,i[4]=255&n>>>24,i[5]=255&n>>>16,i[6]=255&n>>>8,i[7]=255&n>>>0,i}function c(e){function r(t,r){if(e!==t.length<<3)throw new Error("invalid key size");if(0<r.length&&0!=r.length%8)throw new Error("invalid data length")}return n.setupFallback((function(i,o){try{r(i,o)}catch(e){return Promise.reject(e)}var c,f,h,p=u(o,8),d=t.alloc(16);c=a;for(var g=0;6>g;g++)for(var v=0;p.length>v;v++){h=p.length*g+v+1,f=t.concat([c,p[v]]),c=s((f=n.nodeCrypto.createCipheriv("AES"+e,i,d).update(f)).slice(0,8),l(h)),p[v]=f.slice(8,16)}p=[c].concat(p);var y=t.concat(p);return Promise.resolve({data:y})}),(function(e,i){try{r(e,i)}catch(e){return Promise.reject(e)}var o={name:"AES-KW"},a=[n.subtleCrypto.importKey("raw",i,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),n.subtleCrypto.importKey("raw",e,o,!0,["wrapKey"])];return a=(a=(a=Promise.all(a)).then((function(e){return n.subtleCrypto.wrapKey("raw",e[0],e[1],o)}))).then((function(e){return{data:e=t.from(e)}}))}),(function(e,n){try{r(e,n)}catch(e){return Promise.reject(e)}var c,f,h,p=i.cipher.createCipher("AES",new o(e)),d=u(n,8);c=a;for(var g=0;6>g;g++)for(var v=0;d.length>v;v++)h=d.length*g+v+1,f=t.concat([c,d[v]]),p.start(),p.update(new o(f)),p.finish(),c=s((f=p.output.native()).slice(0,8),l(h)),d[v]=f.slice(8,16);d=[c].concat(d);var y=t.concat(d);return Promise.resolve({data:y})}))}function f(e){function r(t,r){if(e!==t.length<<3)throw new Error("invalid key size");if(0<r.length-8&&0!=r.length%8)throw new Error("invalid data length")}return n.setupFallback((function(i,o){try{r(i,o)}catch(e){return Promise.reject(e)}var c,f,h=u(o,8),p=t.alloc(16);c=h[0],h=h.slice(1);for(var d=5;0<=d;--d)for(var g=h.length-1;0<=g;--g){f=s(c,l(h.length*d+g+1)),f=t.concat([f,h[g],p]),c=(f=n.nodeCrypto.createDecipheriv("AES"+e,i,p).update(f)).slice(0,8),h[g]=f.slice(8,16)}if(c.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var v=t.concat(h);return Promise.resolve(v)}),(function(e,i){try{r(e,i)}catch(e){return Promise.reject(e)}var o={name:"AES-KW"},a=n.subtleCrypto.importKey("raw",e,o,!0,["unwrapKey"]);return a=(a=(a=a.then((function(e){return n.subtleCrypto.unwrapKey("raw",i,e,o,{name:"HMAC",hash:"SHA-256"},!0,["sign"])}))).then((function(e){return n.subtleCrypto.exportKey("raw",e)}))).then((function(e){return e=t.from(e)}))}),(function(e,n){try{r(e,n)}catch(e){return Promise.reject(e)}var c,f,h=i.cipher.createDecipher("AES",new o(e)),p=u(n,8);c=p[0],p=p.slice(1);for(var d=5;0<=d;--d)for(var g=p.length-1;0<=g;--g)f=s(c,l(p.length*d+g+1)),f=t.concat([f,p[g]]),h.start(),h.update(new o(f)),h.finish(),c=(f=h.output.native()).slice(0,8),p[g]=f.slice(8,16);if(c.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var v=t.concat(p);return Promise.resolve(v)}))}var h={};["A128KW","A192KW","A256KW"].forEach((function(e){var t=parseInt(/A(\d+)KW/g.exec(e)[1]);h[e]={encrypt:c(t),decrypt:f(t)}})),e.exports=h}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/ec-util.js - Elliptic Curve Utility Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(8).clone,i=r(70),o=r(4),a=r(5),s={"P-256":256,"P-384":384,"P-521":521};function u(e,t){var r=n(e);return(t?["x","y"]:["d"]).forEach((function(e){r[e]=a.asBuffer(r[e],"base64url")})),r}var l=t.from([4]);var c="1.2.840.10045.2.1";var f="Could not extract parameters from DER signature";function h(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={convertToForge:function(e,t){var r=t?["x","y"]:["d"];return r=r.map((function(t){return new o.jsbn.BigInteger(e[t].toString("hex"),16)})),r=[e.crv].concat(r),(t?i.asPublicKey:i.asPrivateKey).apply(i,r)},convertToJWK:function(e,t){var r=n(e);return(t?["x","y"]:["x","y","d"]).forEach((function(e){r[e]=a.base64url.encode(r[e])})),delete r.key_ops,delete r.use,delete r.alg,t&&delete r.d,r},convertToObj:u,convertToBuffer:function(e,r){return e=u(e,r),r?t.concat([l,e.x,e.y]):e.d},curveSize:function(e){return s[e||""]||NaN},derToConcat:function(e,r){var n=0;if(48!==e[n++])throw new Error(f);var i=e[n++];if(129===i&&(i=e[n++]),i>e.length-n)throw new Error(f);if(2!==e[n++])throw new Error(f);var o=e[n++];if(o>e.length-n-2)throw new Error(f);if(o>r+1)throw new Error(f);var a=n;if(n+=o,2!==e[n++])throw new Error(f);var s=e[n++];if(s!==e.length-n)throw new Error(f);if(s>r+1)throw new Error(f);var u=n;if((n+=s)!==e.length)throw new Error(f);var l=r-o,c=r-s,h=t.alloc(l+o+c+s);for(n=0;n<l;++n)h[n]=0;var p=Math.max(-l,0);e.copy(h,n,a+p,a+o);for(var d=n=r;n<d+c;++n)h[n]=0;var g=Math.max(-c,0);return e.copy(h,n,u+g,u+s),h},concatToDer:function(e,r){var n=h(e,0,r),i=h(e,r,e.length),o=r-n,a=r-i,s=o+a+4,u=s<128,l=t.alloc((u?2:3)+s),c=0;return l[c++]=48,u?l[c++]=s:(l[c++]=129,l[c++]=255&s),l[c++]=2,l[c++]=o,n<0?(l[c++]=0,c+=e.copy(l,c,0,r)):c+=e.copy(l,c,n,r),l[c++]=2,l[c++]=a,i<0?(l[c++]=0,e.copy(l,c,r)):e.copy(l,c,r+i),l},convertToPEM:function(e,r){var n,i,a,s=e.crv;return s=function(e){switch(e){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}(s),s=o.asn1.oidToDer(s),r?(n="EC PRIVATE KEY",i=t.concat([t.from([0,4]),e.x,e.y]).toString("binary"),e=e.d.toString("binary"),a=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.INTEGER,!1,""),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OCTETSTRING,!1,e),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,0,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,s.bytes())]),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,1,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,i)])])):(n="PUBLIC KEY",e=t.concat([t.from([0,4]),e.x,e.y]).toString("binary"),a=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,o.asn1.oidToDer(c).bytes()),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,s.bytes())]),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,e)])),a=o.asn1.toDer(a).bytes(),o.pem.encode({type:n,body:a})},EC_OID:c}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * algorithms/rsa-util.js - RSA Utility Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(8).clone,i=r(4),o=r(5);function a(e,t){var r=t?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return r=r.map((function(t){return new i.jsbn.BigInteger(e[t].toString("hex"),16)})),(t?i.pki.rsa.setPublicKey:i.pki.rsa.setPrivateKey).apply(i.pki.rsa,r)}e.exports={convertToForge:a,convertToJWK:function(e,t){var r=n(e);return(t?["n","e"]:["n","e","d","p","q","dp","dq","qi"]).forEach((function(e){r[e]=o.base64url.encode(r[e])})),delete r.key_ops,delete r.use,delete r.alg,t&&(delete r.d,delete r.p,delete r.q,delete r.dp,delete r.dq,delete r.qi),r},convertToPem:function(e,t){var r,n=t?"__cachedPublicPem":"__cachedPrivatePem";return e[n]?e[n]:(r=t?i.pki.publicKeyToPem(a(e,t)):i.pki.privateKeyToPem(a(e,t)),Object.defineProperty(e,n,{value:r}),r)}}},function(e,t,r){"use strict";
/*!
 * jwe/index.js - JSON Web Encryption (JWE) Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n={createEncrypt:r(128).createEncrypt,createDecrypt:r(152).createDecrypt};e.exports=n},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=g(u,l);for(r=0;r<l;++r)o(c[r],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){(t=e.exports=r(77)).Stream=t,t.Readable=t,t.Writable=r(53),t.Duplex=r(17),t.Transform=r(81),t.PassThrough=r(134)},function(e,t,r){"use strict";(function(t,n,i){var o=r(32);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;m.WritableState=y;var l=r(25);l.inherits=r(20);var c={deprecate:r(133)},f=r(78),h=r(33).Buffer,p=i.Uint8Array||function(){};var d,g=r(79);function v(){}function y(e,t){s=s||r(17),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),_(e,t))}(e,r,n,t,i);else{var a=C(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?u(w,e,r,a,i):w(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(e){if(s=s||r(17),!(d.call(m,this)||this instanceof s))return new m(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),_(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback;if(b(e,t,!1,t.objectMode?1:l.length,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var r=C(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(m,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===m&&(e&&e._writableState instanceof y)}})):d=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=e,h.isBuffer(n)||n instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=v),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),i=!1),i}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,n,i,o);return u}(this,i,s,e,t,r)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,_(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(10),r(56).setImmediate,r(7))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){d[i]=e,d[i+1]=t,2===(i+=2)&&(a?a(g):w())},u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var d=new Array(1e3);function g(){for(var e=0;e<i;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;i=0}var v,y,m,b,w=void 0;function E(e,t){var r=this,n=new this.constructor(_);void 0===n[S]&&F(n);var i=r._state;if(i){var o=arguments[i-1];s((function(){return D(i,n,o,r._result)}))}else O(r,n,e,t);return n}function C(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return x(t,e),t}f?w=function(){return t.nextTick(g)}:c?(y=0,m=new c(g),b=document.createTextNode(""),m.observe(b,{characterData:!0}),w=function(){b.data=y=++y%2}):h?((v=new MessageChannel).port1.onmessage=g,w=function(){return v.port2.postMessage(0)}):w=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(g)}:p()}catch(e){return p()}}():p();var S=Math.random().toString(36).substring(2);function _(){}var T=void 0,A=1,k=2;function I(t,r,n){r.constructor===t.constructor&&n===E&&r.constructor.resolve===C?function(e,t){t._state===A?B(e,t._result):t._state===k?L(e,t._result):O(t,void 0,(function(t){return x(e,t)}),(function(t){return L(e,t)}))}(t,r):void 0===n?B(t,r):e(n)?function(e,t,r){s((function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?x(e,r):B(e,r))}),(function(t){n||(n=!0,L(e,t))}),e._label);!n&&i&&(n=!0,L(e,i))}),e)}(t,r,n):B(t,r)}function x(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=t),null===n||"object"!==i&&"function"!==i)B(e,t);else{var r=void 0;try{r=t.then}catch(t){return void L(e,t)}I(e,t,r)}var n,i}function N(e){e._onerror&&e._onerror(e._result),R(e)}function B(e,t){e._state===T&&(e._result=t,e._state=A,0!==e._subscribers.length&&s(R,e))}function L(e,t){e._state===T&&(e._state=k,e._result=t,s(N,e))}function O(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+A]=r,i[o+k]=n,0===o&&e._state&&s(R,e)}function R(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?D(r,n,i,o):i(o);e._subscribers.length=0}}function D(t,r,n,i){var o=e(n),a=void 0,s=void 0,u=!0;if(o){try{a=n(i)}catch(e){u=!1,s=e}if(r===a)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state!==T||(o&&u?x(r,a):!1===u?L(r,s):t===A?B(r,a):t===k&&L(r,a))}var P=0;function F(e){e[S]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var U=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[S]||F(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===T&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===C){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===E&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===M){var s=new r(_);a?L(s,o):I(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===T&&(this._remaining--,e===k?L(n,r):this._result[t]=r),0===this._remaining&&B(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;O(e,void 0,(function(e){return r._settledAt(A,t,e)}),(function(e){return r._settledAt(k,t,e)}))},e}(),M=function(){function t(e){this[S]=P++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){x(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return M.prototype.then=E,M.all=function(e){return new U(this,e).promise},M.race=function(e){var t=this;return n(e)?new t((function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},M.resolve=C,M.reject=function(e){var t=new this(_);return L(t,e),t},M._setScheduler=function(e){a=e},M._setAsap=function(e){s=e},M._asap=s,M.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M},e.exports=n()}).call(this,r(10),r(7))},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(94),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(7))},function(e,t,r){var n=r(2);r(3),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function o(e){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var t=e;e=n.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}return n.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=s(8*t.length());var o=t.length()%this.blockSize;for(o&&t.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],u=(n-1-a%n)*t;s[a/n|0]=1<<t-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],u=i[a];i[o+a]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var l=i[o^n];i[o]=[e[0]^l[0],e[1]^l[1],e[2]^l[2],e[3]^l[3]]}return i}},function(e,t,r){var n=r(2);r(3),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,o=Math.ceil(r/e.digestLength),a=0;a<o;a++){var s=new n.util.ByteBuffer;s.putInt32(a),e.start(),e.update(t+s.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(e,t,r){var n=r(2);r(3),r(14),r(40);var i=e.exports=n.pkcs1=n.pkcs1||{};function o(e,t,r){r||(r=n.md.sha1.create());for(var i="",o=Math.ceil(t/r.digestLength),a=0;a<o;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+s),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,a,s,u;"string"==typeof r?(i=r,a=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,a=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),u||(u=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c)throw(v=new Error("RSAES-OAEP input message length is too long.")).length=t.length,v.maxLength=c,v;i||(i=""),s.update(i,"raw");for(var f=s.digest(),h="",p=c-t.length,d=0;d<p;d++)h+="\0";var g=f.getBytes()+h+""+t;if(a){if(a.length!==s.digestLength){var v;throw(v=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,v.digestLength=s.digestLength,v}}else a=n.random.getBytes(s.digestLength);var y=o(a,l-s.digestLength-1,u),m=n.util.xorBytes(g,y,g.length),b=o(m,s.digestLength,u),w=n.util.xorBytes(a,b,a.length);return"\0"+w+m},i.decode_rsa_oaep=function(e,t,r){var i,a,s;"string"==typeof r?(i=r,a=arguments[3]||void 0):r&&(i=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw(m=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,m.expectedLength=u,m;if(void 0===a?a=n.md.sha1.create():a.start(),s||(s=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var l=a.digest().getBytes(),c=t.charAt(0),f=t.substring(1,a.digestLength+1),h=t.substring(1+a.digestLength),p=o(h,a.digestLength,s),d=n.util.xorBytes(f,p,f.length),g=o(d,u-a.digestLength-1,s),v=n.util.xorBytes(h,g,h.length),y=v.substring(0,a.digestLength),m="\0"!==c,b=0;b<a.digestLength;++b)m|=l.charAt(b)!==y.charAt(b);for(var w=1,E=a.digestLength,C=a.digestLength;C<v.length;C++){var S=v.charCodeAt(C),_=1&S^1,T=w?65534:0;m|=S&T,E+=w&=_}if(m||1!==v.charCodeAt(E))throw new Error("Invalid RSAES-OAEP padding.");return v.substring(E+1)}},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=s[1],s[1]=s[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s,l=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-l));for(var c=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)c+=(s=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(c>>>0),c=s>>>0;a.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},i};var o=null,a=!1,s=null;function u(e,t,r){for(var n,i,o,a,u,l,c,f,h,p,d,g,v,y=r.length();y>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(l=e.h0,c=e.h1,f=e.h2,h=e.h3,p=e.h4,d=e.h5,g=e.h6,v=e.h7,u=0;u<64;++u)o=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),a=l&c|f&(l^c),n=v+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(g^p&(d^g))+s[u]+t[u],v=g,g=d,d=p,p=h+n>>>0,h=f,f=c,c=l,l=n+(i=o+a)>>>0;e.h0=e.h0+l|0,e.h1=e.h1+c|0,e.h2=e.h2+f|0,e.h3=e.h3+h|0,e.h4=e.h4+p|0,e.h5=e.h5+d|0,e.h6=e.h6+g|0,e.h7=e.h7+v|0,y-=64}}},function(e,t,r){(function(t){var n=r(2);r(3);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||t.versions["node-webkit"]||(i=r(39)),(e.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,o=new Array(32),a=0;a<32;++a)o[a]=r.create();function s(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function l(e){var t=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var o=n.util.createBuffer();if(t)for(;o.length()<e;){var a=Math.max(1,Math.min(e-o.length(),65536)/4),s=new Uint32Array(Math.floor(a));try{t(s);for(var u=0;u<s.length;++u)o.putInt32(s[u])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(o.length()<e)for(var l,c,f,h=Math.floor(65536*Math.random());o.length()<e;){c=16807*(65535&h),c+=(32767&(l=16807*(h>>16)))<<16,h=4294967295&(c=(2147483647&(c+=l>>15))+(c>>31));for(u=0;u<3;++u)f=h>>>(u<<3),f^=Math.floor(256*Math.random()),o.putByte(String.fromCharCode(255&f))}return o.getBytes(e)}return t.pools=o,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,o=t.plugin.increment,a=t.plugin.formatKey,s=t.plugin.formatSeed,l=n.util.createBuffer();t.key=null,function c(f){if(f)return r(f);if(l.length()>=e)return r(null,l.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return u(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),u(),e()}))}(c)}));var h=i(t.key,t.seed);t.generated+=h.length,l.putBytes(h),t.key=a(i(t.key,o(t.seed))),t.seed=s(i(t.key,t.seed)),n.util.setImmediate(c)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var u=n.util.createBuffer();u.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&s();var l=r(t.key,t.seed);t.generated+=l.length,u.putBytes(l),t.key=o(r(t.key,i(t.seed))),t.seed=a(r(t.key,t.seed))}return u.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,l(e))}catch(e){t(e)}},t.seedFileSync=l),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}}).call(this,r(10))},function(e,t,r){var n=r(2);r(13),r(3);var i=n.asn1,o=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=o;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=a;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,r){var n,i=r(2);e.exports=i.jsbn=i.jsbn||{};function o(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new o(null)}function s(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this.data[e],l=this.data[e++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+r.data[n]+i)>>28)+(c>>14)+s*l,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=o,"undefined"==typeof navigator?(o.prototype.am=s,n=28):"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this.data[e],l=this.data[e++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+r.data[n]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(o.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(o.prototype.am=s,n=28),o.prototype.DB=n,o.prototype.DM=(1<<n)-1,o.prototype.DV=1<<n;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-n,o.prototype.F2=2*n-52;var u,l,c="0123456789abcdefghijklmnopqrstuvwxyz",f=new Array;for(u="0".charCodeAt(0),l=0;l<=9;++l)f[u++]=l;for(u="a".charCodeAt(0),l=10;l<36;++l)f[u++]=l;for(u="A".charCodeAt(0),l=10;l<36;++l)f[u++]=l;function h(e){return c.charAt(e)}function p(e,t){var r=f[e.charCodeAt(t)];return null==r?-1:r}function d(e){var t=a();return t.fromInt(e),t}function g(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function v(e){this.m=e}function y(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function m(e,t){return e&t}function b(e,t){return e|t}function w(e,t){return e^t}function E(e,t){return e&~t}function C(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function S(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function _(){}function T(e){return e}function A(e){this.r2=a(),this.q3=a(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}v.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},v.prototype.revert=function(e){return e},v.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},v.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},v.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},y.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t},y.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},y.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},y.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},y.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},o.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},o.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},o.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=8==r?255&e[n]:p(e,n);s<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},o.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},o.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},o.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|s,s=(this.data[r]&o)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},o.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},o.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},o.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)},o.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},o.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var s=a(),u=this.s,l=e.s,c=this.DB-g(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,h=s.data[f-1];if(0!=h){var p=h*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),d=this.FV/p,v=(1<<this.F1)/p,y=1<<this.F2,m=r.t,b=m-f,w=null==t?a():t;for(s.dlShiftTo(b,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),o.ONE.dlShiftTo(f,w),w.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--b>=0;){var E=r.data[--m]==h?this.DM:Math.floor(r.data[m]*d+(r.data[m-1]+y)*v);if((r.data[m]+=s.am(0,E,r,b,0,f))<E)for(s.dlShiftTo(b,w),r.subTo(w,r);r.data[m]<--E;)r.subTo(w,r)}null!=t&&(r.drShiftTo(f,t),u!=l&&o.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),u<0&&o.ZERO.subTo(r,r)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(e,t){if(e>4294967295||e<1)return o.ONE;var r=a(),n=a(),i=t.convert(this),s=g(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var u=r;r=n,n=u}return t.revert(r)},o.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(i=!0,o=h(r));a>=0;)s<t?(r=(this.data[a]&(1<<s)-1)<<t-s,r|=this.data[--a]>>(s+=this.DB-t)):(r=this.data[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=h(r));return i?o:"0"},o.prototype.negate=function(){var e=a();return o.ZERO.subTo(this,e),e},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+g(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t},o.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new v(t):new y(t),this.exp(e,r)},o.ZERO=d(0),o.ONE=d(1),_.prototype.convert=T,_.prototype.revert=T,_.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},_.prototype.sqrTo=function(e,t){e.squareTo(t)},A.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},A.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var k=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=(1<<26)/k[k.length-1];o.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},o.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=d(r),i=a(),o=a(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(e)+s},o.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,u=0;u<e.length;++u){var l=p(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(i=!0):(s=t*s+l,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),b,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},o.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},o.prototype.changeBit=function(e,t){var r=o.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},o.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},o.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},o.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},o.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},o.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},o.prototype.millerRabin=function(e){var t=this.subtract(o.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},s=0;s<e;++s){do{n=new o(this.bitLength(),a)}while(n.compareTo(o.ONE)<=0||n.compareTo(t)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(t)){for(var l=1;l++<r&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},o.prototype.clone=function(){var e=a();return this.copyTo(e),e},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},o.prototype.equals=function(e){return 0==this.compareTo(e)},o.prototype.min=function(e){return this.compareTo(e)<0?this:e},o.prototype.max=function(e){return this.compareTo(e)>0?this:e},o.prototype.and=function(e){var t=a();return this.bitwiseTo(e,m,t),t},o.prototype.or=function(e){var t=a();return this.bitwiseTo(e,b,t),t},o.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,w,t),t},o.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,E,t),t},o.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},o.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},o.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},o.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+C(this.data[e]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=S(this.data[r]^t);return e},o.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},o.prototype.setBit=function(e){return this.changeBit(e,b)},o.prototype.clearBit=function(e){return this.changeBit(e,E)},o.prototype.flipBit=function(e){return this.changeBit(e,w)},o.prototype.add=function(e){var t=a();return this.addTo(e,t),t},o.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},o.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},o.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},o.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},o.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},o.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=d(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new v(t):t.isEven()?new A(t):new y(t);var s=new Array,u=3,l=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var f=a();for(n.sqrTo(s[1],f);u<=c;)s[u]=a(),n.mulTo(f,s[u-2],s[u]),u+=2}var h,p,m=e.t-1,b=!0,w=a();for(i=g(e.data[m])-1;m>=0;){for(i>=l?h=e.data[m]>>i-l&c:(h=(e.data[m]&(1<<i+1)-1)<<l-i,m>0&&(h|=e.data[m-1]>>this.DB+i-l)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--m),b)s[h].copyTo(o),b=!1;else{for(;u>1;)n.sqrTo(o,w),n.sqrTo(w,o),u-=2;u>0?n.sqrTo(o,w):(p=o,o=w,w=p),n.mulTo(w,s[h],o)}for(;m>=0&&0==(e.data[m]&1<<i);)n.sqrTo(o,w),p=o,o=w,w=p,--i<0&&(i=this.DB-1,--m)}return n.revert(o)},o.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;for(var r=e.clone(),n=this.clone(),i=d(1),a=d(0),s=d(0),u=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(u,a)):(n.subTo(r,n),t&&s.subTo(i,s),u.subTo(a,u))}return 0!=n.compareTo(o.ONE)?o.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},o.prototype.pow=function(e){return this.exp(e,new _)},o.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},o.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=k[k.length-1]){for(t=0;t<k.length;++t)if(r.data[0]==k[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<k.length;){for(var n=k[t],i=t+1;i<k.length&&n<I;)n*=k[i++];for(n=r.modInt(n);t<i;)if(n%k[t++]==0)return!1}return r.millerRabin(e)}},function(e,t,r){var n=r(2);r(3),r(63),r(14),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new r(null);o.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var a=t.prng||n.random,l={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===o.name)return function(e,t,i,o){if("workers"in i)return function(e,t,i,o){if("undefined"==typeof Worker)return s(e,t,i,o);var a=u(e,t),l=i.workers,c=i.workLoad||100,f=30*c/8,h=i.workerScript||"forge/prime.worker.js";if(-1===l)return n.util.estimateCores((function(e,t){e&&(t=2),l=t-1,p()}));function p(){l=Math.max(1,l);for(var n=[],i=0;i<l;++i)n[i]=new Worker(h);for(i=0;i<l;++i)n[i].addEventListener("message",p);var s=!1;function p(i){if(!s){0;var l=i.data;if(l.found){for(var h=0;h<n.length;++h)n[h].terminate();return s=!0,o(null,new r(l.prime,16))}a.bitLength()>e&&(a=u(e,t));var p=a.toString(16);i.target.postMessage({hex:p,workLoad:c}),a.dAddOffset(f,0)}}}p()}(e,t,i,o);return s(e,t,i,o)}(e,l,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function s(e,t,r,o){var a=u(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var l=10;"maxBlockTime"in r&&(l=r.maxBlockTime),function e(t,r,o,a,s,l,c){var f=+new Date;do{if(t.bitLength()>r&&(t=u(r,o)),t.isProbablePrime(s))return c(null,t);t.dAddOffset(i[a++%8],0)}while(l<0||+new Date-f<l);n.util.setImmediate((function(){e(t,r,o,a,s,l,c)}))}(a,e,t,0,s,l,o)}function u(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(o).byteValue(),0),n}}()},function(e,t,r){var n=r(2);if(r(21),r(13),r(41),r(16),r(15),r(38),r(22),r(14),r(99),r(26),r(3),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1,a=n.pki=n.pki||{};e.exports=a.pbe=n.pbe=n.pbe||{};var s=a.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(e,t){return e.start().update(t).digest().getBytes()}function h(e){var t;if(e){if(!(t=a.oids[o.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return p(t)}function p(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(t&&e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,l,c=n.random.getBytesSync(r.saltSize),f=r.count,h=o.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,g,v;switch(r.algorithm){case"aes128":i=16,d=16,g=s["aes128-CBC"],v=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,g=s["aes192-CBC"],v=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,g=s["aes256-CBC"],v=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,g=s.desCBC,v=n.des.createEncryptionCipher;break;default:throw(C=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,C}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),m=p(y),b=n.pkcs5.pbkdf2(t,c,f,i,m),w=n.random.getBytesSync(d);(S=v(b)).start(w),S.update(o.toDer(e)),S.finish(),l=S.output.getBytes();var E=function(e,t,r,i){var s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&s.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return s}(c,h,i,y);u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBKDF2).getBytes()),E]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(g).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,w)])])])}else{var C;if("3des"!==r.algorithm)throw(C=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,C;i=24;var S,_=new n.util.ByteBuffer(c);b=a.pbe.generatePkcs12Key(t,_,1,f,i),w=a.pbe.generatePkcs12Key(t,_,2,f,i);(S=n.des.createEncryptionCipher(b)).start(w),S.update(o.toDer(e)),S.finish(),l=S.output.getBytes(),u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,h.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[u,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,l)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,i={},s=[];if(!o.validate(e,u,i,s)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var c=o.derToOid(i.encryptionOid),f=a.pbe.getCipher(c,i.encryptionParams,t),h=n.util.createBuffer(i.encryptedData);return f.update(h),f.finish()&&(r=o.fromDer(f.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,r),a.encryptedPrivateKeyToPem(i)}var s,u,l,c;switch(r.algorithm){case"aes128":s="AES-128-CBC",l=16,u=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",l=24,u=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",l=32,u=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",l=24,u=n.random.getBytesSync(8),c=n.des.createEncryptionCipher;break;case"des":s="DES-CBC",l=8,u=n.random.getBytesSync(8),c=n.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var h=c(n.pbe.opensslDeriveBytes(t,u.substr(0,8),l));h.start(u),h.update(o.toDer(a.privateKeyToAsn1(e))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(p)},a.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(l=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=l,l;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,u;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,u=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":s=8,u=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":s=16,u=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var l;throw(l=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,l}var c=n.util.hexToBytes(i.dekInfo.parameters),f=u(n.pbe.opensslDeriveBytes(t,c.substr(0,8),s));if(f.start(c),f.update(n.util.createBuffer(i.body)),!f.finish())return r;r=f.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(o.fromDer(r),t):o.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,i,o,a){var s,u;if(null==a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var l=a.digestLength,c=a.blockLength,f=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!=e){for(u=0;u<e.length;u++)h.putInt16(e.charCodeAt(u));h.putInt16(0)}var p=h.length(),d=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,c);var v=c*Math.ceil(d/c),y=new n.util.ByteBuffer;for(u=0;u<v;u++)y.putByte(t.at(u%d));var m=c*Math.ceil(p/c),b=new n.util.ByteBuffer;for(u=0;u<m;u++)b.putByte(h.at(u%p));var w=y;w.putBuffer(b);for(var E=Math.ceil(o/l),C=1;C<=E;C++){var S=new n.util.ByteBuffer;S.putBytes(g.bytes()),S.putBytes(w.bytes());for(var _=0;_<i;_++)a.start(),a.update(S.getBytes()),S=a.digest();var T=new n.util.ByteBuffer;for(u=0;u<c;u++)T.putByte(S.at(u%l));var A=Math.ceil(d/c)+Math.ceil(p/c),k=new n.util.ByteBuffer;for(s=0;s<A;s++){var I=new n.util.ByteBuffer(w.getBytes(c)),x=511;for(u=T.length()-1;u>=0;u--)x>>=8,x+=T.at(u)+I.at(u),I.setAt(u,255&x);k.putBuffer(I)}w=k,f.putBuffer(S)}return f.truncate(f.length()-o),f},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var i,s={},u=[];if(!o.validate(t,l,s,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((e=o.derToOid(s.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=o.derToOid(s.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var c,f,p=s.kdfSalt,d=n.util.createBuffer(s.kdfIterationCount);switch(d=d.getInt(d.length()<<3),a.oids[e]){case"aes128-CBC":c=16,f=n.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=n.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=n.des.createDecryptionCipher;break;case"desCBC":c=8,f=n.des.createDecryptionCipher}var g=h(s.prfOid),v=n.pkcs5.pbkdf2(r,p,d,c,g),y=s.encIv,m=f(v);return m.start(y),m},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},s=[];if(!o.validate(t,c,i,s))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,g;var u,l,f,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,l=8,f=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,l=8,f=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var v=h(i.prfOid),y=a.pbe.generatePkcs12Key(r,p,1,d,u,v);return v.start(),f(y,a.pbe.generatePkcs12Key(r,p,2,d,l,v))},a.pbe.opensslDeriveBytes=function(e,t,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var o=[f(i,e+t)],a=16,s=1;a<r;++s,a+=16)o.push(f(i,o[s-1]+e+t));return o.join("").substr(0,r)}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";(function(t){
/*!
 * deps/ciphermodes/gcm/helpers.js - AES-GCM Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(46),i=r(8).fill,o=r(31),a=3774873600,s=new n(a>>8);var u=e.exports={E1:a,E1B:225,E1L:s,LOOKUP:function(){for(var e=[],t=0;t<256;++t){for(var r=0,n=7;n>=0;--n)0!=(t&1<<n)&&(r^=a>>>7-n);e.push(r)}return e}(),arrayCopy:function(e,t,r,n,i){if(t<0||n<0||i<0)throw new TypeError("Invalid input.");if(r instanceof Uint8Array){if(n>=r.length||n+i>r.length)throw new TypeError("Invalid input.");(0!==t||i<e.length)&&(e=e instanceof Uint8Array?e.subarray(t,t+i):e.slice(t,t+i)),r.set(e,n)}else for(var o=0;o<i;++o)r[n+o]=e[t+o]},arrayEqual:function(e,t){e=e||[],t=t||[];for(var r=Math.min(e.length,t.length),n=e.length===t.length,i=0;i<r;i++)n=n&&void 0!==e[i]&&void 0!==t[i]&&e[i]===t[i];return n},asBytes:function(e,r){switch(arguments.length){case 1:return r=t.alloc(16),o.intToBigEndian(e,r,0),r;case 2:o.intToBigEndian(e,r,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(e,t){switch(arguments.length){case 1:return i(t=[],0,0,4),o.bigEndianToInt(e,0,t),t;case 2:o.bigEndianToInt(e,0,t);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var e=[],t=0;t<4;++t)e.push(1<<31);return e},shiftRight:function(e,t){var r,n;switch(arguments.length){case 1:return r=e[0],e[0]=r>>>1,n=r<<31,r=e[1],e[1]=r>>>1|n,n=r<<31,r=e[2],e[2]=r>>>1|n,n=r<<31,r=e[3],e[3]=r>>>1|n,r<<31&4294967295;case 2:return r=e[0],t[0]=r>>>1,n=r<<31,r=e[1],t[1]=r>>>1|n,n=r<<31,r=e[2],t[2]=r>>>1|n,n=r<<31,r=e[3],t[3]=r>>>1|n,r<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(e,t,r){var n,i,o;switch(arguments.length){case 2:return i=e[0],n=32-t,e[0]=i>>>t,o=i<<n,i=e[1],e[1]=i>>>t|o,o=i<<n,i=e[2],e[2]=i>>>t|o,o=i<<n,i=e[3],e[3]=i>>>t|o,i<<n;case 3:return i=e[0],n=32-t,r[0]=i>>>t,o=i<<n,i=e[1],r[1]=i>>>t|o,o=i<<n,i=e[2],r[2]=i>>>t|o,o=i<<n,i=e[3],r[3]=i>>>t|o,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(e,t,r){switch(arguments.length){case 2:e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3];break;case 3:r[0]=e[0]^t[0],r[1]=e[1]^t[1],r[2]=e[2]^t[2],r[3]=e[3]^t[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(e,t){for(var r=e.slice(),n=[],i=0;i<4;++i)for(var o=t[i],a=31;a>=0;--a)0!=(o&1<<a)&&u.xor(n,r),0!==u.shiftRight(r)&&(r[0]^=u.E1);u.arrayCopy(n,0,e,0,4)},multiplyP:function(e,t){switch(arguments.length){case 1:0!==u.shiftRight(e)&&(e[0]^=u.E1);break;case 2:0!==u.shiftRight(e,t)&&(t[0]^=u.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(e,t){var r;switch(arguments.length){case 1:r=u.shiftRightN(e,8),e[0]^=u.LOOKUP[r>>>24];break;case 2:r=u.shiftRightN(e,8,t),t[0]^=u.LOOKUP[r>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/concat.js - Concat Key Derivation
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(11),i=r(30);function o(e){e=e.replace("CONCAT-","");return function(r,o){var a=(o=o||{}).length,s=n.HASHLENGTH[e];if(!a)return Promise.reject(new Error("invalid key length"));if(!o.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var u=o.otherInfo,l=i[e].digest,c=Math.ceil(a/s),f=0,h=[];return function e(){if(c===f++)return t.concat(h).slice(0,a);var n=t.alloc(4+r.length+u.length);return n.writeUInt32BE(f,0),r.copy(n,4),u.copy(n,4+r.length),l(n).then((function(t){return h.push(t),e()}))}()}}var a={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach((function(e){a[e]={derive:o(e)}})),e.exports=a}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(4),i=n.jsbn.BigInteger,o=r(71),a=r(117);function s(e){return new i(e,16)}function u(t,r){r||(r=Math.ceil(t.bitLength()/8)),r*=2;var n=t.toString(16);for(n=n.substring(Math.max(n.length-r,0));r>n.length;)n="0"+n;return e.from(n,"hex")}function l(t){return"string"==typeof t&&(t=e.from(t,"binary")),s(t.toString("hex"))}function c(e){return Math.ceil(e.getN().bitLength()/8)}function f(e){var t=a[e];if(!t)throw new TypeError("unsupported named curve: "+e);return t}function h(e,t){var r=e.getN().bitLength(),n=8*t.length,i=l(t);return r<n&&(i=i.shiftRight(n-r)),i}function p(e,t,r){var n=f(e),i=n.getCurve(),a=new o.ECPointFp(i,i.fromBigInteger(t),i.fromBigInteger(r));this.curve=e,this.params=n,this.point=a;var s=c(n);this.x=u(t,s),this.y=u(r,s)}function d(e,t){var r=f(e);this.curve=e,this.params=r;var n=c(r);this.d=u(t,n)}p.prototype.isValid=function(){return this.params.curve.contains(this.point)},p.prototype.verify=function(e,t){var r=this.params.getN(),n=this.params.getG(),o=l(t.r),a=l(t.s);if(o.compareTo(i.ONE)<0||o.compareTo(r)>=0)return!1;if(a.compareTo(i.ONE)<0||o.compareTo(r)>=0)return!1;var s=h(this.params,e),u=a.modInverse(r),c=s.multiply(u).mod(r),f=o.multiply(u).mod(r),p=n.multiplyTwo(c,this.point,f).getX().toBigInteger();return(p=p.mod(r)).equals(o)},d.prototype.toPublicKey=function(){var e=l(this.d),t=this.params.getG().multiply(e);return new p(this.curve,t.getX().toBigInteger(),t.getY().toBigInteger())},d.prototype.sign=function(e){var t,r,o,a,s=c(this.params),f=this.params.getN(),p=this.params.getG(),d=h(this.params,e),g=l(this.d);do{do{do{o=l(n.random.getBytes(s))}while(o.equals(i.ZERO)||o.compareTo(f)>=0);t=p.multiply(o).getX().toBigInteger().mod(f)}while(t.equals(i.ZERO));a=g.multiply(t),a=d.add(a),r=o.modInverse(f).multiply(a).mod(f)}while(r.equals(i.ONE));var v=c(this.params);return{r:t=u(t,v),s:r=u(r,v)}},d.prototype.isValid=function(){var e=l(this.d),t=this.params.getN().subtract(i.ONE);return e.compareTo(i.ONE)>=0&&e.compareTo(t)<0},d.prototype.computeSecret=function(e){var t=l(this.d),r=e.point.multiply(t).getX().toBigInteger();return r=u(r,c(this.params))},t.generateKeyPair=function(e){var t=f(e),r=t.getN(),o=n.random.getBytes(c(t));o=l(o);var a=r.subtract(i.ONE),s=new d(e,o.mod(a).add(i.ONE)),u=s.toPublicKey();return{private:s,public:u}},t.asPublicKey=function(t,r,n){return"string"==typeof r?r=s(r):e.isBuffer(r)&&(r=l(r)),"string"==typeof n?n=s(n):e.isBuffer(n)&&(n=l(n)),new p(t,r,n)},t.asPrivateKey=function(t,r){return"string"==typeof r?r=s(r):e.isBuffer(r)&&(r=l(r)),new d(t,r)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(4).jsbn.BigInteger;function i(){return new n(null)}function o(e){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function a(e,t){this.x=t,this.p=e}function s(e,t,r,i){this.curve=e,this.x=t,this.y=r,this.z=i||n.ONE,this.zinv=null}function u(e,t,r){this.p=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new s(this,null,null),this.reducer=new o(this.p)}o.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t},o.prototype.revert=function(e){return e},o.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},o.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},o.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.equals=function(e){return e===this||this.p.equals(e.p)&&this.x.equals(e.x)},a.prototype.toBigInteger=function(){return this.x},a.prototype.negate=function(){return new a(this.p,this.x.negate().mod(this.p))},a.prototype.add=function(e){return new a(this.p,this.x.add(e.toBigInteger()).mod(this.p))},a.prototype.subtract=function(e){return new a(this.p,this.x.subtract(e.toBigInteger()).mod(this.p))},a.prototype.multiply=function(e){return new a(this.p,this.x.multiply(e.toBigInteger()).mod(this.p))},a.prototype.square=function(){return new a(this.p,this.x.pow(2).mod(this.p))},a.prototype.divide=function(e){return new a(this.p,this.x.multiply(e.toBigInteger().modInverse(this.p)).mod(this.p))},s.prototype.getX=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},s.prototype.getY=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},s.prototype.equals=function(e){return e===this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.p).equals(n.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.p).equals(n.ZERO))},s.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(n.ZERO)&&!this.y.toBigInteger().equals(n.ZERO)},s.prototype.negate=function(){return new s(this.curve,this.x,this.y.negate(),this.z)},s.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.p),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.p);if(n.ZERO.equals(r))return n.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new n("3"),o=this.x.toBigInteger(),a=this.y.toBigInteger(),u=r.pow(2),l=u.multiply(r),c=o.multiply(u),f=t.pow(2).multiply(this.z),h=f.subtract(c.shiftLeft(1)).multiply(e.z).subtract(l).multiply(r).mod(this.curve.p),p=c.multiply(i).multiply(t).subtract(a.multiply(l)).subtract(f.multiply(t)).multiply(e.z).add(t.multiply(l)).mod(this.curve.p),d=l.multiply(this.z).multiply(e.z).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(p),d)},s.prototype.twice=function(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new n("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),i=r.multiply(this.z),o=i.multiply(r).mod(this.curve.p),a=this.curve.a.toBigInteger(),u=t.pow(2).multiply(e);n.ZERO.equals(a)||(u=u.add(this.z.pow(2).multiply(a)));var l=(u=u.mod(this.curve.p)).pow(2).subtract(t.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(i).mod(this.curve.p),c=u.multiply(e).multiply(t).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(u.pow(2).multiply(u)).mod(this.curve.p),f=i.pow(2).multiply(i).shiftLeft(3).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(c),f)},s.prototype.multiply=function(e){if(this.isInfinity())return this;if(0===e.signum())return this.curve.getInfinity();var t,r=e,i=r.multiply(new n("3")),o=this.negate(),a=this;for(t=i.bitLength()-2;t>0;--t){a=a.twice();var s=i.testBit(t);s!==r.testBit(t)&&(a=a.add(s?this:o))}return a},s.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},u.prototype.getP=function(){return this.p},u.prototype.getA=function(){return this.a},u.prototype.getB=function(){return this.b},u.prototype.equals=function(e){return e===this||this.p.equals(e.p)&&this.a.equals(e.a)&&this.b.equals(e.b)},u.prototype.contains=function(e){var t=e.getX().toBigInteger(),r=e.getY().toBigInteger(),n=this.a.toBigInteger(),i=this.b.toBigInteger(),o=this.p,a=r.pow(2).mod(o),s=t.pow(3).add(n.multiply(t)).add(i).mod(o);return a.equals(s)},u.prototype.getInfinity=function(){return this.infinity},u.prototype.fromBigInteger=function(e){return new a(this.p,e)},u.prototype.reduce=function(e){this.reducer.reduce(e)},u.prototype.decodePointHex=function(e){switch(parseInt(e.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),i=e.substr(t+2,t);return new s(this,this.fromBigInteger(new n(r,16)),this.fromBigInteger(new n(i,16)));default:return null}},u.prototype.encodePointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),r=e.getY().toBigInteger().toString(16),n=this.getP().toString(16).length;for(n%2!=0&&n++;t.length<n;)t="0"+t;for(;r.length<n;)r="0"+r;return"04"+t+r},e.exports={ECFieldElementFp:a,ECPointFp:s,ECCurveFp:u}},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/hkdf.js - HMAC-based Extract-and-Expand Key Derivation
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(11),i=r(45);function o(e){var r=e.replace("HKDF-",""),o=e.replace("HKDF-SHA-","HS");return function(e,a){var s=n.HASHLENGTH[r]/8;"string"==typeof o&&(o=i[o].sign);var u=(a=a||{}).salt;u&&0!==u.length||(u=t.alloc(s));var l=a.info||t.alloc(0),c=a.length||s,f=Math.ceil(c/s),h=[],p=0;return o(u,e,{length:8*u.length}).then((function(e){return function e(r,n){return f===p++?t.concat(h).slice(0,c):(n||(n=t.alloc(0)),n=t.concat([n,l,t.from([p])]),n=(n=o(r,n)).then((function(t){return n=t.mac,h.push(n),e(r,n)})))}(e.mac)}))}}var a={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach((function(e){a[e]={derive:o(e)}})),e.exports=a}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * jwk/constants.js - Constants for JWKs
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */e.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}},function(e,t,r){"use strict";
/*!
 * util/algconfig.js - Functions for managing algorithm set options
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */function n(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}e.exports=function(e){e?"string"==typeof e&&(e=e.split(" ")):e=[];var t,r=[],i=[],o=[],a=[],s=/^(!)?([^*]*)(\*?)([^*]*)$/;e.forEach((function(e){if(e){s.lastIndex=0;var u=s.exec(e);u&&(t="("+function(e,t,r){var i=[];return i.push("^"),e&&(e=n(e),i.push(e)),t&&i.push(e||r?".*":".+"),r&&(r=n(r),i.push(r)),i.push("$"),i.join("")}(u[2],u[3],u[4])+")",u[1]?(a.push(t),i.push(u[0])):(o.push(t),r.push(u[0])))}})),o=o.length?new RegExp(o.join("|")):null,a=a.length?new RegExp(a.join("|")):null,r.length||(r=["*"]),Object.defineProperty(this,"spec",{value:r.join(" ")+" "+i.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(e){var t=Boolean(e);return t&&o&&(o.lastIndex=0,t=o.test(e)),t&&a&&(a.lastIndex=0,t=!a.test(e)),t}})}},function(e,t,r){"use strict";
/*!
 * jwe/helpers.js - JWE Internal Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(11),i=r(19);e.exports={slice:function(e,t){return Array.prototype.slice.call(e,t||0)},generateCEK:function(e){var t=i.createKeyStore(),r=n.KEYLENGTH[e];if(r)return t.generate("oct",r);throw new Error("unsupported encryption algorithm")}}},function(e,t,r){"use strict";(function(e){var n=r(1).Buffer,i=r(129).Transform,o=r(139),a=r(83),s=r(82).ok,u=r(1).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(o),f=0;f<c.length;f++){var h=c[f];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:o[h],writable:!1})}for(var p={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},d=Object.keys(p),g=0;g<d.length;g++){var v=d[g];p[p[v]]=v}function y(e,t,r){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(){var t,a=null;o>=u?a=new RangeError(l):t=n.concat(i,o),i=[],e.close(),r(a,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",a),r(t)})),e.on("end",s),e.end(t),a()}function m(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function b(e){if(!(this instanceof b))return new b(e);k.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);k.call(this,e,o.INFLATE)}function E(e){if(!(this instanceof E))return new E(e);k.call(this,e,o.GZIP)}function C(e){if(!(this instanceof C))return new C(e);k.call(this,e,o.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);k.call(this,e,o.DEFLATERAW)}function _(e){if(!(this instanceof _))return new _(e);k.call(this,e,o.INFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);k.call(this,e,o.UNZIP)}function A(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function k(e,r){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!A(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!A(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(e,r){I(s),s._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],s.emit("error",n)};var u=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function I(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function x(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=E,t.Gunzip=C,t.DeflateRaw=S,t.InflateRaw=_,t.Unzip=T,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new S(e)},t.createInflateRaw=function(e){return new _(e)},t.createGzip=function(e){return new E(e)},t.createGunzip=function(e){return new C(e)},t.createUnzip=function(e){return new T(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new b(t),e,r)},t.deflateSync=function(e,t){return m(new b(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new E(t),e,r)},t.gzipSync=function(e,t){return m(new E(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new S(t),e,r)},t.deflateRawSync=function(e,t){return m(new S(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new T(t),e,r)},t.unzipSync=function(e,t){return m(new T(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new w(t),e,r)},t.inflateSync=function(e,t){return m(new w(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new C(t),e,r)},t.gunzipSync=function(e,t){return m(new C(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),y(new _(t),e,r)},t.inflateRawSync=function(e,t){return m(new _(t),e)},a.inherits(k,i),k.prototype.params=function(r,n,i){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed"),a._handle.params(r,n),a._hadError||(a._level=r,a._strategy=n,i&&i())}))}else e.nextTick(i)},k.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},k.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},k.prototype.flush=function(t,r){var i=this,a=this._writableState;("function"==typeof t||void 0===t&&!r)&&(r=t,t=o.Z_FULL_FLUSH),a.ended?r&&e.nextTick(r):a.ending?r&&this.once("end",r):a.needDrain?r&&this.once("drain",(function(){return i.flush(t,r)})):(this._flushFlag=t,this.write(n.alloc(0),"",r))},k.prototype.close=function(t){I(this,t),e.nextTick(x,this)},k.prototype._transform=function(e,t,r){var i,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},k.prototype._processChunk=function(e,t,r){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,c=this,f="function"==typeof r;if(!f){var h,p=[],d=0;this.on("error",(function(e){h=e})),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw h;if(d>=u)throw I(this),new RangeError(l);var v=n.concat(p,d);return I(this),v}s(this._handle,"zlib binding closed");var y=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function m(u,l){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var h=o-l;if(s(h>=0,"have should not go down"),h>0){var g=c._buffer.slice(c._offset,c._offset+h);c._offset+=h,f?c.push(g):(p.push(g),d+=g.length)}if((0===l||c._offset>=c._chunkSize)&&(o=c._chunkSize,c._offset=0,c._buffer=n.allocUnsafe(c._chunkSize)),0===l){if(a+=i-u,i=u,!f)return!0;var v=c._handle.write(t,e,a,i,c._buffer,c._offset,c._chunkSize);return v.callback=m,void(v.buffer=e)}if(!f)return!1;r()}}y.buffer=e,y.callback=m},a.inherits(b,k),a.inherits(w,k),a.inherits(E,k),a.inherits(C,k),a.inherits(S,k),a.inherits(_,k),a.inherits(T,k)}).call(this,r(10))},function(e,t,r){"use strict";(function(t,n){var i=r(32);e.exports=b;var o,a=r(54);b.ReadableState=m;r(51).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(78),l=r(33).Buffer,c=t.Uint8Array||function(){};var f=r(25);f.inherits=r(20);var h=r(130),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,g=r(131),v=r(79);f.inherits(b,u);var y=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(17));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(80).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(17),!(this instanceof b))return new b(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,r,n,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,_(e)}(e,a)):(i||(o=function(e,t){var r;n=t,l.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):A(e,a)):E(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_(e)),A(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return d||(d=r(80).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var C=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){p("emit readable"),e.emit("readable"),N(e)}function A(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){p("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):_(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?B(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:b;function l(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",c),r.removeListener("end",b),r.removeListener("data",g),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function c(){p("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",l);var f=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",f);var h=!1;var d=!1;function g(t){p("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==R(o.pipes,e))&&!h&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function v(t){p("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),b()}function m(){p("onfinish"),e.removeListener("close",y),b()}function b(){p("unpipe"),r.unpipe(e)}return r.on("data",g),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",y),e.once("finish",m),e.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=R(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_(this):i.nextTick(I,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(x,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=B}).call(this,r(7),r(10))},function(e,t,r){e.exports=r(51).EventEmitter},function(e,t,r){"use strict";var n=r(32);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(33).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=a;var n=r(17),i=r(25);function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(20),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";(function(t){var n=r(140);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(83),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=m,p=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(a.isFunction(e)){if(l)return e.name;var t=e.toString().match(p);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(l||!a.isFunction(e))return a.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,r,n,i){throw new h.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||y(e,!0,t,"==",h.ok)}function b(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),b(e,t,r);var s,l,c=S(e),f=S(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(s=c[l],!b(e[s],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&y(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&E(i,r)||s)&&y(i,r,"Got unwanted exception"+n),e&&i&&r&&!E(i,r)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(v(e.actual),128)+" "+e.operator+" "+g(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=d(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(h.AssertionError,Error),h.fail=y,h.ok=m,h.equal=function(e,t,r){e!=t&&y(e,t,r,"==",h.equal)},h.notEqual=function(e,t,r){e==t&&y(e,t,r,"!=",h.notEqual)},h.deepEqual=function(e,t,r){b(e,t,!1)||y(e,t,r,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,r){b(e,t,!0)||y(e,t,r,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,r){b(e,t,!1)&&y(e,t,r,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,r,n){b(t,r,!0)&&y(t,r,n,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,r){e!==t&&y(e,t,r,"===",h.strictEqual)},h.notStrictEqual=function(e,t,r){e===t&&y(e,t,r,"!==",h.notStrictEqual)},h.throws=function(e,t,r){C(!0,e,t,r)},h.doesNotThrow=function(e,t,r){C(!1,e,t,r)},h.ifError=function(e){if(e)throw e},h.strict=n((function e(t,r){t||y(t,!0,r,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var S=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(this,r(7))},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<o;u=n[++r])g(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,a={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function l(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return y(i)||(i=c(e,i,n)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),C(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(r);if(0===a.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(C(r))return f(r)}var l,w="",_=!1,T=["{","}"];(p(r)&&(_=!0,T=["[","]"]),S(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),E(r)&&(w=" "+Date.prototype.toUTCString.call(r)),C(r)&&(w=" "+f(r)),0!==a.length||_&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,w,T)):T[0]+w+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),I(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===_(e)}function w(e){return"object"==typeof e&&null!==e}function E(e){return w(e)&&"[object Date]"===_(e)}function C(e){return w(e)&&("[object Error]"===_(e)||e instanceof Error)}function S(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(m(o)&&(o=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;a[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else a[r]=function(){};return a[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=b,t.isObject=w,t.isDate=E,t.isError=C,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(141);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=r(142),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=x,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(N,t,a)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(10))},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+t[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,r){r(87),e.exports=r(158)},function(e,t,r){"use strict";r.r(t),function(e){r(90);var t=r(18),n=r.n(t),i=r(0),o=r.n(i),a=r(6),s=r.n(a);r(156),r(157);const u=600,l={signed:{jwt:new RegExp("^([^\\.]+)\\.([^\\.]+)\\.([^\\.]+)$"),cm:new RegExp("^([^\\.]+)(\\.)([^\\.]+)(\\.)([^\\.]+)$")},encrypted:{jwt:new RegExp("^([^\\.]+)\\.([^\\.]+)\\.([^\\.]+)\\.([^\\.]+)\\.([^\\.]+)$"),cm:new RegExp("^([^\\.]+)(\\.)([^\\.]+)(\\.)([^\\.]+)(\\.)([^\\.]+)(\\.)([^\\.]+)$")}},c={names:["audrey","olaf","vinit","antonio","alma","ming","naimish","anna","sheniqua","tamara","kina","maxine"],props:["propX","propY","aaa","version","entitlement","alpha","classid"],types:["number","string","object","array","boolean"]},f=["RS","PS"].reduce((e,t)=>[...e,...[256,384,512].map(e=>t+e)],[]),h=["ES"].reduce((e,t)=>[...e,...[256,384,512].map(e=>t+e)],[]),p=["HS"].reduce((e,t)=>[...e,...[256,384,512].map(e=>t+e)],[]),d=[...f,...h,...p],g=["RSA-OAEP","RSA-OAEP-256"],v=["A128CBC-HS256","A256CBC-HS512","A128GCM","A256GCM"];let y={};function m(){return 1==Math.floor(2*Math.random())}function b(e,t,r){switch(t="number"==typeof t?t+1:1,e=e||E(c.types)){case"number":return function(){let e=m()?10:100,t=m()?1e4:1e3;return Math.floor(Math.random()*(t-e))+e}();case"string":return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);case"array":return function(){let e,t=Math.floor(4*Math.random())+1,r=[];for(var n=0;n<t;n++)e=w(c.types,["array","object"]),r[n]=b(e);return r}();case"object":return function(e,t){let r,n,i=Math.floor(4*Math.random())+1,o={};for(var a=0;a<i;a++)r=w(c.props,t),n=e>1?w(c.types,["array","object"]):E(c.types),o[r]=b(n,e,r);return o}(t,r);case"boolean":return m()}return null}function w(e,t){let r=null;t||(t=[]),Array.isArray(t)||(t=[t]);do{r=E(e)}while(t.indexOf(r)>=0);return r}function E(e){let t=e.length;return e[Math.floor(Math.random()*t)]}function C(e){return"HS256"==e?256:"HS384"==e?384:"HS512"==e?512:999999}function S(){let e=o()("#ta_pbkdf2_iterations").val(),t=8192;try{t=Number.parseInt(e,10)}catch(e){U("defaulting to iteration count: "+t)}return t}function _(){let t=o()("#ta_pbkdf2_salt").val(),r=o()(".sel-symkey-pbkdf2-salt-coding").find(":selected").text().toLowerCase();if(["utf-8","base64","hex"].indexOf(r)>=0)return e.from(t,r);throw new Error("unsupported salt encoding")}async function T(t){let r=o()("#ta_symmetrickey").val(),n=o()(".sel-symkey-coding").find(":selected").text().toLowerCase();if(["utf-8","base64","hex"].indexOf(n)>=0)return Promise.resolve(e.from(r,n));if("pbkdf2"==n){let n={salt:_(),iterations:S(),length:C(t)/8};return s.a.JWA.derive("PBKDF2-SHA-256",e.from(r,"utf-8"),n)}throw new Error("unknown key encoding: "+n)}function A(){return y.privatekey.save(),o()("#ta_privatekey").val()}function k(){return y.publickey.save(),o()("#ta_publickey").val()}function I(e){let t=o()(this).data("target"),r=o()("#"+t),n=o()("<textarea>");y[t]&&y[t].save();let i,a="TEXTAREA"==r[0].tagName?r.val():r.text();o()("body").append(n),n.val(a).select();try{if(i=document.execCommand("copy")){let e=r.next();"div"==e.prop("tagName").toLowerCase()&&e.hasClass("CodeMirror")&&e.addClass("copy-to-clipboard-flash-bg").delay("1000").queue(t=>e.removeClass("copy-to-clipboard-flash-bg").dequeue())}}catch(e){i=!1}return n.remove(),i}function x(e){let t=e.kty;if("oct"==t)return p;if("RSA"==t)return f;if("EC"==t){if(256==e.length)return["ES256"];if(384==e.length)return["ES384"];if(521==e.length)return["ES512"]}return["NONE"]}function N(e){return"RSA"==e.kty?g:["NONE"]}function B(e){return E(x(e))}function L(e){return e.startsWith("HS")}function O(e,t){let r=t.byteLength,n=C(e)/8;return r>=n?Promise.resolve(t):Promise.reject(new Error("insufficient key length. You need at least "+n+" chars for "+e))}function R(e){let t,r={};if(["header","payload"].forEach(e=>{let n="token-decoded-"+e;if(y[n]){y[n].save();let i=o()("#"+n).val();try{r[e]=JSON.parse(i)}catch(r){t=e}}}),t)return void U("cannot parse JSON ("+t+")","warning");let{header:n,payload:i}=r;n.typ||(n.typ="JWT");return(n.enc&&n.alg?s.a.JWK.asKey(k(),"pem").then(e=>{let t={alg:n.alg,fields:n,format:"compact"},r=s.a.JWE.createEncrypt(t,[{key:e,reference:!1}]);return r.update(JSON.stringify(i),"utf8"),r.final()}):(L(n.alg)?T(n.alg).then(e=>O(n.alg,e)).then(e=>s.a.JWK.asKey({kty:"oct",k:e,use:"sig"})):s.a.JWK.asKey(A(),"pem")).then(e=>{if(n.alg||(n.alg=B(e)),!function(e,t){return x(t).indexOf(e)>=0}(n.alg,e))throw new Error("the alg specified in the header is not compatible with the key");let t={alg:n.alg,fields:n,format:"compact"},r=s.a.JWS.createSign(t,[{key:e,reference:!1}]);return r.update(JSON.stringify(i),"utf8"),r.final()})).then(e=>{y.encodedjwt.setValue(e),o()("#panel_encoded > p > span.length").text("("+e.length+" bytes)"),y.encodedjwt.setValue(e),y.encodedjwt.save(),n.enc?U("encrypted JWT","info"):(V(),U("signed JWT","info"))}).then(()=>{o()("#privatekey .CodeMirror-code").removeClass("outdated"),o()("#publickey .CodeMirror-code").removeClass("outdated")}).catch(e=>{console.log(e.stack),U(e)})}function D(e){V()}function P(e,t,r){let n=Math.floor((new Date).valueOf()/1e3),i=[];return void 0===e.alg&&i.push("the header lacks the required alg property"),r.indexOf(e.alg)<0&&i.push("the algorithm is not acceptable"),void 0!==t.exp&&"number"==typeof t.exp&&t.exp+0<n&&i.push("the token is expired"),void 0!==t.nbf&&"number"==typeof t.nbf&&n<t.nbf-0&&i.push("the not-before time is in the future"),void 0!==t.iat&&"number"==typeof t.iat&&n<t.iat-0&&i.push("the issued-at time is in the future"),i}function F(e){y.encodedjwt.save(),y.publickey.save();let t=y.encodedjwt.getValue(),r=l.signed.jwt.exec(t);if(r&&4==r.length){o()("#mainalert").addClass("fade").removeClass("show");let e=atob(r[1]),n=JSON.parse(e),i=null;return(i=L(n.alg)?T(n.alg).then(e=>O(n.alg,e)).then(e=>s.a.JWK.asKey({kty:"oct",k:e,use:"sig"})):s.a.JWK.asKey(k(),"pem")).then(e=>s.a.JWS.createVerify(e).verify(t).then((function(t){let r=JSON.parse(t.payload),n=P(t.header,r,x(e));if(0==n.length){let e="The JWT signature has been verified and the times are valid. Algorithm: "+t.header.alg;V(),U(e,"success"),o()(".sel-alg option[value="+t.header.alg+"]").prop("selected",!0)}else{U("The JWT is not valid. "+(1==n.length?"Reason":"Reasons")+": "+n.join(", and ")+".","warning")}})).catch(e=>{U("Verification failed. Bad key?"),console.log("During verify: "+e),console.log(e.stack)}))}if((r=l.encrypted.jwt.exec(t))&&6==r.length)return s.a.JWK.asKey(A(),"pem").then(e=>s.a.JWE.createDecrypt(e).decrypt(t).then(t=>{let r=new TextDecoder("utf-8").decode(t.payload),n=JSON.parse(r),i=JSON.stringify(n,null,2),a=P(t.header,n,N(e));if(y["token-decoded-payload"].setValue(i),o()("#payload > p > .length").text("( "+r.length+" bytes)"),0==a.length){U("The JWT has been decrypted successfully, and the times are valid.","success")}else{U("The JWT is not valid. "+(1==a.length?"Reason":"Reasons")+": "+a.join(", and ")+".","warning")}return{}})).catch(e=>{U("Decryption failed. Bad key?"),console.log("During decryption: "+e),console.log(e.stack)})}function U(e,t){let r=o()("#mainalert");r.html(e+'<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n <span aria-hidden="true">&times;</span>\n</button>'),t?(r.removeClass("alert-warning"),r.addClass("alert-"+t)):r.addClass("alert-warning"),r.removeClass("fade").addClass("show"),setTimeout(()=>o()("#mainalert").addClass("fade").removeClass("show"),5650)}function M(e){return o()("#mainalert").removeClass("show").addClass("fade"),!1}function j(e,t){let r=y[e+"key"];r&&(r.setValue(t),r.save())}function H(e,t){let r=window.btoa(String.fromCharCode(...new Uint8Array(t)));return`-----BEGIN ${e} KEY-----\n${r=r.match(/.{1,64}/g).join("\n")}\n-----END ${e} KEY-----`}function K(e){let t=o()(".sel-alg").find(":selected").text();if(!t.startsWith("HS")){let e=["sign","verify"],r=!0,n=function(e){if(e.startsWith("RS")||e.startsWith("PS"))return{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}};if("ES256"==e)return{name:"ECDSA",namedCurve:"P-256"};if("ES384"==e)return{name:"ECDSA",namedCurve:"P-384"};if("ES512"==e)return{name:"ECDSA",namedCurve:"P-521"};throw new Error("invalid key flavor")}(t);return window.crypto.subtle.generateKey(n,r,e).then(e=>window.crypto.subtle.exportKey("spki",e.publicKey).then(e=>j("public",H("PUBLIC",e))).then(()=>window.crypto.subtle.exportKey("pkcs8",e.privateKey)).then(e=>j("private",H("PRIVATE",e)))).then(()=>{o()("#mainalert").removeClass("show").addClass("fade"),o()("#privatekey .CodeMirror-code").removeClass("outdated"),o()("#publickey .CodeMirror-code").removeClass("outdated")})}U("can't do that for HS algorithms")}function V(){y.encodedjwt.save();let e=y.encodedjwt.getValue(),t=l.signed.jwt.exec(e);if(t&&4==t.length){U("looks like a signed JWT","info");let e=["header","payload"];t.slice(1,-1).forEach((function(t,r){let n=atob(t),i=e[r],a="token-decoded-"+i;try{let e=JSON.parse(n),t=JSON.stringify(e,null,2),r=JSON.stringify(e);y[a].setValue(t),o()("#"+i+" > p > .length").text("("+r.length+" bytes)")}catch(e){U("the "+i+" may not be valid JSON","info"),y[a].setValue(n)}}))}else{if((t=l.encrypted.jwt.exec(e))&&6==t.length){U("an encrypted JWT","info");let e=t[1],r=atob(e),n="token-decoded-header",i="header",a=JSON.parse(r),s=JSON.stringify(a,null,2),u=JSON.stringify(a);return y[n].setValue(s),o()("#"+i+" > p > .length").text("("+u.length+" bytes)"),i="payload",y[n="token-decoded-payload"].setValue("?ciphertext?"),void o()("#"+i+" > p > .length").text("( "+t[2].length+" bytes)")}U("That does not appear to be a JWT")}}function z(){let e=o()(".sel-variant").find(":selected").text().toLowerCase();o()(".sel-alg").find("option").remove();let t="signed"==e?d:g;o.a.each(t,(e,t)=>o()(".sel-alg").append(o()("<option></option>").val(t).html(t))),o()(".sel-alg").data("prev",o()(".sel-alg").find(":selected").text())}function W(e){let t=o()(this),r=t.find(":selected").text().toLowerCase();r!=t.data("prev")&&("pbkdf2"==r?o()("#pbkdf2_params").show():o()("#pbkdf2_params").hide()),t.data("prev",r)}function q(e){let t=o()(this),r=t.find(":selected").text(),n=t.data("prev");y["token-decoded-header"].save();let i=o()("#token-decoded-header").val();try{let e=JSON.parse(i);e.alg=r,y["token-decoded-header"].setValue(JSON.stringify(e,null,2))}catch(e){}r!=n&&(r.startsWith("HS")?o()(".btn-newkeypair").hide():o()(".btn-newkeypair").show()),function(e,t){let r=e.substring(0,2),n=t.substring(0,2);"HS"==r&&"HS"!=n?(o()("#privatekey").hide(),o()("#publickey").hide(),o()("#symmetrickey").show(),o()(".sel-symkey-coding option[value=PBKDF2]").prop("selected",!0).trigger("change")):"HS"==n&&"HS"!=r&&(o()("#privatekey").show(),o()("#publickey").show(),o()("#symmetrickey").hide())}(r,n),function(e,t){let r=e.substring(0,2),n=t.substring(0,2);return["RS","PS"].indexOf(r)>=0&&["RS","PS"].indexOf(n)>=0||"ES"==r&&e==t}(r,n)||(o()("#privatekey .CodeMirror-code").addClass("outdated"),o()("#publickey .CodeMirror-code").addClass("outdated")),t.data("prev",r)}function G(e){let t=this.value.toLowerCase(),r=o()(".sel-alg").data("prev");y["token-decoded-header"].save();let n=o()("#token-decoded-header").val();try{let e=JSON.parse(n);"encrypted"==t?(e.alg=E(N({kty:"RSA"})),e.enc=E(v),o()("#privatekey").show(),o()("#publickey").show(),o()("#symmetrickey").hide()):(e.alg=B({kty:"RSA"}),delete e.enc),y["token-decoded-header"].setValue(JSON.stringify(e,null,2))}catch(e){}z(),r.startsWith("PS")||r.startsWith("RS")||(o()("#privatekey .CodeMirror-code").addClass("outdated"),o()("#publickey .CodeMirror-code").addClass("outdated"))}function Z(e){let t=Math.floor((new Date).valueOf()/1e3),r=E(c.names),n={iss:"DinoChiesa.github.io",sub:r,aud:w(c.names,r),iat:t,exp:t+u},i={alg:o()(".sel-alg").find(":selected").text()};if(m()){let e=E(c.props);n[e]=b(null,null,e)}y["token-decoded-header"].setValue(JSON.stringify(i)),y["token-decoded-payload"].setValue(JSON.stringify(n)),R()}function Q(e,t,r){let n=new RegExp(",s*$");o()(r).find("span.cm-property").each((e,t)=>{let r=o()(t),i=r.text();if(['"exp"','"iat"','"nbf"'].indexOf(i)>=0){let e=r.nextAll("span").first(),t=e.text().replace(n,""),i=new Date(1e3*Number(t)).toISOString();e.attr("title",i)}})}n.a.defineSimpleMode("encodedjwt",{start:[{regex:l.signed.cm,sol:!0,token:["jwt-header","","jwt-payload","","jwt-signature"]},{regex:l.encrypted.cm,sol:!0,token:["jwt-header","","jwt-key","","jwt-iv","","jwt-payload","","jwt-authtag"]}]}),o()(document).ready((function(){o()(".btn-copy").on("click",I),o()(".btn-encode").on("click",R),o()(".btn-decode").on("click",D),o()(".btn-verify").on("click",F),o()(".btn-newkeypair").on("click",K),o()(".btn-regen").on("click",Z),o()(".sel-variant").on("change",G),o()(".sel-alg").on("change",q),z(),o()(".sel-symkey-coding").on("change",W),o()("#mainalert").addClass("fade"),o()("#mainalert").on("close.bs.alert",M),y.encodedjwt=n.a.fromTextArea(document.getElementById("encodedjwt"),{mode:"encodedjwt",lineWrapping:!0}),y.encodedjwt.on("inputRead",(function(e,t){"paste"==t.origin&&setTimeout(D,220)})),["private","public"].forEach(e=>{let t=e+"key",r="ta_"+t;y[t]=n.a.fromTextArea(document.getElementById(r),{mode:"encodedjwt",lineWrapping:!0}),y[t].on("inputRead",(function(r,n){"paste"==n.origin&&setTimeout((function(){y[t].save();let r=o()("#ta_"+t).val();j(e,r.split(new RegExp("\n","g")).map(e=>e.trim()).join("\n").trim())}),220)}))}),["header","payload"].forEach(e=>{let t="token-decoded-"+e;y[t]=n.a.fromTextArea(document.getElementById(t),{mode:{name:"javascript",json:!0,indentWithTabs:!1,statementIndent:2,indentUnit:2,tabSize:2}})}),y["token-decoded-payload"].on("renderLine",Q),o()("#symmetrickey").hide(),o()("#pbkdf2_params").hide(),K().then(e=>Z())}))}.call(this,r(1).Buffer)},function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),c=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+p]=255&a,p+=d,a/=256,l-=8);e[r+p-d]|=128*g}},function(e,t,r){
/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var s="transitionend";function u(e){var r=this,n=!1;return t(this).one(l.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||l.triggerTransitionEnd(r)}),e),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var r=e.getAttribute("href");t=r&&"#"!==r?r.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var r=t(e).css("transition-duration"),n=t(e).css("transition-delay"),i=parseFloat(r),o=parseFloat(n);return i||o?(r=r.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(r)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s)},supportsTransitionEnd:function(){return Boolean(s)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n],o=t[n],a=o&&l.isElement(o)?"element":(s=o,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(i).test(a))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+a+'" but expected type "'+i+'".')}var s},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?l.findShadowRoot(e.parentNode):null}};t.fn.emulateTransitionEnd=u,t.event.special[l.TRANSITION_END]={bindType:s,delegateType:s,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var c=t.fn.alert,f={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},h="alert",p="fade",d="show",g=function(){function e(e){this._element=e}var r=e.prototype;return r.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},r.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},r._getRootElement=function(e){var r=l.getSelectorFromElement(e),n=!1;return r&&(n=document.querySelector(r)),n||(n=t(e).closest("."+h)[0]),n},r._triggerCloseEvent=function(e){var r=t.Event(f.CLOSE);return t(e).trigger(r),r},r._removeElement=function(e){var r=this;if(t(e).removeClass(d),t(e).hasClass(p)){var n=l.getTransitionDurationFromElement(e);t(e).one(l.TRANSITION_END,(function(t){return r._destroyElement(e,t)})).emulateTransitionEnd(n)}else this._destroyElement(e)},r._destroyElement=function(e){t(e).detach().trigger(f.CLOSED).remove()},e._jQueryInterface=function(r){return this.each((function(){var n=t(this),i=n.data("bs.alert");i||(i=new e(this),n.data("bs.alert",i)),"close"===r&&i[r](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(f.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),t.fn.alert=g._jQueryInterface,t.fn.alert.Constructor=g,t.fn.alert.noConflict=function(){return t.fn.alert=c,g._jQueryInterface};var v=t.fn.button,y="active",m="btn",b="focus",w='[data-toggle^="button"]',E='[data-toggle="buttons"]',C='input:not([type="hidden"])',S=".active",_=".btn",T={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},A=function(){function e(e){this._element=e}var r=e.prototype;return r.toggle=function(){var e=!0,r=!0,n=t(this._element).closest(E)[0];if(n){var i=this._element.querySelector(C);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(y))e=!1;else{var o=n.querySelector(S);o&&t(o).removeClass(y)}if(e){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(y),t(i).trigger("change")}i.focus(),r=!1}}r&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(y)),e&&t(this._element).toggleClass(y)},r.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(r){return this.each((function(){var n=t(this).data("bs.button");n||(n=new e(this),t(this).data("bs.button",n)),"toggle"===r&&n[r]()}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(T.CLICK_DATA_API,w,(function(e){e.preventDefault();var r=e.target;t(r).hasClass(m)||(r=t(r).closest(_)),A._jQueryInterface.call(t(r),"toggle")})).on(T.FOCUS_BLUR_DATA_API,w,(function(e){var r=t(e.target).closest(_)[0];t(r).toggleClass(b,/^focus(in)?$/.test(e.type))})),t.fn.button=A._jQueryInterface,t.fn.button.Constructor=A,t.fn.button.noConflict=function(){return t.fn.button=v,A._jQueryInterface};var k="carousel",I=".bs.carousel",x=t.fn[k],N={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},B={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},L="next",O="prev",R="left",D="right",P={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},F="carousel",U="active",M="slide",j="carousel-item-right",H="carousel-item-left",K="carousel-item-next",V="carousel-item-prev",z="pointer-event",W={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},q={TOUCH:"touch",PEN:"pen"},G=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(W.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var r=e.prototype;return r.next=function(){this._isSliding||this._slide(L)},r.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},r.prev=function(){this._isSliding||this._slide(O)},r.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(W.NEXT_PREV)&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},r.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},r.to=function(e){var r=this;this._activeElement=this._element.querySelector(W.ACTIVE_ITEM);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(P.SLID,(function(){return r.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var i=e>n?L:O;this._slide(i,this._items[e])}},r.dispose=function(){t(this._element).off(I),t.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},r._getConfig=function(e){return e=a({},N,e),l.typeCheckConfig(k,e,B),e},r._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;t>0&&this.prev(),t<0&&this.next()}},r._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(P.KEYDOWN,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&t(this._element).on(P.MOUSEENTER,(function(t){return e.pause(t)})).on(P.MOUSELEAVE,(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},r._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var r=function(t){e._pointerEvent&&q[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){e._pointerEvent&&q[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};t(this._element.querySelectorAll(W.ITEM_IMG)).on(P.DRAG_START,(function(e){return e.preventDefault()})),this._pointerEvent?(t(this._element).on(P.POINTERDOWN,(function(e){return r(e)})),t(this._element).on(P.POINTERUP,(function(e){return n(e)})),this._element.classList.add(z)):(t(this._element).on(P.TOUCHSTART,(function(e){return r(e)})),t(this._element).on(P.TOUCHMOVE,(function(t){return function(t){t.originalEvent.touches&&t.originalEvent.touches.length>1?e.touchDeltaX=0:e.touchDeltaX=t.originalEvent.touches[0].clientX-e.touchStartX}(t)})),t(this._element).on(P.TOUCHEND,(function(e){return n(e)})))}},r._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},r._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(W.ITEM)):[],this._items.indexOf(e)},r._getItemByDirection=function(e,t){var r=e===L,n=e===O,i=this._getItemIndex(t),o=this._items.length-1;if((n&&0===i||r&&i===o)&&!this._config.wrap)return t;var a=(i+(e===O?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},r._triggerSlideEvent=function(e,r){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(W.ACTIVE_ITEM)),o=t.Event(P.SLIDE,{relatedTarget:e,direction:r,from:i,to:n});return t(this._element).trigger(o),o},r._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var r=[].slice.call(this._indicatorsElement.querySelectorAll(W.ACTIVE));t(r).removeClass(U);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(U)}},r._slide=function(e,r){var n,i,o,a=this,s=this._element.querySelector(W.ACTIVE_ITEM),u=this._getItemIndex(s),c=r||s&&this._getItemByDirection(e,s),f=this._getItemIndex(c),h=Boolean(this._interval);if(e===L?(n=H,i=K,o=R):(n=j,i=V,o=D),c&&t(c).hasClass(U))this._isSliding=!1;else if(!this._triggerSlideEvent(c,o).isDefaultPrevented()&&s&&c){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(c);var p=t.Event(P.SLID,{relatedTarget:c,direction:o,from:u,to:f});if(t(this._element).hasClass(M)){t(c).addClass(i),l.reflow(c),t(s).addClass(n),t(c).addClass(n);var d=parseInt(c.getAttribute("data-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval;var g=l.getTransitionDurationFromElement(s);t(s).one(l.TRANSITION_END,(function(){t(c).removeClass(n+" "+i).addClass(U),t(s).removeClass(U+" "+i+" "+n),a._isSliding=!1,setTimeout((function(){return t(a._element).trigger(p)}),0)})).emulateTransitionEnd(g)}else t(s).removeClass(U),t(c).addClass(U),this._isSliding=!1,t(this._element).trigger(p);h&&this.cycle()}},e._jQueryInterface=function(r){return this.each((function(){var n=t(this).data("bs.carousel"),i=a({},N,t(this).data());"object"==typeof r&&(i=a({},i,r));var o="string"==typeof r?r:i.slide;if(n||(n=new e(this,i),t(this).data("bs.carousel",n)),"number"==typeof r)n.to(r);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}))},e._dataApiClickHandler=function(r){var n=l.getSelectorFromElement(this);if(n){var i=t(n)[0];if(i&&t(i).hasClass(F)){var o=a({},t(i).data(),t(this).data()),s=this.getAttribute("data-slide-to");s&&(o.interval=!1),e._jQueryInterface.call(t(i),o),s&&t(i).data("bs.carousel").to(s),r.preventDefault()}}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return N}}]),e}();t(document).on(P.CLICK_DATA_API,W.DATA_SLIDE,G._dataApiClickHandler),t(window).on(P.LOAD_DATA_API,(function(){for(var e=[].slice.call(document.querySelectorAll(W.DATA_RIDE)),r=0,n=e.length;r<n;r++){var i=t(e[r]);G._jQueryInterface.call(i,i.data())}})),t.fn[k]=G._jQueryInterface,t.fn[k].Constructor=G,t.fn[k].noConflict=function(){return t.fn[k]=x,G._jQueryInterface};var Z="collapse",Q=t.fn[Z],Y={toggle:!0,parent:""},X={toggle:"boolean",parent:"(string|element)"},$={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},J="show",ee="collapse",te="collapsing",re="collapsed",ne="width",ie="height",oe={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},ae=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var r=[].slice.call(document.querySelectorAll(oe.DATA_TOGGLE)),n=0,i=r.length;n<i;n++){var o=r[n],a=l.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter((function(t){return t===e}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var r=e.prototype;return r.toggle=function(){t(this._element).hasClass(J)?this.hide():this.show()},r.show=function(){var r,n,i=this;if(!(this._isTransitioning||t(this._element).hasClass(J)||(this._parent&&0===(r=[].slice.call(this._parent.querySelectorAll(oe.ACTIVES)).filter((function(e){return"string"==typeof i._config.parent?e.getAttribute("data-parent")===i._config.parent:e.classList.contains(ee)}))).length&&(r=null),r&&(n=t(r).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var o=t.Event($.SHOW);if(t(this._element).trigger(o),!o.isDefaultPrevented()){r&&(e._jQueryInterface.call(t(r).not(this._selector),"hide"),n||t(r).data("bs.collapse",null));var a=this._getDimension();t(this._element).removeClass(ee).addClass(te),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(re).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(a[0].toUpperCase()+a.slice(1)),u=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(){t(i._element).removeClass(te).addClass(ee).addClass(J),i._element.style[a]="",i.setTransitioning(!1),t(i._element).trigger($.SHOWN)})).emulateTransitionEnd(u),this._element.style[a]=this._element[s]+"px"}}},r.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(J)){var r=t.Event($.HIDE);if(t(this._element).trigger(r),!r.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",l.reflow(this._element),t(this._element).addClass(te).removeClass(ee).removeClass(J);var i=this._triggerArray.length;if(i>0)for(var o=0;o<i;o++){var a=this._triggerArray[o],s=l.getSelectorFromElement(a);null!==s&&(t([].slice.call(document.querySelectorAll(s))).hasClass(J)||t(a).addClass(re).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var u=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(){e.setTransitioning(!1),t(e._element).removeClass(te).addClass(ee).trigger($.HIDDEN)})).emulateTransitionEnd(u)}}},r.setTransitioning=function(e){this._isTransitioning=e},r.dispose=function(){t.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},r._getConfig=function(e){return(e=a({},Y,e)).toggle=Boolean(e.toggle),l.typeCheckConfig(Z,e,X),e},r._getDimension=function(){return t(this._element).hasClass(ne)?ne:ie},r._getParent=function(){var r,n=this;l.isElement(this._config.parent)?(r=this._config.parent,void 0!==this._config.parent.jquery&&(r=this._config.parent[0])):r=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(r.querySelectorAll(i));return t(o).each((function(t,r){n._addAriaAndCollapsedClass(e._getTargetFromElement(r),[r])})),r},r._addAriaAndCollapsedClass=function(e,r){var n=t(e).hasClass(J);r.length&&t(r).toggleClass(re,!n).attr("aria-expanded",n)},e._getTargetFromElement=function(e){var t=l.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(r){return this.each((function(){var n=t(this),i=n.data("bs.collapse"),o=a({},Y,n.data(),"object"==typeof r&&r?r:{});if(!i&&o.toggle&&/show|hide/.test(r)&&(o.toggle=!1),i||(i=new e(this,o),n.data("bs.collapse",i)),"string"==typeof r){if(void 0===i[r])throw new TypeError('No method named "'+r+'"');i[r]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Y}}]),e}();t(document).on($.CLICK_DATA_API,oe.DATA_TOGGLE,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var r=t(this),n=l.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));t(i).each((function(){var e=t(this),n=e.data("bs.collapse")?"toggle":r.data();ae._jQueryInterface.call(e,n)}))})),t.fn[Z]=ae._jQueryInterface,t.fn[Z].Constructor=ae,t.fn[Z].noConflict=function(){return t.fn[Z]=Q,ae._jQueryInterface};var se="dropdown",ue=t.fn[se],le=new RegExp("38|40|27"),ce={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},fe="disabled",he="show",pe="dropup",de="dropright",ge="dropleft",ve="dropdown-menu-right",ye="position-static",me='[data-toggle="dropdown"]',be=".dropdown form",we=".dropdown-menu",Ee=".navbar-nav",Ce=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Se="top-start",_e="top-end",Te="bottom-start",Ae="bottom-end",ke="right-start",Ie="left-start",xe={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Ne={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Be=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var n=e.prototype;return n.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(fe)){var n=e._getParentFromElement(this._element),i=t(this._menu).hasClass(he);if(e._clearMenus(),!i){var o={relatedTarget:this._element},a=t.Event(ce.SHOW,o);if(t(n).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===r)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=n:l.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(n).addClass(ye),this._popper=new r(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(n).closest(Ee).length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(he),t(n).toggleClass(he).trigger(t.Event(ce.SHOWN,o))}}}},n.show=function(){if(!(this._element.disabled||t(this._element).hasClass(fe)||t(this._menu).hasClass(he))){var r={relatedTarget:this._element},n=t.Event(ce.SHOW,r),i=e._getParentFromElement(this._element);t(i).trigger(n),n.isDefaultPrevented()||(t(this._menu).toggleClass(he),t(i).toggleClass(he).trigger(t.Event(ce.SHOWN,r)))}},n.hide=function(){if(!this._element.disabled&&!t(this._element).hasClass(fe)&&t(this._menu).hasClass(he)){var r={relatedTarget:this._element},n=t.Event(ce.HIDE,r),i=e._getParentFromElement(this._element);t(i).trigger(n),n.isDefaultPrevented()||(t(this._menu).toggleClass(he),t(i).toggleClass(he).trigger(t.Event(ce.HIDDEN,r)))}},n.dispose=function(){t.removeData(this._element,"bs.dropdown"),t(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},n.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},n._addEventListeners=function(){var e=this;t(this._element).on(ce.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},n._getConfig=function(e){return e=a({},this.constructor.Default,t(this._element).data(),e),l.typeCheckConfig(se,e,this.constructor.DefaultType),e},n._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(we))}return this._menu},n._getPlacement=function(){var e=t(this._element.parentNode),r=Te;return e.hasClass(pe)?(r=Se,t(this._menu).hasClass(ve)&&(r=_e)):e.hasClass(de)?r=ke:e.hasClass(ge)?r=Ie:t(this._menu).hasClass(ve)&&(r=Ae),r},n._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},n._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},n._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e},e._jQueryInterface=function(r){return this.each((function(){var n=t(this).data("bs.dropdown");if(n||(n=new e(this,"object"==typeof r?r:null),t(this).data("bs.dropdown",n)),"string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}}))},e._clearMenus=function(r){if(!r||3!==r.which&&("keyup"!==r.type||9===r.which))for(var n=[].slice.call(document.querySelectorAll(me)),i=0,o=n.length;i<o;i++){var a=e._getParentFromElement(n[i]),s=t(n[i]).data("bs.dropdown"),u={relatedTarget:n[i]};if(r&&"click"===r.type&&(u.clickEvent=r),s){var l=s._menu;if(t(a).hasClass(he)&&!(r&&("click"===r.type&&/input|textarea/i.test(r.target.tagName)||"keyup"===r.type&&9===r.which)&&t.contains(a,r.target))){var c=t.Event(ce.HIDE,u);t(a).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),n[i].setAttribute("aria-expanded","false"),t(l).removeClass(he),t(a).removeClass(he).trigger(t.Event(ce.HIDDEN,u)))}}}},e._getParentFromElement=function(e){var t,r=l.getSelectorFromElement(e);return r&&(t=document.querySelector(r)),t||e.parentNode},e._dataApiKeydownHandler=function(r){if((/input|textarea/i.test(r.target.tagName)?!(32===r.which||27!==r.which&&(40!==r.which&&38!==r.which||t(r.target).closest(we).length)):le.test(r.which))&&(r.preventDefault(),r.stopPropagation(),!this.disabled&&!t(this).hasClass(fe))){var n=e._getParentFromElement(this),i=t(n).hasClass(he);if(i&&(!i||27!==r.which&&32!==r.which)){var o=[].slice.call(n.querySelectorAll(Ce));if(0!==o.length){var a=o.indexOf(r.target);38===r.which&&a>0&&a--,40===r.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}else{if(27===r.which){var s=n.querySelector(me);t(s).trigger("focus")}t(this).trigger("click")}}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return xe}},{key:"DefaultType",get:function(){return Ne}}]),e}();t(document).on(ce.KEYDOWN_DATA_API,me,Be._dataApiKeydownHandler).on(ce.KEYDOWN_DATA_API,we,Be._dataApiKeydownHandler).on(ce.CLICK_DATA_API+" "+ce.KEYUP_DATA_API,Be._clearMenus).on(ce.CLICK_DATA_API,me,(function(e){e.preventDefault(),e.stopPropagation(),Be._jQueryInterface.call(t(this),"toggle")})).on(ce.CLICK_DATA_API,be,(function(e){e.stopPropagation()})),t.fn[se]=Be._jQueryInterface,t.fn[se].Constructor=Be,t.fn[se].noConflict=function(){return t.fn[se]=ue,Be._jQueryInterface};var Le=t.fn.modal,Oe={backdrop:!0,keyboard:!0,focus:!0,show:!0},Re={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},De={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Pe="modal-dialog-scrollable",Fe="modal-scrollbar-measure",Ue="modal-backdrop",Me="modal-open",je="fade",He="show",Ke={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Ve=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(Ke.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var r=e.prototype;return r.toggle=function(e){return this._isShown?this.hide():this.show(e)},r.show=function(e){var r=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass(je)&&(this._isTransitioning=!0);var n=t.Event(De.SHOW,{relatedTarget:e});t(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(De.CLICK_DISMISS,Ke.DATA_DISMISS,(function(e){return r.hide(e)})),t(this._dialog).on(De.MOUSEDOWN_DISMISS,(function(){t(r._element).one(De.MOUSEUP_DISMISS,(function(e){t(e.target).is(r._element)&&(r._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return r._showElement(e)})))}},r.hide=function(e){var r=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var n=t.Event(De.HIDE);if(t(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=t(this._element).hasClass(je);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(De.FOCUSIN),t(this._element).removeClass(He),t(this._element).off(De.CLICK_DISMISS),t(this._dialog).off(De.MOUSEDOWN_DISMISS),i){var o=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(e){return r._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},r.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return t(e).off(".bs.modal")})),t(document).off(De.FOCUSIN),t.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},r.handleUpdate=function(){this._adjustDialog()},r._getConfig=function(e){return e=a({},Oe,e),l.typeCheckConfig("modal",e,Re),e},r._showElement=function(e){var r=this,n=t(this._element).hasClass(je);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),t(this._dialog).hasClass(Pe)?this._dialog.querySelector(Ke.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,n&&l.reflow(this._element),t(this._element).addClass(He),this._config.focus&&this._enforceFocus();var i=t.Event(De.SHOWN,{relatedTarget:e}),o=function(){r._config.focus&&r._element.focus(),r._isTransitioning=!1,t(r._element).trigger(i)};if(n){var a=l.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o()},r._enforceFocus=function(){var e=this;t(document).off(De.FOCUSIN).on(De.FOCUSIN,(function(r){document!==r.target&&e._element!==r.target&&0===t(e._element).has(r.target).length&&e._element.focus()}))},r._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(De.KEYDOWN_DISMISS,(function(t){27===t.which&&(t.preventDefault(),e.hide())})):this._isShown||t(this._element).off(De.KEYDOWN_DISMISS)},r._setResizeEvent=function(){var e=this;this._isShown?t(window).on(De.RESIZE,(function(t){return e.handleUpdate(t)})):t(window).off(De.RESIZE)},r._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass(Me),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(De.HIDDEN)}))},r._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},r._showBackdrop=function(e){var r=this,n=t(this._element).hasClass(je)?je:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Ue,n&&this._backdrop.classList.add(n),t(this._backdrop).appendTo(document.body),t(this._element).on(De.CLICK_DISMISS,(function(e){r._ignoreBackdropClick?r._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===r._config.backdrop?r._element.focus():r.hide())})),n&&l.reflow(this._backdrop),t(this._backdrop).addClass(He),!e)return;if(!n)return void e();var i=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(He);var o=function(){r._removeBackdrop(),e&&e()};if(t(this._element).hasClass(je)){var a=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else e&&e()},r._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},r._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},r._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},r._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var r=[].slice.call(document.querySelectorAll(Ke.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(Ke.STICKY_CONTENT));t(r).each((function(r,n){var i=n.style.paddingRight,o=t(n).css("padding-right");t(n).data("padding-right",i).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")})),t(n).each((function(r,n){var i=n.style.marginRight,o=t(n).css("margin-right");t(n).data("margin-right",i).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,o=t(document.body).css("padding-right");t(document.body).data("padding-right",i).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}t(document.body).addClass(Me)},r._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Ke.FIXED_CONTENT));t(e).each((function(e,r){var n=t(r).data("padding-right");t(r).removeData("padding-right"),r.style.paddingRight=n||""}));var r=[].slice.call(document.querySelectorAll(""+Ke.STICKY_CONTENT));t(r).each((function(e,r){var n=t(r).data("margin-right");void 0!==n&&t(r).css("margin-right",n).removeData("margin-right")}));var n=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},r._getScrollbarWidth=function(){var e=document.createElement("div");e.className=Fe,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(r,n){return this.each((function(){var i=t(this).data("bs.modal"),o=a({},Oe,t(this).data(),"object"==typeof r&&r?r:{});if(i||(i=new e(this,o),t(this).data("bs.modal",i)),"string"==typeof r){if(void 0===i[r])throw new TypeError('No method named "'+r+'"');i[r](n)}else o.show&&i.show(n)}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Oe}}]),e}();t(document).on(De.CLICK_DATA_API,Ke.DATA_TOGGLE,(function(e){var r,n=this,i=l.getSelectorFromElement(this);i&&(r=document.querySelector(i));var o=t(r).data("bs.modal")?"toggle":a({},t(r).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=t(r).one(De.SHOW,(function(e){e.isDefaultPrevented()||s.one(De.HIDDEN,(function(){t(n).is(":visible")&&n.focus()}))}));Ve._jQueryInterface.call(t(r),o,this)})),t.fn.modal=Ve._jQueryInterface,t.fn.modal.Constructor=Ve,t.fn.modal.noConflict=function(){return t.fn.modal=Le,Ve._jQueryInterface};var ze=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],We={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ge=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function Ze(e,t,r){if(0===e.length)return e;if(r&&"function"==typeof r)return r(e);for(var n=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),o=[].slice.call(n.body.querySelectorAll("*")),a=function(e,r){var n=o[e],a=n.nodeName.toLowerCase();if(-1===i.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var s=[].slice.call(n.attributes),u=[].concat(t["*"]||[],t[a]||[]);s.forEach((function(e){(function(e,t){var r=e.nodeName.toLowerCase();if(-1!==t.indexOf(r))return-1===ze.indexOf(r)||Boolean(e.nodeValue.match(qe)||e.nodeValue.match(Ge));for(var n=t.filter((function(e){return e instanceof RegExp})),i=0,o=n.length;i<o;i++)if(r.match(n[i]))return!0;return!1})(e,u)||n.removeAttribute(e.nodeName)}))},s=0,u=o.length;s<u;s++)a(s);return n.body.innerHTML}var Qe="tooltip",Ye=t.fn.tooltip,Xe=new RegExp("(^|\\s)bs-tooltip\\S+","g"),$e=["sanitize","whiteList","sanitizeFn"],Je={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},et={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},tt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:We},rt="show",nt="out",it={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ot="fade",at="show",st=".tooltip-inner",ut=".arrow",lt="hover",ct="focus",ft="click",ht="manual",pt=function(){function e(e,t){if(void 0===r)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var n=e.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(e){if(this._isEnabled)if(e){var r=this.constructor.DATA_KEY,n=t(e.currentTarget).data(r);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(t(this.getTipElement()).hasClass(at))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(n);var i=l.findShadowRoot(this.element),o=t.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!o)return;var a=this.getTipElement(),s=l.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(a).addClass(ot);var u="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(u);this.addAttachmentClass(c);var f=this._getContainer();t(a).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(a).appendTo(f),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new r(this.element,a,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:ut},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),t(a).addClass(at),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var h=function(){e.config.animation&&e._fixTransition();var r=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),r===nt&&e._leave(null,e)};if(t(this.tip).hasClass(ot)){var p=l.getTransitionDurationFromElement(this.tip);t(this.tip).one(l.TRANSITION_END,h).emulateTransitionEnd(p)}else h()}},n.hide=function(e){var r=this,n=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),o=function(){r._hoverState!==rt&&n.parentNode&&n.parentNode.removeChild(n),r._cleanTipClass(),r.element.removeAttribute("aria-describedby"),t(r.element).trigger(r.constructor.Event.HIDDEN),null!==r._popper&&r._popper.destroy(),e&&e()};if(t(this.element).trigger(i),!i.isDefaultPrevented()){if(t(n).removeClass(at),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[ft]=!1,this._activeTrigger[ct]=!1,this._activeTrigger[lt]=!1,t(this.tip).hasClass(ot)){var a=l.getTransitionDurationFromElement(n);t(n).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=""}},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},n.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},n.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(st)),this.getTitle()),t(e).removeClass(ot+" "+at)},n.setElementContent=function(e,r){"object"!=typeof r||!r.nodeType&&!r.jquery?this.config.html?(this.config.sanitize&&(r=Ze(r,this.config.whiteList,this.config.sanitizeFn)),e.html(r)):e.text(r):this.config.html?t(r).parent().is(e)||e.empty().append(r):e.text(t(r).text())},n.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},n._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},n._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},n._getAttachment=function(e){return et[e.toUpperCase()]},n._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(r){if("click"===r)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(r!==ht){var n=r===lt?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=r===lt?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(n,e.config.selector,(function(t){return e._enter(t)})).on(i,e.config.selector,(function(t){return e._leave(t)}))}})),t(this.element).closest(".modal").on("hide.bs.modal",(function(){e.element&&e.hide()})),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(e,r){var n=this.constructor.DATA_KEY;(r=r||t(e.currentTarget).data(n))||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),e&&(r._activeTrigger["focusin"===e.type?ct:lt]=!0),t(r.getTipElement()).hasClass(at)||r._hoverState===rt?r._hoverState=rt:(clearTimeout(r._timeout),r._hoverState=rt,r.config.delay&&r.config.delay.show?r._timeout=setTimeout((function(){r._hoverState===rt&&r.show()}),r.config.delay.show):r.show())},n._leave=function(e,r){var n=this.constructor.DATA_KEY;(r=r||t(e.currentTarget).data(n))||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),e&&(r._activeTrigger["focusout"===e.type?ct:lt]=!1),r._isWithActiveTrigger()||(clearTimeout(r._timeout),r._hoverState=nt,r.config.delay&&r.config.delay.hide?r._timeout=setTimeout((function(){r._hoverState===nt&&r.hide()}),r.config.delay.hide):r.hide())},n._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},n._getConfig=function(e){var r=t(this.element).data();return Object.keys(r).forEach((function(e){-1!==$e.indexOf(e)&&delete r[e]})),"number"==typeof(e=a({},this.constructor.Default,r,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),l.typeCheckConfig(Qe,e,this.constructor.DefaultType),e.sanitize&&(e.template=Ze(e.template,e.whiteList,e.sanitizeFn)),e},n._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},n._cleanTipClass=function(){var e=t(this.getTipElement()),r=e.attr("class").match(Xe);null!==r&&r.length&&e.removeClass(r.join(""))},n._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},n._fixTransition=function(){var e=this.getTipElement(),r=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(ot),this.config.animation=!1,this.hide(),this.show(),this.config.animation=r)},e._jQueryInterface=function(r){return this.each((function(){var n=t(this).data("bs.tooltip"),i="object"==typeof r&&r;if((n||!/dispose|hide/.test(r))&&(n||(n=new e(this,i),t(this).data("bs.tooltip",n)),"string"==typeof r)){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return tt}},{key:"NAME",get:function(){return Qe}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return it}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Je}}]),e}();t.fn.tooltip=pt._jQueryInterface,t.fn.tooltip.Constructor=pt,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=Ye,pt._jQueryInterface};var dt="popover",gt=t.fn.popover,vt=new RegExp("(^|\\s)bs-popover\\S+","g"),yt=a({},pt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),mt=a({},pt.DefaultType,{content:"(string|element|function)"}),bt="fade",wt="show",Et=".popover-header",Ct=".popover-body",St={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},_t=function(e){var r,n;function o(){return e.apply(this,arguments)||this}n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var a=o.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},a.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},a.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(Et),this.getTitle());var r=this._getContent();"function"==typeof r&&(r=r.call(this.element)),this.setElementContent(e.find(Ct),r),e.removeClass(bt+" "+wt)},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var e=t(this.getTipElement()),r=e.attr("class").match(vt);null!==r&&r.length>0&&e.removeClass(r.join(""))},o._jQueryInterface=function(e){return this.each((function(){var r=t(this).data("bs.popover"),n="object"==typeof e?e:null;if((r||!/dispose|hide/.test(e))&&(r||(r=new o(this,n),t(this).data("bs.popover",r)),"string"==typeof e)){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}}))},i(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return yt}},{key:"NAME",get:function(){return dt}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return St}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return mt}}]),o}(pt);t.fn.popover=_t._jQueryInterface,t.fn.popover.Constructor=_t,t.fn.popover.noConflict=function(){return t.fn.popover=gt,_t._jQueryInterface};var Tt="scrollspy",At=t.fn[Tt],kt={offset:10,method:"auto",target:""},It={offset:"number",method:"string",target:"(string|element)"},xt={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Nt="dropdown-item",Bt="active",Lt={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Ot="offset",Rt="position",Dt=function(){function e(e,r){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(r),this._selector=this._config.target+" "+Lt.NAV_LINKS+","+this._config.target+" "+Lt.LIST_ITEMS+","+this._config.target+" "+Lt.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(xt.SCROLL,(function(e){return n._process(e)})),this.refresh(),this._process()}var r=e.prototype;return r.refresh=function(){var e=this,r=this._scrollElement===this._scrollElement.window?Ot:Rt,n="auto"===this._config.method?r:this._config.method,i=n===Rt?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var r,o=l.getSelectorFromElement(e);if(o&&(r=document.querySelector(o)),r){var a=r.getBoundingClientRect();if(a.width||a.height)return[t(r)[n]().top+i,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},r.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},r._getConfig=function(e){if("string"!=typeof(e=a({},kt,"object"==typeof e&&e?e:{})).target){var r=t(e.target).attr("id");r||(r=l.getUID(Tt),t(e.target).attr("id",r)),e.target="#"+r}return l.typeCheckConfig(Tt,e,It),e},r._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},r._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},r._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},r._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),r=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=r){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},r._activate=function(e){this._activeTarget=e,this._clear();var r=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),n=t([].slice.call(document.querySelectorAll(r.join(","))));n.hasClass(Nt)?(n.closest(Lt.DROPDOWN).find(Lt.DROPDOWN_TOGGLE).addClass(Bt),n.addClass(Bt)):(n.addClass(Bt),n.parents(Lt.NAV_LIST_GROUP).prev(Lt.NAV_LINKS+", "+Lt.LIST_ITEMS).addClass(Bt),n.parents(Lt.NAV_LIST_GROUP).prev(Lt.NAV_ITEMS).children(Lt.NAV_LINKS).addClass(Bt)),t(this._scrollElement).trigger(xt.ACTIVATE,{relatedTarget:e})},r._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(Bt)})).forEach((function(e){return e.classList.remove(Bt)}))},e._jQueryInterface=function(r){return this.each((function(){var n=t(this).data("bs.scrollspy");if(n||(n=new e(this,"object"==typeof r&&r),t(this).data("bs.scrollspy",n)),"string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return kt}}]),e}();t(window).on(xt.LOAD_DATA_API,(function(){for(var e=[].slice.call(document.querySelectorAll(Lt.DATA_SPY)),r=e.length;r--;){var n=t(e[r]);Dt._jQueryInterface.call(n,n.data())}})),t.fn[Tt]=Dt._jQueryInterface,t.fn[Tt].Constructor=Dt,t.fn[Tt].noConflict=function(){return t.fn[Tt]=At,Dt._jQueryInterface};var Pt=t.fn.tab,Ft={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Ut="dropdown-menu",Mt="active",jt="disabled",Ht="fade",Kt="show",Vt=".dropdown",zt=".nav, .list-group",Wt=".active",qt="> li > .active",Gt='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Zt=".dropdown-toggle",Qt="> .dropdown-menu .active",Yt=function(){function e(e){this._element=e}var r=e.prototype;return r.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(Mt)||t(this._element).hasClass(jt))){var r,n,i=t(this._element).closest(zt)[0],o=l.getSelectorFromElement(this._element);if(i){var a="UL"===i.nodeName||"OL"===i.nodeName?qt:Wt;n=(n=t.makeArray(t(i).find(a)))[n.length-1]}var s=t.Event(Ft.HIDE,{relatedTarget:this._element}),u=t.Event(Ft.SHOW,{relatedTarget:n});if(n&&t(n).trigger(s),t(this._element).trigger(u),!u.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(r=document.querySelector(o)),this._activate(this._element,i);var c=function(){var r=t.Event(Ft.HIDDEN,{relatedTarget:e._element}),i=t.Event(Ft.SHOWN,{relatedTarget:n});t(n).trigger(r),t(e._element).trigger(i)};r?this._activate(r,r.parentNode,c):c()}}},r.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},r._activate=function(e,r,n){var i=this,o=(!r||"UL"!==r.nodeName&&"OL"!==r.nodeName?t(r).children(Wt):t(r).find(qt))[0],a=n&&o&&t(o).hasClass(Ht),s=function(){return i._transitionComplete(e,o,n)};if(o&&a){var u=l.getTransitionDurationFromElement(o);t(o).removeClass(Kt).one(l.TRANSITION_END,s).emulateTransitionEnd(u)}else s()},r._transitionComplete=function(e,r,n){if(r){t(r).removeClass(Mt);var i=t(r.parentNode).find(Qt)[0];i&&t(i).removeClass(Mt),"tab"===r.getAttribute("role")&&r.setAttribute("aria-selected",!1)}if(t(e).addClass(Mt),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),l.reflow(e),e.classList.contains(Ht)&&e.classList.add(Kt),e.parentNode&&t(e.parentNode).hasClass(Ut)){var o=t(e).closest(Vt)[0];if(o){var a=[].slice.call(o.querySelectorAll(Zt));t(a).addClass(Mt)}e.setAttribute("aria-expanded",!0)}n&&n()},e._jQueryInterface=function(r){return this.each((function(){var n=t(this),i=n.data("bs.tab");if(i||(i=new e(this),n.data("bs.tab",i)),"string"==typeof r){if(void 0===i[r])throw new TypeError('No method named "'+r+'"');i[r]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(Ft.CLICK_DATA_API,Gt,(function(e){e.preventDefault(),Yt._jQueryInterface.call(t(this),"show")})),t.fn.tab=Yt._jQueryInterface,t.fn.tab.Constructor=Yt,t.fn.tab.noConflict=function(){return t.fn.tab=Pt,Yt._jQueryInterface};var Xt=t.fn.toast,$t={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Jt="fade",er="hide",tr="show",rr="showing",nr={animation:"boolean",autohide:"boolean",delay:"number"},ir={animation:!0,autohide:!0,delay:500},or='[data-dismiss="toast"]',ar=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var r=e.prototype;return r.show=function(){var e=this;t(this._element).trigger($t.SHOW),this._config.animation&&this._element.classList.add(Jt);var r=function(){e._element.classList.remove(rr),e._element.classList.add(tr),t(e._element).trigger($t.SHOWN),e._config.autohide&&e.hide()};if(this._element.classList.remove(er),this._element.classList.add(rr),this._config.animation){var n=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,r).emulateTransitionEnd(n)}else r()},r.hide=function(e){var r=this;this._element.classList.contains(tr)&&(t(this._element).trigger($t.HIDE),e?this._close():this._timeout=setTimeout((function(){r._close()}),this._config.delay))},r.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(tr)&&this._element.classList.remove(tr),t(this._element).off($t.CLICK_DISMISS),t.removeData(this._element,"bs.toast"),this._element=null,this._config=null},r._getConfig=function(e){return e=a({},ir,t(this._element).data(),"object"==typeof e&&e?e:{}),l.typeCheckConfig("toast",e,this.constructor.DefaultType),e},r._setListeners=function(){var e=this;t(this._element).on($t.CLICK_DISMISS,or,(function(){return e.hide(!0)}))},r._close=function(){var e=this,r=function(){e._element.classList.add(er),t(e._element).trigger($t.HIDDEN)};if(this._element.classList.remove(tr),this._config.animation){var n=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,r).emulateTransitionEnd(n)}else r()},e._jQueryInterface=function(r){return this.each((function(){var n=t(this),i=n.data("bs.toast");if(i||(i=new e(this,"object"==typeof r&&r),n.data("bs.toast",i)),"string"==typeof r){if(void 0===i[r])throw new TypeError('No method named "'+r+'"');i[r](this)}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return nr}},{key:"Default",get:function(){return ir}}]),e}();t.fn.toast=ar._jQueryInterface,t.fn.toast.Constructor=ar,t.fn.toast.noConflict=function(){return t.fn.toast=Xt,ar._jQueryInterface},function(){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),e.Util=l,e.Alert=g,e.Button=A,e.Carousel=G,e.Collapse=ae,e.Dropdown=Be,e.Modal=Ve,e.Popover=_t,e.Scrollspy=Dt,e.Tab=Yt,e.Toast=ar,e.Tooltip=pt,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(0),r(91))},function(e,t,r){"use strict";r.r(t),function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var r="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(r&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),n))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:u(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var c=r&&!(!window.MSInputMethodContext||!document.documentMode),f=r&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?c:10===e?f:c||f}function p(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===a(r,"position")?p(r):r:e?e.ownerDocument.documentElement:document.documentElement}function d(e){return null!==e.parentNode?d(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,o=document.createRange();o.setStart(n,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(e!==u&&t!==u||n.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(u):u;var l=d(e);return l.host?g(l.host,t):g(e,d(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function y(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}function m(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],h(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,r=e.documentElement,n=h(10)&&getComputedStyle(r);return{height:m("Height",t,r,n),width:m("Width",t,r,n)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),C=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _(e){return S({},e,{right:e.left+e.width,bottom:e.top+e.height})}function T(e){var t={};try{if(h(10)){t=e.getBoundingClientRect();var r=v(e,"top"),n=v(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?b(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,u=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-u;if(l||c){var f=a(e);l-=y(f,"x"),c-=y(f,"y"),i.width-=l,i.height-=c}return _(i)}function A(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=h(10),i="HTML"===t.nodeName,o=T(e),s=T(t),l=u(e),c=a(t),f=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);r&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=_({top:o.top-s.top-f,left:o.left-s.left-p,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!n&&i){var g=parseFloat(c.marginTop,10),y=parseFloat(c.marginLeft,10);d.top-=f-g,d.bottom-=f-g,d.left-=p-y,d.right-=p-y,d.marginTop=g,d.marginLeft=y}return(n&&!r?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v(t,"top"),i=v(t,"left"),o=r?-1:1;return e.top+=n*o,e.bottom+=n*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function k(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function I(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},c=i?k(e):g(e,l(t));if("viewport"===n)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=A(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),o=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:v(r),s=t?0:v(r,"left");return _({top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:o})}(c,i);else{var f=void 0;"scrollParent"===n?"BODY"===(f=u(s(t))).nodeName&&(f=e.ownerDocument.documentElement):f="window"===n?e.ownerDocument.documentElement:n;var h=A(f,c,i);if("HTML"!==f.nodeName||function e(t){var r=t.nodeName;if("BODY"===r||"HTML"===r)return!1;if("fixed"===a(t,"position"))return!0;var n=s(t);return!!n&&e(n)}(c))o=h;else{var p=b(e.ownerDocument),d=p.height,y=p.width;o.top+=h.top-h.marginTop,o.bottom=d+h.top,o.left+=h.left-h.marginLeft,o.right=y+h.left}}var m="number"==typeof(r=r||0);return o.left+=m?r:r.left||0,o.top+=m?r:r.top||0,o.right-=m?r:r.right||0,o.bottom-=m?r:r.bottom||0,o}function x(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=I(r,n,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return S({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),l=u.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),c=l.length>0?l[0].key:u[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function N(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return A(r,n?k(t):g(t,l(r)),n)}function B(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function O(e,t,r){r=r.split("-")[0];var n=B(e),i={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[u]/2-n[u]/2,i[s]=r===s?t[s]-n[l]:t[L(s)],i}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function D(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=R(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&o(r)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=r(t,e))})),t}function P(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=x(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=O(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function F(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],o=i?""+i+r:e;if(void 0!==document.body.style[o])return o}return null}function M(){return this.state.isDestroyed=!0,F(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function j(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,r,n){r.updateBound=n,j(e).addEventListener("resize",r.updateBound,{passive:!0});var i=u(e);return function e(t,r,n,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(r,n,{passive:!0}),o||e(u(a.parentNode),r,n,i),i.push(a)}(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function K(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function V(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,j(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&z(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var q=r&&/Firefox/i.test(navigator.userAgent);function G(e,t,r){var n=R(e,(function(e){return e.name===t})),i=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!i){var o="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=Z.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Q.indexOf(e),n=Q.slice(r+1).concat(Q.slice(0,r));return t?n.reverse():n}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $(e,t,r,n){var i=[0,0],o=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(R(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(e,n){var i=(1===n?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return _(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,i,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){z(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))}))})),i}var J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(r),u=s?"left":"top",l=s?"width":"height",c={start:C({},u,o[u]),end:C({},u,o[u]+o[l]-a[l])};e.offsets.popper=S({},a,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=n.split("-")[0],u=void 0;return u=z(+r)?[+r,0]:$(r,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||p(e.instance.popper);e.instance.reference===r&&(r=p(r));var n=U("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[n];i.top="",i.left="",i[n]="";var u=I(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=o,i.left=a,i[n]=s,t.boundaries=u;var l=t.priority,c=e.offsets.popper,f={primary:function(e){var r=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(r=Math.max(c[e],u[e])),C({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=c[r];return c[e]>u[e]&&!t.escapeWithReference&&(n=Math.min(c[r],u[e]-("right"===e?c.width:c.height))),C({},r,n)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=S({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return r[s]<o(n[u])&&(e.offsets.popper[u]=o(n[u])-r[l]),r[u]>o(n[s])&&(e.offsets.popper[u]=o(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,u=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",f=l?"Top":"Left",h=f.toLowerCase(),p=l?"left":"top",d=l?"bottom":"right",g=B(n)[c];u[d]-g<s[h]&&(e.offsets.popper[h]-=s[h]-(u[d]-g)),u[h]+g>s[d]&&(e.offsets.popper[h]+=u[h]+g-s[d]),e.offsets.popper=_(e.offsets.popper);var v=u[h]+u[c]/2-g/2,y=a(e.instance.popper),m=parseFloat(y["margin"+f],10),b=parseFloat(y["border"+f+"Width"],10),w=v-e.offsets.popper[h]-m-b;return w=Math.max(Math.min(s[c]-g,w),0),e.arrowElement=n,e.offsets.arrow=(C(r={},h,Math.round(w)),C(r,p,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(F(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=I(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=L(n),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case X.FLIP:a=[n,i];break;case X.CLOCKWISE:a=Y(n);break;case X.COUNTERCLOCKWISE:a=Y(n,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(n!==s||a.length===u+1)return e;n=e.placement.split("-")[0],i=L(n);var l=e.offsets.popper,c=e.offsets.reference,f=Math.floor,h="left"===n&&f(l.right)>f(c.left)||"right"===n&&f(l.left)<f(c.right)||"top"===n&&f(l.bottom)>f(c.top)||"bottom"===n&&f(l.top)<f(c.bottom),p=f(l.left)<f(r.left),d=f(l.right)>f(r.right),g=f(l.top)<f(r.top),v=f(l.bottom)>f(r.bottom),y="left"===n&&p||"right"===n&&d||"top"===n&&g||"bottom"===n&&v,m=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(m&&"start"===o&&p||m&&"end"===o&&d||!m&&"start"===o&&g||!m&&"end"===o&&v),w=!!t.flipVariationsByContent&&(m&&"start"===o&&d||m&&"end"===o&&p||!m&&"start"===o&&v||!m&&"end"===o&&g),E=b||w;(h||y||E)&&(e.flipped=!0,(h||y)&&(n=a[u+1]),E&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=n+(o?"-"+o:""),e.offsets.popper=S({},e.offsets.popper,O(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return i[a?"left":"top"]=o[r]-(s?i[a?"width":"height"]:0),e.placement=L(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=R(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,o=R(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),u=T(s),l={position:i.position},c=function(e,t){var r=e.offsets,n=r.popper,i=r.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),l=o(n.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),h=t?c||f||u%2==l%2?o:a:s,p=t?o:s;return{left:h(u%2==1&&l%2==1&&!f&&t?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:h(n.right)}}(e,window.devicePixelRatio<2||!q),f="bottom"===r?"top":"bottom",h="right"===n?"left":"right",d=U("transform"),g=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,g="right"===h?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,a&&d)l[d]="translate3d("+g+"px, "+v+"px, 0)",l[f]=0,l[h]=0,l.willChange="transform";else{var y="bottom"===f?-1:1,m="right"===h?-1:1;l[f]=v*y,l[h]=g*m,l.willChange=f+", "+h}var b={"x-placement":e.placement};return e.attributes=S({},b,e.attributes),e.styles=S({},l,e.styles),e.arrowStyles=S({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return W(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var o=N(i,t,e,r.positionFixed),a=x(r.placement,o,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),W(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},ee=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=i(this.update.bind(this)),this.options=S({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(S({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){n.options.modifiers[t]=S({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return S({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return E(e,[{key:"update",value:function(){return P.call(this)}},{key:"destroy",value:function(){return M.call(this)}},{key:"enableEventListeners",value:function(){return K.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),e}();ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,ee.placements=Z,ee.Defaults=J,t.default=ee}.call(this,r(7))},function(e,t,r){"use strict";(function(t){
/*!
 * jws/sign.js - Sign to JWS
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(8),i=r(12),o=r(5),a=r(19),s=r(125).slice,u=n.clone,l=n.uniq,c=r(126),f=function(e,r){var n=!1,i=e.format||"general",a=t.alloc(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===i},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return i},enumerable:!0}),Object.defineProperty(this,"update",{value:function(e,r){if(n)throw new Error("already final");return null!=e&&(e=o.asBuffer(e,r),a=a.length?t.concat([a,e],a.length+e.length):e),this}}),Object.defineProperty(this,"final",{value:function(e,s){if(n)return Promise.reject(new Error("already final"));var l;switch(this.update(e,s),n=!0,l=(l=(l=Promise.all(r)).then((function(e){return a=o.base64url.encode(a),e=e.map((function(e){var r={},n=0,i=u(e.header),s=Object.keys(i).length;e.protected.forEach((function(e){e in i&&(r[e]=i[e],n++,delete i[e],s--)})),n>0?(r=JSON.stringify(r),r=o.base64url.encode(r)):r="";var l=t.from(r+"."+a,"ascii");return e=(e=e.key.sign(e.header.alg,l,e.header)).then((function(e){var t={};return 0<n&&(t.protected=r),0<s&&(t.header=i),t.signature=o.base64url.encode(e.mac),t}))})),e=[Promise.resolve(a)].concat(e),Promise.all(e)}))).then((function(e){return{payload:e[0],signatures:e.slice(1)}})),i){case"compact":l=l.then((function(e){var t=[e.signatures[0].protected,e.payload,e.signatures[0].signature];return t=t.join(".")}));break;case"flattened":l=l.then((function(e){var t={};t.payload=e.payload;var r=e.signatures[0];return r.protected&&(t.protected=r.protected),r.header&&(t.header=r.header),t.signature=r.signature,t}))}return l}})};e.exports={signer:f,createSign:function(e,t){var r=e,n=1,o=t;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length?(o=e,n=0,r={}):a.isKey(e)||e&&"kty"in e||e&&"key"in e&&(a.isKey(e.key)||"kty"in e.key)?(o=e,n=0,r={}):r=u(e),Array.isArray(o)||(o=s(arguments,n));var h=(r=i(u(c),r)).fields||{},p=r.format;if(p||(p=r.compact?"compact":"general"),("compact"===p||"flattened"===p)&&1<o.length)throw new Error("too many signatories for compact or flattened JSON serialization");var d="*"===r.protect;return r.compact&&(d=!0),o=o.map((function(e,t){return(e&&"kty"in e?a.asKey(e).then((function(e){return{key:e}})):e?a.asKey(e.key).then((function(t){return{header:e.header,reference:e.reference,protect:e.protect,key:t}})):Promise.reject(new Error("missing key for signatory "+t))).then((function(e){var t=e.key,r=e.header||{};r=i(i({},h),r),e.header=r,r.alg||(r.alg=t.algorithms(a.MODE_SIGN)[0]||"");var n,o=e.reference;if(delete e.reference,void 0===o?o=(o=["kid","jku","x5c","x5t","x5u"].some((function(e){return e in r})))?null:"kid":"boolean"==typeof o&&(o=o?"kid":null),o)if(n=t.toJSON(),"jwk"===o){if("oct"===t.kty)return Promise.reject(new Error("cannot embed key"));r.jwk=n}else o in n&&(r[o]=n[o]);var s=e.protect;if(d||"*"===s)s=Object.keys(r);else if("string"===s)s=[s];else if(Array.isArray(s))s=s.concat();else{if(s)return Promise.reject(new Error("protect must be a list of fields"));s=[]}return s=l(s),e.protected=s,e=Object.freeze(e)}))})),new f({format:p},o)}}}).call(this,r(1).Buffer)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(d,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=p}function p(e){delete l[e]}function d(e){if(c)setTimeout(d,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(7),r(10))},function(e,t,r){(function(t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,l=e[i];u<s.length;++u)l+=s[u]<<8,s[u]=l%o,l=l/o|0;for(;l>0;)s.push(l%o),l=l/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=t[o[r]];return u}(e,t);if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join("\r\n")}return n},r.decode=function(e,r){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=r.length,s=r.charAt(0),u=[0];for(o=0;o<e.length;o++){var l=i[e.charCodeAt(o)];if(void 0===l)return;for(var c=0,f=l;c<u.length;++c)f+=u[c]*a,u[c]=255&f,f>>=8;for(;f>0;)u.push(255&f),f>>=8}for(var h=0;e[h]===s&&h<e.length-1;++h)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);r(21),r(13),r(41),r(15),r(22),r(62),r(14),r(3),r(42);var i=n.asn1,o=e.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!i.validate(e,o.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function s(e){for(var t,r=[],o=0;o<e.length;++o)r.push((t=e[o],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function u(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<e.unauthenticatedAttributes.length;++o){var a=e.unauthenticatedAttributes[o];r.values.push(l(a))}t.value.push(r)}return t}function l(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),o=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var s=Date.parse(a);a=isNaN(s)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(s)}t=a>=r&&a<o?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function c(e,t,r){var o={};if(!i.validate(t,r,o,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(o.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(o.encryptedContent){var s="";if(n.util.isArray(o.encryptedContent))for(var u=0;u<o.encryptedContent.length;++u){if(o.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=o.encryptedContent[u].value}else s=o.encryptedContent;e.encryptedContent={algorithm:i.derToOid(o.encAlgorithm),parameter:n.util.createBuffer(o.encParameter.value),content:n.util.createBuffer(s)}}if(o.content){s="";if(n.util.isArray(o.content))for(u=0;u<o.content.length;++u){if(o.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=o.content[u].value}else s=o.content;e.content=n.util.createBuffer(s)}return e.version=o.version.charCodeAt(0),e.rawCapture=o,o}function f(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.messageFromAsn1(a)},o.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},o.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,o.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var s,u=i.derToOid(t.contentType);switch(u){case n.pki.oids.envelopedData:s=o.createEnvelopedData();break;case n.pki.oids.encryptedData:s=o.createEncryptedData();break;case n.pki.oids.signedData:s=o.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s},o.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(c(e,t,o.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var o=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),o.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var o=t.certificate;"string"==typeof o&&(o=n.pki.certificateFromPem(o)),r=o.issuer.attributes,i=o.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var s=t.digestAlgorithm||n.pki.oids.sha1;switch(s){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var l=!1,c=!1,f=0;f<u.length;++f){var h=u[f];if(l||h.type!==n.pki.oids.contentType){if(c||h.type!==n.pki.oids.messageDigest);else if(c=!0,l)break}else if(l=!0,c)break}if(!l||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:s,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=i.derToOid(e.contentInfo.value[0].value),a=i.toDer(r);for(var s in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[s].start().update(a);for(var c=new Date,f=0;f<e.signers.length;++f){var h=e.signers[f];if(0===h.authenticatedAttributes.length){if(o!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var g=h.authenticatedAttributes[d];g.type===n.pki.oids.messageDigest?g.value=t[h.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=c)),p.value.push(l(g)),h.authenticatedAttributesAsn1.value.push(l(g))}a=i.toDer(p).getBytes(),h.md.start().update(a)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(u(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var o=e.signers[r];(a=o.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===o.authenticatedAttributes.length?o.md=t[a]:o.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},o.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){c(e,t,o.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),f(e)}}},o.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=c(e,t,o.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,s(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}f(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var i,o,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,o=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,o=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,o=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,o=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(o));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var u=0;u<e.recipients.length;++u){var l=e.recipients[u];if(void 0===l.encryptedContent.content)switch(l.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}}}},function(e,t,r){var n=r(2);r(58),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(e,t,r){var n=r(2);r(13),r(15),r(65),r(22),r(38),r(100),r(43),r(26),r(3),r(42);var i=n.asn1,o=e.exports=n.pki=n.pki||{};o.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},o.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.privateKeyFromAsn1(a)},o.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:i.toDer(o.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},function(e,t,r){var n=r(2);r(3);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},s=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,o=e,a=e.length(),s=t,u=Math.ceil(s/8),l=255>>(7&s);for(r=a;r<128;r++)o.putByte(i[o.at(r-1)+o.at(r-a)&255]);for(o.setAt(128-u,i[o.at(128-u)&l]),r=127-u;r>=0;r--)o.setAt(r,i[o.at(r+1)^o.at(r+u)]);return o};var u=function(e,t,r){var i,u,l,c,f=!1,h=null,p=null,d=null,g=[];for(e=n.rc2.expandKey(e,t),l=0;l<64;l++)g.push(e.getInt16Le());r?(i=function(e){for(l=0;l<4;l++)e[l]+=g[c]+(e[(l+3)%4]&e[(l+2)%4])+(~e[(l+3)%4]&e[(l+1)%4]),e[l]=a(e[l],o[l]),c++},u=function(e){for(l=0;l<4;l++)e[l]+=g[63&e[(l+3)%4]]}):(i=function(e){for(l=3;l>=0;l--)e[l]=s(e[l],o[l]),e[l]-=g[c]+(e[(l+3)%4]&e[(l+2)%4])+(~e[(l+3)%4]&e[(l+1)%4]),c--},u=function(e){for(l=3;l>=0;l--)e[l]-=g[63&e[(l+3)%4]]});var v=function(e){var t=[];for(l=0;l<4;l++){var n=h.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),t.push(65535&n)}c=r?0:63;for(var i=0;i<e.length;i++)for(var o=0;o<e[i][0];o++)e[i][1](t);for(l=0;l<4;l++)null!==d&&(r?d.putInt16Le(t[l]):t[l]^=d.getInt16Le()),p.putInt16Le(t[l])},y=null;return y={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),f=!1,h=n.util.createBuffer(),p=t||new n.util.createBuffer,d=e,y.output=p},update:function(e){for(f||h.putBuffer(e);h.length()>=8;)v([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,h,!r);else{var n=8===h.length()?8:8-h.length();h.fillWithByte(n,n)}if(t&&(f=!0,y.update()),!r&&(t=0===h.length()))if(e)t=e(8,p,!r);else{var i=p.length(),o=p.at(i-1);o>i?t=!1:p.truncate(o)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return u(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return u(e,t,!1)}},function(e,t,r){var n=r(2);r(13),r(37),r(15),r(62),r(65),r(14),r(26),r(40),r(3),r(42);var i=n.asn1,o=n.pki,a=e.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var s=e[o].safeBags[a];void 0!==n&&s.type!==n||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function p(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function d(e,t){var r={},a=[];if(!i.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=a,s;var s,u=i.derToOid(r.contentType);if(u!==o.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,s;u=i.derToOid(r.encAlgorithm);var l=o.pbe.getCipher(u,r.encParameter,t),c=p(r.encryptedContentAsn1),f=n.util.createBuffer(c.value);if(l.update(f),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var s=e.value[a],u={},c=[];if(!i.validate(s,l,u,c))throw(y=new Error("Cannot read SafeBag.")).errors=c,y;var h,p,d={type:i.derToOid(u.bagId),attributes:v(u.bagAttributes)};n.push(d);var g=u.bagValue.value[0];switch(d.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(g=o.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{d.key=o.privateKeyFromAsn1(g)}catch(e){d.key=null,d.asn1=g}continue;case o.oids.certBag:h=f,p=function(){if(i.derToOid(u.certId)!==o.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(u.certId),e}var r=i.fromDer(u.cert,t);try{d.cert=o.certificateFromAsn1(r,!0)}catch(e){d.cert=null,d.asn1=r}};break;default:var y;throw(y=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,y}if(void 0!==h&&!i.validate(g,h,u,c))throw(y=new Error("Cannot read PKCS#12 "+h.name)).errors=c,y;p()}return n}function v(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!i.validate(e[r],c,n,a)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var u=i.derToOid(n.oid);if(void 0!==o.oids[u]){t[o.oids[u]]=[];for(var l=0;l<n.values.length;++l)t[o.oids[u]].push(n.values[l].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var l={};if(!i.validate(e,u,l,[]))throw(c=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=c,c;var c,f={version:l.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=h(f.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=h(f.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=h(f.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return h(f.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return h(f.safeContents,"localKeyId",e,t)}};if(3!==l.version.charCodeAt(0))throw(c=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=l.version.charCodeAt(0),c;if(i.derToOid(l.contentType)!==o.oids.data)throw(c=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(l.contentType),c;var v=l.content.value[0];if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(v=p(v),l.mac){var y=null,m=0,b=i.derToOid(l.macAlgorithm);switch(b){case o.oids.sha1:y=n.md.sha1.create(),m=20;break;case o.oids.sha256:y=n.md.sha256.create(),m=32;break;case o.oids.sha384:y=n.md.sha384.create(),m=48;break;case o.oids.sha512:y=n.md.sha512.create(),m=64;break;case o.oids.md5:y=n.md.md5.create(),m=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new n.util.ByteBuffer(l.macSalt),E="macIterations"in l?parseInt(n.util.bytesToHex(l.macIterations),16):1,C=a.generateKey(r,w,3,E,m,y),S=n.hmac.create();if(S.start(y,C),S.update(v.value),S.getMac().getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var u=t.value[a],l={},c=[];if(!i.validate(u,s,l,c))throw(y=new Error("Cannot read ContentInfo.")).errors=c,y;var f={encrypted:!1},h=null,v=l.content.value[0];switch(i.derToOid(l.contentType)){case o.oids.data:if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=p(v).value;break;case o.oids.encryptedData:h=d(v,n),f.encrypted=!0;break;default:var y;throw(y=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(l.contentType),y}f.safeBags=g(h,r,n),e.safeContents.push(f)}}(f,v.value,t,r),f},a.toPkcs12Asn1=function(e,t,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var u,l=s.localKeyId;if(null!==l)l=n.util.hexToBytes(l);else if(s.generateLocalKeyId)if(t){var c=n.util.isArray(t)?t[0]:t;"string"==typeof c&&(c=o.certificateFromPem(c)),(k=n.md.sha1.create()).update(i.toDer(o.certificateToAsn1(c)).getBytes()),l=k.digest().getBytes()}else l=n.random.getBytes(20);var f=[];null!==l&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,l)])])),"friendlyName"in s&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),f.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,f));var h=[],p=[];null!==t&&(p=n.util.isArray(t)?t:[t]);for(var d=[],g=0;g<p.length;++g){"string"==typeof(t=p[g])&&(t=o.certificateFromPem(t));var v=0===g?u:void 0,y=o.certificateToAsn1(t),m=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(y).getBytes())])])]),v]);d.push(m)}if(d.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);h.push(w)}var E=null;if(null!==e){var C=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));E=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[C]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(C,r,s)]),u]);var S=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[E]),_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(S).getBytes())])]);h.push(_)}var T,A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h);if(s.useMac){var k=n.md.sha1.create(),I=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),x=s.count,N=(e=a.generateKey(r,I,3,x,20),n.hmac.create());N.start(k,e),N.update(i.toDer(A).getBytes());var B=N.getMac();T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,I.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(x).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(A).getBytes())])]),T])},a.generateKey=n.pbe.generatePkcs12Key},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var o=n.sha384=n.sha512.sha384=n.sha512.sha384||{};o.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=o,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(s||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(l={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in l))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=l[e],r=null,i=n.util.createBuffer(),o=new Array(80),f=0;f<80;++f)o[f]=new Array(2);var h=64;switch(e){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var p={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var e=p.messageLengthSize/4,o=0;o<e;++o)p.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(t.length);for(o=0;o<t.length;++o)r[o]=t[o].slice(0);return p}};return p.start(),p.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;p.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=p.fullMessageLength.length-1;s>=0;--s)p.fullMessageLength[s]+=a[1],a[1]=a[0]+(p.fullMessageLength[s]/4294967296>>>0),p.fullMessageLength[s]=p.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),c(r,o,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var s,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;t.putBytes(a.substr(0,p.blockLength-u));for(var l=8*p.fullMessageLength[0],f=0;f<p.fullMessageLength.length-1;++f)l+=(s=8*p.fullMessageLength[f+1])/4294967296>>>0,t.putInt32(l>>>0),l=s>>>0;t.putInt32(l);var h=new Array(r.length);for(f=0;f<r.length;++f)h[f]=r[f].slice(0);c(h,o,t);var d,g=n.util.createBuffer();d="SHA-512"===e?h.length:"SHA-384"===e?h.length-2:h.length-4;for(f=0;f<d;++f)g.putInt32(h[f][0]),f===d-1&&"SHA-512/224"===e||g.putInt32(h[f][1]);return g},p};var a=null,s=!1,u=null,l=null;function c(e,t,r){for(var n,i,o,a,s,l,c,f,h,p,d,g,v,y,m,b,w,E,C,S,_,T,A,k,I,x,N,B,L,O,R,D,P,F=r.length();F>=128;){for(N=0;N<16;++N)t[N][0]=r.getInt32()>>>0,t[N][1]=r.getInt32()>>>0;for(;N<80;++N)n=(((B=(O=t[N-2])[0])>>>19|(L=O[1])<<13)^(L>>>29|B<<3)^B>>>6)>>>0,i=((B<<13|L>>>19)^(L<<3|B>>>29)^(B<<26|L>>>6))>>>0,o=(((B=(D=t[N-15])[0])>>>1|(L=D[1])<<31)^(B>>>8|L<<24)^B>>>7)>>>0,a=((B<<31|L>>>1)^(B<<24|L>>>8)^(B<<25|L>>>7))>>>0,R=t[N-7],P=t[N-16],L=i+R[1]+a+P[1],t[N][0]=n+R[0]+o+P[0]+(L/4294967296>>>0)>>>0,t[N][1]=L>>>0;for(d=e[0][0],g=e[0][1],v=e[1][0],y=e[1][1],m=e[2][0],b=e[2][1],w=e[3][0],E=e[3][1],C=e[4][0],S=e[4][1],_=e[5][0],T=e[5][1],A=e[6][0],k=e[6][1],I=e[7][0],x=e[7][1],N=0;N<80;++N)c=((C>>>14|S<<18)^(C>>>18|S<<14)^(S>>>9|C<<23))>>>0,f=(A^C&(_^A))>>>0,s=((d>>>28|g<<4)^(g>>>2|d<<30)^(g>>>7|d<<25))>>>0,l=((d<<4|g>>>28)^(g<<30|d>>>2)^(g<<25|d>>>7))>>>0,h=(d&v|m&(d^v))>>>0,p=(g&y|b&(g^y))>>>0,L=x+(((C<<18|S>>>14)^(C<<14|S>>>18)^(S<<23|C>>>9))>>>0)+((k^S&(T^k))>>>0)+u[N][1]+t[N][1],n=I+c+f+u[N][0]+t[N][0]+(L/4294967296>>>0)>>>0,i=L>>>0,o=s+h+((L=l+p)/4294967296>>>0)>>>0,a=L>>>0,I=A,x=k,A=_,k=T,_=C,T=S,C=w+n+((L=E+i)/4294967296>>>0)>>>0,S=L>>>0,w=m,E=b,m=v,b=y,v=d,y=g,d=n+o+((L=i+a)/4294967296>>>0)>>>0,g=L>>>0;L=e[0][1]+g,e[0][0]=e[0][0]+d+(L/4294967296>>>0)>>>0,e[0][1]=L>>>0,L=e[1][1]+y,e[1][0]=e[1][0]+v+(L/4294967296>>>0)>>>0,e[1][1]=L>>>0,L=e[2][1]+b,e[2][0]=e[2][0]+m+(L/4294967296>>>0)>>>0,e[2][1]=L>>>0,L=e[3][1]+E,e[3][0]=e[3][0]+w+(L/4294967296>>>0)>>>0,e[3][1]=L>>>0,L=e[4][1]+S,e[4][0]=e[4][0]+C+(L/4294967296>>>0)>>>0,e[4][1]=L>>>0,L=e[5][1]+T,e[5][0]=e[5][0]+_+(L/4294967296>>>0)>>>0,e[5][1]=L>>>0,L=e[6][1]+k,e[6][0]=e[6][0]+A+(L/4294967296>>>0)>>>0,e[6][1]=L>>>0,L=e[7][1]+x,e[7][0]=e[7][0]+I+(L/4294967296>>>0)>>>0,e[7][1]=L>>>0,F-=128}}},function(e,t,r){e.exports=r(103).default,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(104);function i(t,r){return void 0===r&&(r="utf8"),e.isBuffer(t)?a(t.toString("base64")):a(e.from(t,r).toString("base64"))}function o(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var s=i;s.encode=i,s.decode=function(t,r){return void 0===r&&(r="utf8"),e.from(o(t),"base64").toString(r)},s.toBase64=o,s.fromBase64=a,s.toBuffer=function(t){return e.from(o(t),"base64")},t.default=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var r=t.length,n=r%4;if(!n)return t;var i=r,o=4-n,a=r+o,s=e.alloc(a);for(s.write(t);o--;)s.write("=",i++);return s.toString()}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * util/utf8.js - Implementation of UTF-8 Encoder/Decoder
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=t;n.encode=function(e){var t=encodeURIComponent(e||"");return t=t.replace(/%([0-9a-fA-F]{2})/g,(function(e,t){return t=parseInt(t,16),String.fromCharCode(t)}))},n.decode=function(e){var t=(e||"").replace(/[\u0080-\u00ff]/g,(function(e){return"%"+(256|e.charCodeAt(0)).toString(16).substring(1)}));return t=decodeURIComponent(t)}},function(e,t,r){var n=r(107),i=r(108),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t,r){var n,i,o=r(66),a=r(67),s=0,u=0;e.exports=function(e,t,r){var l=t&&r||0,c=t||[],f=(e=e||{}).node||n,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var p=o();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=d-s+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||d>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=g,i=h;var y=(1e4*(268435455&(d+=122192928e5))+g)%4294967296;c[l++]=y>>>24&255,c[l++]=y>>>16&255,c[l++]=y>>>8&255,c[l++]=255&y;var m=d/4294967296*1e4&268435455;c[l++]=m>>>8&255,c[l++]=255&m,c[l++]=m>>>24&15|16,c[l++]=m>>>16&255,c[l++]=h>>>8|128,c[l++]=255&h;for(var b=0;b<6;++b)c[l+b]=f[b];return t||a(c)}},function(e,t,r){var n=r(66),i=r(67);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/aes-cbc-hmac-sha2.js - AES-CBC-HMAC-SHA2 Composited Encryption
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(9),i=r(45),o=r(30),a=r(4),s=r(23),u=r(5);function l(e){if(16!==e.length)throw new Error("invalid iv")}function c(e){return n.setupFallback((function(r,i,o){try{l(o)}catch(e){return Promise.reject(e)}var a=Promise.resolve(i);return a=a.then((function(i){var a="AES-"+e+"-CBC",s=n.nodeCrypto.createCipheriv(a,r,o);return t.concat([s.update(i),s.final()])}))}),(function(e,r,i){try{l(i)}catch(e){return Promise.reject(e)}var o=Promise.resolve();return o=(o=(o=o.then((function(){return n.subtleCrypto.importKey("raw",e,{name:"AES-CBC"},!0,["encrypt"])}))).then((function(e){var t={name:"AES-CBC",iv:i};return n.subtleCrypto.encrypt(t,e,r)}))).then((function(e){return e=t.from(e)}))}),(function(e,t,r){try{l(r)}catch(e){return Promise.reject(e)}var n=Promise.resolve();return n=n.then((function(){var n=a.cipher.createCipher("AES-CBC",new s(e));return n.start({iv:new s(r)}),n.update(new s(t)),n.finish()?n.output.native():Promise.reject(new Error("encryption failed"))}))}))}function f(e){return n.setupFallback((function(r,i,o){try{l(o)}catch(e){return Promise.reject(e)}var a=Promise.resolve();return a=a.then((function(){var a="AES-"+e+"-CBC",s=n.nodeCrypto.createDecipheriv(a,r,o);return t.concat([s.update(i),s.final()])}))}),(function(e,r,i){try{l(i)}catch(e){return Promise.reject(e)}var o=Promise.resolve();return o=(o=(o=o.then((function(){return n.subtleCrypto.importKey("raw",e,{name:"AES-CBC"},!0,["decrypt"])}))).then((function(e){var t={name:"AES-CBC",iv:i};return n.subtleCrypto.decrypt(t,e,r)}))).then((function(e){return e=t.from(e)}))}),(function(e,t,r){try{l(r)}catch(e){return Promise.reject(e)}var n=Promise.resolve();return n=n.then((function(){var n=a.cipher.createDecipher("AES-CBC",new s(e));return n.start({iv:new s(r)}),n.update(new s(t)),n.finish()?n.output.native():Promise.reject(new Error("encryption failed"))}))}))}function h(e,t){if(t<<1!=e.length<<3)throw new Error("invalid encryption key size")}function p(e){var r=c(e);return function(o,a,s){try{h(o,e)}catch(e){return Promise.reject(e)}var u=o.slice(e/8),l=o.slice(0,e/8),c=s.iv||t.alloc(0),f=s.aad||s.adata||t.alloc(0),p=r(u,a,c);return p=p.then((function(r){var o=t.concat([f,c,r,n.int64ToBuffer(8*f.length)]);return i["HS"+2*e].sign(l,o,{length:e}).then((function(t){var n=t.mac.slice(0,e/8);return{data:r,tag:n}}))}))}}function d(e){var r=f(e);return function(o,a,s){try{h(o,e)}catch(e){return Promise.reject(e)}var u=o.slice(e/8),l=o.slice(0,e/8),c=s.iv||t.alloc(0),f=s.aad||s.adata||t.alloc(0),p=s.tag||s.mac||t.alloc(0),d=Promise.resolve();return d=(d=d.then((function(){var r=t.concat([f,c,a,n.int64ToBuffer(8*f.length)]);return i["HS"+2*e].verify(l,r,p,{length:e}).then((function(){return a}),(function(){throw new Error("mac check failed")}))}))).then((function(){return r(u,a,c)}))}}var g=t.from("Encryption","utf8"),v=t.from("Integrity","utf8"),y=t.from(".","utf8");function m(e,r,i,a){var s=8*e.length,u=s/2,l=Promise.resolve();return l=(l=l.then((function(){return t.concat([n.int32ToBuffer(1),e,n.int32ToBuffer(u),t.from(r,"utf8"),i,a,g])}))).then((function(e){return o["SHA-"+s].digest(e).then((function(e){return e.slice(0,u/8)}))})),l=Promise.resolve(l)}function b(e,r,i,a){var s=8*e.length,u=s,l=Promise.resolve();return l=(l=l.then((function(){return t.concat([n.int32ToBuffer(1),e,n.int32ToBuffer(u),t.from(r,"utf8"),i,a,v])}))).then((function(e){return o["SHA-"+s].digest(e).then((function(e){return e.slice(0,u/8)}))})),l=Promise.resolve(l)}function w(e,r){var o=c(e);return function(a,s,l){var c,f,h=l.epu||n.int32ToBuffer(0),p=l.epv||n.int32ToBuffer(0),d=l.iv||t.alloc(0),g=l.aad||l.adata||t.alloc(0),v=l.kdata||t.alloc(0),w=[m(a,r,h,p),b(a,r,h,p)],E=Promise.all(w).then((function(e){c=e[0],f=e[1]}));return E=(E=(E=E.then((function(){return o(c,s,d)}))).then((function(r){var n=t.concat([g,y,t.from(v),y,t.from(u.base64url.encode(d),"utf8"),y,t.from(u.base64url.encode(r),"utf8")]);return Promise.all([Promise.resolve(r),i["HS"+2*e].sign(f,n,{length:e})])}))).then((function(e){return{data:e[0],tag:e[1].mac}}))}}function E(e,r){var o=f(e);return function(a,s,l){var c,f,h=l.epu||n.int32ToBuffer(0),p=l.epv||n.int32ToBuffer(0),d=l.iv||t.alloc(0),g=l.aad||l.adata||t.alloc(0),v=l.kdata||t.alloc(0),w=l.tag||l.mac||t.alloc(0),E=[m(a,r,h,p),b(a,r,h,p)],C=Promise.all(E).then((function(e){c=e[0],f=e[1]}));return C=(C=C.then((function(){var r=t.concat([g,y,t.from(v),y,t.from(u.base64url.encode(d),"utf8"),y,t.from(u.base64url.encode(s),"utf8")]);try{return i["HS"+2*e].verify(f,r,w,{loose:!1})}catch(e){throw new Error("mac check failed")}}))).then((function(){return o(c,s,d)}))}}var C={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach((function(e){var t=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(e)[1]);C[e]={encrypt:p(t),decrypt:d(t)}})),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach((function(e){var t=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(e)[1]);C[e]={encrypt:w(t,e),decrypt:E(t,e)}})),e.exports=C}).call(this,r(1).Buffer)},function(e,t){},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/aes-gcm.js - AES-GCM Encryption and Key-Wrapping
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(9),i=r(5),o=r(11),a=r(112);function s(e,r){function s(t,n){if(e!==t.length<<3)throw new Error("invalid key size");if(!n&&!r)throw new Error("invalid iv");if(n&&12!==n.length)throw new Error("invalid iv")}function u(e){if(r){var t=i.base64url.encode(e.iv),n=i.base64url.encode(e.tag);e={data:e.data,header:{iv:t,tag:n}}}return e}return n.setupFallback((function(e,r,o){var a=o.iv,l=o.aad||o.adata||t.alloc(0);try{s(e,a)}catch(e){return Promise.reject(e)}a=a||i.randomBytes(12);var c,f="aes-"+8*e.length+"-gcm";try{c=n.nodeCrypto.createCipheriv(f,e,a)}catch(e){throw new Error("unsupported algorithm: "+f)}if("function"!=typeof c.setAAD)throw new Error("unsupported algorithm: "+f);return l.length&&c.setAAD(l),u({data:t.concat([c.update(r),c.final()]),iv:a,tag:c.getAuthTag()})}),(function(e,r,o){var a=o.iv,l=o.aad||o.adata||t.alloc(0);try{s(e,a)}catch(e){return Promise.reject(e)}a=a||i.randomBytes(12);var c={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",e,c,!0,["encrypt"]).then((function(e){return c.iv=a,c.tagLength=128,l.length&&(c.additionalData=l),n.subtleCrypto.encrypt(c,e,r)})).then((function(e){var r=e.byteLength-16,n=e.slice(r);n=t.from(n);var i=e.slice(0,r);return u({data:i=t.from(i),iv:a,tag:n})}))}),(function(e,r,n){var l,c,f=n.iv,h=n.aad||n.adata||t.alloc(0);try{s(e,f)}catch(e){return Promise.reject(e)}return f=f||i.randomBytes(12),l=a.createCipher({key:e,iv:f,additionalData:h}),c=t.alloc(r.length),new Promise((function(e,t){var n=o.CHUNK_SIZE,i=0,a=0;!function o(){var s=Math.min(n,r.length-a);if(i+=l.update(r,a,s,c,i),a+=s,r.length>a)setTimeout(o,0);else if((i+=l.finish(c,i))===r.length){var h=l.tag;e(u({data:c,iv:f,tag:h}))}else t(new Error("encryption failed"))}()}))}))}function u(e){function r(t,r,n){if(e!==t.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==n.length)throw new Error("invalid tag length")}return n.setupFallback((function(e,i,o){var a=o.aad||o.adata||t.alloc(0),s=o.iv||t.alloc(0),u=o.tag||o.mac||t.alloc(0);try{r(e,s,u)}catch(e){return Promise.reject(e)}var l,c="aes-"+8*e.length+"-gcm";try{l=n.nodeCrypto.createDecipheriv(c,e,s)}catch(e){throw new Error("unsupported algorithm: "+c)}if("function"!=typeof l.setAAD)throw new Error("unsupported algorithm: "+c);l.setAuthTag(u),a.length&&l.setAAD(a);try{return t.concat([l.update(i),l.final()])}catch(e){throw new Error("decryption failed")}}),(function(e,i,o){var a=o.aad||o.adata||t.alloc(0),s=o.iv||t.alloc(0),u=o.tag||o.mac||t.alloc(0);try{r(e,s,u)}catch(e){return Promise.reject(e)}var l={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",e,l,!0,["decrypt"]).then((function(e){return l.iv=s,l.tagLength=128,a.length&&(l.additionalData=a),i=t.concat([i,u],i.length+u.length),n.subtleCrypto.decrypt(l,e,i)})).then((function(e){return e=t.from(e)}))}),(function(e,n,i){var s,u,l=i.aad||i.adata||t.alloc(0),c=i.iv||t.alloc(0),f=i.tag||i.mac||t.alloc(0);try{r(e,c,f)}catch(e){return Promise.reject(e)}return s=a.createDecipher({key:e,iv:c,additionalData:l,tag:f}),u=t.alloc(n.length),new Promise((function(e,t){var r=o.CHUNK_SIZE,i=0,a=0;!function o(){var l=Math.min(r,n.length-a);if(i+=s.update(n,a,l,u,i),a+=l,n.length>a)setTimeout(o,0);else{try{i+=s.finish(u,i)}catch(e){return void t(new Error("decryption failed"))}i===n.length?e(u):t(new Error("decryption failed"))}}()}))}))}var l={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach((function(e){var t=/A(\d+)GCM(KW)?/g.exec(e),r=parseInt(t[1]),n="KW"===t[2];l[e]={encrypt:s(r,n),decrypt:u(r)}})),e.exports=l}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * deps/ciphermodes/gcm/index.js - AES-GCM implementation Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(46),i=r(4),o=r(113),a=r(68),s=r(31),u=r(23),l=r(114);function c(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=this.blockSize||16}e.exports={createCipher:function(e){var t=new i.aes.Algorithm("AES-GCM",c);return t.initialize({key:new u(e.key)}),t.mode.start(e),t.mode},createDecipher:function(e){var t=new i.aes.Algorithm("AES-GCM",c);return t.initialize({key:new u(e.key)}),t.mode._decrypt=!0,t.mode.start(e),t.mode}},c.prototype.start=function(e){if(this.tag=null,!("iv"in(e=e||{})))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=e.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in e&&(this.tag=t.from(e.tag));var r=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=t.alloc(r);var i=e.multiplier;if(null==i&&(i=new o["8k"]),this.multiplier=i,this.H=this.zeroBlock(),l.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var a=this.zeroBlock();s.longToBigEndian(new n(this.nonce.length).multiply(8),a,8),this.gHASHBlock(this.J0,a)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=n.ZERO,this.atLengthPre=n.ZERO,this.counter=t.from(this.J0),this.bufOff=0,this.totalLength=n.ZERO,"additionalData"in e&&this.processAADBytes(e.additionalData,0,e.additionalData.length)},c.prototype.update=function(e,t,r,n,i){for(var o=0;r>0;){var a=Math.min(r,this.bufBlock.length-this.bufOff);e.copy(this.bufBlock,this.bufOff,t,t+a),r-=a,t+=a,this.bufOff+=a,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+o),o+=this.blockSize)}return o},c.prototype.finish=function(e,r){var n=0;this._decrypt&&(n+=this.update(this.tag,0,this.tag.length,e,r)),this.totalLength.isZero()&&this.initCipher();var i=this.bufOff;if(this._decrypt){if(i<this.tagLength)throw new Error("data too short");i-=this.tagLength}i>0&&(this.gCTRPartial(this.bufBlock,0,i,e,r+n),n+=i),this.atLength=this.atLength.add(this.atBlockPos);var o=this.zeroBlock();s.longToBigEndian(this.atLength.multiply(8),o,0),s.longToBigEndian(this.totalLength.multiply(8),o,8),this.gHASHBlock(this.S,o);var u=t.alloc(this.blockSize);if(l.encrypt(this.cipher,this.J0,0,u,0),this.xor(u,this.S),this._decrypt){if(!a.arrayEqual(this.tag,u))throw new Error("mac check in Gcm failed")}else this.tag=t.alloc(this.tagLength),u.copy(this.tag,0,0,this.tagLength);return n},c.prototype.initCipher=function(){this.atLength.greaterThan(n.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(n.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(n.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},c.prototype.outputBlock=function(e,t){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,e,t),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},c.prototype.processAADBytes=function(e,t,r){for(var n=0;n<r;++n)this.atBlock[this.atBlockPos]=e[t+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},c.prototype.getNextCounterBlock=function(){for(var e=15;e>=12;--e){var r=this.counter[e]+1&255;if(this.counter[e]=r,0!==r)break}var n=t.alloc(this.blockSize);return l.encrypt(this.cipher,this.counter,0,n,0),n},c.prototype.gCTRBlock=function(e,t,r){var n=this.getNextCounterBlock();this.xor(n,e),n.copy(t,r,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?e:n),this.totalLength=this.totalLength.add(this.blockSize)},c.prototype.gCTRPartial=function(e,t,r,n,i){var o=this.getNextCounterBlock();this.xor(o,e,t,r),o.copy(n,i,0,r),this.gHASHPartial(this.S,this._decrypt?e:o,0,r),this.totalLength=this.totalLength.add(r)},c.prototype.gHASHBlock=function(e,t){this.xor(e,t),this.multiplier.multiplyH(e)},c.prototype.gHASHPartial=function(e,t,r,n){this.xor(e,t,r,n),this.multiplier.multiplyH(e)},c.prototype.xor=function(e,t,r,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)e[i]^=t[i];break;case 4:for(;n-- >0;)e[n]^=t[r+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return e},c.prototype.zeroBlock=function(){return t.alloc(16)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * deps/ciphermodes/gcm/multipliers.js - AES-GCM Multipliers
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(68),i=r(31);function o(){this.H=[],this.M=null}o.prototype.init=function(e){var t,r,i;if(null==this.M)for(this.M=[],t=0;t<32;++t)for(this.M[t]=[],r=0;r<16;++r)for(this.M[t][r]=[],i=0;i<4;++i)this.M[t][r][i]=0;else if(n.arrayEqual(this.H,e))return;for(this.H=e.slice(),n.asInts(e,this.M[1][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[1][r+r],this.M[1][r]);for(n.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[0][r+r],this.M[0][r]);for(t=0;;){for(r=2;r<16;r+=r)for(i=1;i<r;++i)n.xor(this.M[t][r],this.M[t][i],this.M[t][r+i]);if(32==++t)return;if(t>1)for(r=8;r>0;r>>=1)n.multiplyP8(this.M[t-2][r],this.M[t][r])}},o.prototype.multiplyH=function(e){for(var t=[],r=15;r>=0;--r){var n=this.M[r+r][15&e[r]];t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],n=this.M[r+r+1][(240&e[r])>>>4],t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]}i.intToBigEndian(t,e,0)},e.exports={"8k":o}},function(e,t,r){"use strict";
/*!
 * deps/ciphermodes/helpers.js - Cipher Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n=r(31);e.exports={encrypt:function(e,t,r,i,o){var a=new Array(4),s=new Array(4);n.bigEndianToInt(t,r,a),e.encrypt(a,s),n.intToBigEndian(s,i,o)}}},function(e,t,r){"use strict";
/*!
 * algorithms/dir.js - Direct key mode
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */var n={dir:{encrypt:function(e){return Promise.resolve({data:e,once:!0,direct:!0})},decrypt:function(e){return Promise.resolve(e)}}};e.exports=n},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/ecdh.js - Elliptic Curve Diffie-Hellman algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(8),i=r(12),o=r(5),a=r(48),s=r(72),u=r(69),l=r(47),c=r(9),f=r(11),h=n.clone,p=n.omit,d=n.pick;function g(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+e)}}var v=e.exports={};function y(e,r,n){function i(e){return t.concat([c.int32ToBuffer(e.length),e])}var a=n.algorithm||"",s=f.KEYLENGTH[a],u=o.asBuffer(n.apu||"","base64url"),l=o.asBuffer(n.apv||"","base64url"),h={public:r,length:s/8,hash:"SHA-256",otherInfo:t.concat([i(t.from(a,"utf8")),i(u),i(l),c.int32ToBuffer(s)])};return v["ECDH-CONCAT"].derive(e,h)}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach((function(e){var r,n,o=/^ECDH(?:-(\w+))?$/g.exec(e||"")[1],l=v[e]=v[e]||{};switch(o||""){case"CONCAT":l.derive=function(e,t){var r;t=t||{};try{if(!(r=t.hash||g(e.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(e){return Promise.reject(e)}var n=["public"],i=v.ECDH.derive(e,d(t,n));return i=i.then((function(e){return u["CONCAT-"+r].derive(e,p(t,n))}))};break;case"HKDF":l.derive=function(e,t){var r;t=t||{};try{if(!(r=t.hash||g(e.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(e){return Promise.reject(e)}var n=["public"],i=v.ECDH.derive(e,d(t,n));return i=i.then((function(e){return s["HKDF-"+r].derive(e,p(t,n))}))};break;case"":l.derive=(r={name:"ECDH"},n=function(e,t){var r=e&&a.convertToForge(e,!0);if(!r||!r.isValid())return Promise.reject(new Error("invalid EC public key"));switch(t){case"jwk":r=a.convertToJWK(e,!0);break;case"buffer":r=a.convertToBuffer(e,!0)}return Promise.resolve(r)},c.setupFallback((function(e,t){if("function"!=typeof c.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");var r,i=(t=t||{}).length||0;switch(e.crv){case"P-256":r="prime256v1";break;case"P-384":r="secp384r1";break;case"P-521":r="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+r))}var o=a.convertToBuffer(e,!1),s=n(t.public,"buffer");return s=s.then((function(e){var t=c.nodeCrypto.createECDH(r);t.setPrivateKey(o);var n=t.computeSecret(e);if(i){if(n.length<i)return Promise.reject(new Error("key length too large: "+i));n=n.slice(0,i)}return n}))}),(function(e,o){e=e||{};var s=(o=o||{}).length||0,u=i(h(r),{namedCurve:e.crv});s||(s=e.d.length);var l=a.convertToJWK(e,!1);l=c.subtleCrypto.importKey("jwk",l,u,!1,["deriveBits"]);var f=n(o.public,"jwk");f=f.then((function(e){return c.subtleCrypto.importKey("jwk",e,u,!1,[])}));var p=Promise.all([l,f]);return p=(p=p.then((function(e){var t=e[0],n=e[1],o=i(h(r),{public:n});return c.subtleCrypto.deriveBits(o,t,8*s)}))).then((function(e){return e=t.from(e)}))}),(function(e,t){var r=(t=t||{}).length||0,i=a.convertToForge(e,!1),o=n(t.public,"forge");return o=o.then((function(e){var t=i.computeSecret(e);if(r){if(t.length<r)return Promise.reject(new Error("key length too large: "+r));t=t.slice(0,r)}return t}))})));break;default:l.derive=null}})),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach((function(e){var t,r,n=/^ECDH-ES(?:\+(.+))?/g.exec(e||"")[1],i=v[e]=v[e]||{};n?(n=l[n])?(i.encrypt=(r=n.encrypt,function(e,t,n){if(!(n=n||{}).epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=a.convertToObj(n.epk,!1);if(!e||!e.x||!e.y)return Promise.reject(new Error("missing static public key"));var o=y(i,a.convertToObj(e,!0),{algorithm:n.alg,apu:n.apu,apv:n.apv});return o=o.then((function(e){return r(e,t)}))}),i.decrypt=(t=n.decrypt,function(e,r,n){if(!(n=n||{}).epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=a.convertToObj(n.epk,!0);if(!e||!e.d)return Promise.reject(new Error("missing static private key"));var o=y(a.convertToObj(e,!1),i,{algorithm:n.alg,apu:n.apu,apv:n.apv});return o=o.then((function(e){return t(e,r)}))})):i.ecrypt=i.decrypt=null:(i.encrypt=function(e,t,r){if(!(r=r||{}).epk||!r.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var n=a.convertToObj(r.epk,!1);if(!e||!e.x||!e.y)return Promise.reject(new Error("missing static public key"));var i=y(n,a.convertToObj(e,!0),{algorithm:r.enc,apu:r.apu,apv:r.apv});return i=i.then((function(e){return{data:e,once:!0,direct:!0}}))},i.decrypt=function(e,t,r){if(!(r=r||{}).epk||!r.epk.x||!r.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var n=a.convertToObj(r.epk,!0);if(!e||!e.d)return Promise.reject(new Error("missing static private key"));var i=y(a.convertToObj(e,!1),n,{algorithm:r.enc,apu:r.apu,apv:r.apv});return i=i.then((function(e){return e}))})}))}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(4).jsbn.BigInteger,i=r(71);function o(e,t,r,n){this.curve=e,this.g=t,this.n=r,this.h=n}function a(e){return new n(e,16)}o.prototype.getCurve=function(){return this.curve},o.prototype.getG=function(){return this.g},o.prototype.getN=function(){return this.n},o.prototype.getH=function(){return this.h};var s,u,l,c,f,h,p,d=e.exports={secp256r1:(s=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),u=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),l=a("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),c=a("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),f=n.ONE,h=new i.ECCurveFp(s,u,l),p=h.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),new o(h,p,c,f)),secp384r1:function(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),t=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),r=a("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),s=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),u=n.ONE,l=new i.ECCurveFp(e,t,r),c=l.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new o(l,c,s,u)}(),secp521r1:function(){var e=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),t=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),r=a("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),s=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),u=n.ONE,l=new i.ECCurveFp(e,t,r),c=l.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new o(l,c,s,u)}()};d["P-256"]=d.secp256r1,d["P-384"]=d.secp384r1,d["P-521"]=d.secp521r1},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/ecdsa.js - Elliptic Curve Digitial Signature Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(48),i=r(9),o=r(30);function a(e){switch(e){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+e)}}function s(e){var r,s=a(e),u=e.toLowerCase().replace("-","");return i.nodeCrypto&&i.nodeCrypto.getHashes().indexOf(u)>-1&&(r=function(e,t){if(s!==e.crv)return Promise.reject(new Error("invalid curve"));var r,o;switch(r=(r=Promise.resolve(i.nodeCrypto.createSign(u))).then((function(e){return e.update(t),e})),u.slice(-3)){case"384":o=48;break;case"512":o=66;break;default:o=32}return r=(r=r.then((function(t){return n.derToConcat(t.sign(n.convertToPEM(e,!0)),o)}))).then((function(e){return{data:t,mac:e}}))}),i.setupFallback(r,(function(r,o){if(s!==r.crv)return Promise.reject(new Error("invalid curve"));var a=n.convertToJWK(r,!1),u={name:"ECDSA",namedCurve:a.crv,hash:{name:e}};return i.subtleCrypto.importKey("jwk",a,u,!0,["sign"]).then((function(e){return i.subtleCrypto.sign(u,e,o)})).then((function(e){return e=t.from(e),{data:o,mac:e}}))}),(function(r,i){if(s!==r.crv)return Promise.reject(new Error("invalid curve"));var a=n.convertToForge(r,!1);return o[e].digest(i).then((function(e){return e=a.sign(e),e=t.concat([e.r,e.s]),{data:i,mac:e}}))}))}function u(e){var t,r=a(e),s=e.toLowerCase().replace("-","");return i.nodeCrypto&&i.nodeCrypto.getHashes().indexOf(s)>-1&&(t=function(e,t,o){if(r!==e.crv)return Promise.reject(new Error("invalid curve"));var a;switch(s.slice(-3)){case"384":a=48;break;case"512":a=66;break;default:a=32}return Promise.resolve(i.nodeCrypto.createVerify(s)).then((function(r){return r.update(t),r.end(),r.verify(n.convertToPEM(e,!1),n.concatToDer(o,a))})).then((function(e){if(!e)throw new Error("verification failed");return{data:t,mac:o,valid:!0}}))}),i.setupFallback(t,(function(t,o,a){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToJWK(t,!0),u={name:"ECDSA",namedCurve:s.crv,hash:{name:e}};return i.subtleCrypto.importKey("jwk",s,u,!0,["verify"]).then((function(e){return i.subtleCrypto.verify(u,e,a,o)})).then((function(e){return e?{data:o,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(t,i,a){if(r!==t.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToForge(t,!0);return o[e].digest(i).then((function(e){var t=a.length/2,r={r:a.slice(0,t),s:a.slice(t)};return s.verify(e,r)?{data:i,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))}))}))}var l={};["ES256","ES384","ES512"].forEach((function(e){var t=e.replace(/ES(\d+)/g,(function(e,t){return"SHA-"+t}));l[e]={sign:s(t),verify:u(t)}})),e.exports=l}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/pbes2.js - Password-Based Encryption (v2) Algorithms
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(4),i=r(12),o=r(5),a=r(9),s=r(11),u=r(47),l=t.from([0]),c=8192,f=16;function h(e,r,n){var i="PBES2-"+e+"+"+r,o=[t.from(i,"utf8"),l,n];return t.concat(o)}function p(e){function r(e){var r=(e=e||{}).length||0,n=o.asBuffer(e.salt||t.alloc(0),"base64u4l"),i=e.iterations||0;if(0>=r)throw new Error("invalid key length");if(0>=i)throw new Error("invalid iteration count");return e.length=r,e.salt=n,e.iterations=i,e}return a.setupFallback((function(t,n){if(6>a.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+e);try{n=r(n)}catch(e){return Promise.reject(e)}var i=n.length,o=n.salt,s=n.iterations,u=e.replace("-","");return new Promise((function(e,r){a.nodeCrypto.pbkdf2(t,o,s,i,u,(function(t,n){t?r(t):e(n)}))}))}),(function(t,n){try{n=r(n)}catch(e){return Promise.reject(e)}var i=n.length,s=n.salt,u=n.iterations,l=Promise.resolve(t);return l=(l=(l=l.then((function(e){return a.subtleCrypto.importKey("raw",e,"PBKDF2",!1,["deriveBits"])}))).then((function(t){var r={name:"PBKDF2",salt:new Uint8Array(s),iterations:u,hash:e};return a.subtleCrypto.deriveBits(r,t,8*i)}))).then((function(e){return o.asBuffer(e)}))}),(function(i,o){try{o=r(o)}catch(e){return Promise.reject(e)}var a=o.length,s=o.salt,u=o.iterations;return new Promise((function(r,o){var l=n.md[e.replace("-","").toLowerCase()].create();n.pkcs5.pbkdf2(i.toString("binary"),s.toString("binary"),u,a,l,(function(e,n){e?o(e):(n=t.from(n,"binary"),r(n))}))}))}))}function d(e,r){var n="PBKDF2-"+e.replace("HS","SHA-"),a=s.KEYLENGTH[r]/8;return function(s,l,p){p=p||{};var d=o.asBuffer(p.p2s||t.alloc(0),"base64url"),g=p.p2c||c;if(0>=g)throw new Error("invalid iteration count");if(0===d.length)d=o.randomBytes(f);else if(8>d.length)throw new Error("salt too small");var y={p2s:o.base64url.encode(d),p2c:g};d=h(e,r,d),p=i(p,{salt:d,iterations:g,length:a});var m=Promise.resolve(s);return m=(m=(m=m.then((function(e){return v[n].derive(e,p)}))).then((function(e){return u[r].encrypt(e,l)}))).then((function(e){return e.header=i(e.header||{},y),e}))}}function g(e,r){var n="PBKDF2-"+e.replace("HS","SHA-"),a=s.KEYLENGTH[r]/8;return function(s,l,c){c=c||{};var f=o.asBuffer(c.p2s||t.alloc(0),"base64url"),p=c.p2c||0;if(0>=p)return Promise.reject(new Error("invalid iteration count"));if(8>f.length)return Promise.reject(new Error("salt too small"));f=h(e,r,f),c=i(c,{salt:f,iterations:p,length:a});var d=Promise.resolve(s);return d=(d=d.then((function(e){return v[n].derive(e,c)}))).then((function(e){return u[r].decrypt(e,l)}))}}var v={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach((function(e){var t=e.replace("PBKDF2-","");v[e]={derive:p(t)}})),["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach((function(e){var t=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(e),r=t[1],n=t[2];v[e]={encrypt:d(r,n),decrypt:g(r,n)}})),e.exports=v}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/rsaes.js - RSA Signatures
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(4),i=r(9),o=r(23),a=r(49),s={"RSA-OAEP":"RSA_PKCS1_OAEP_PADDING",RSA1_5:"RSA_PKCS1_PADDING"};function u(e){return i.nodeCrypto&&i.nodeCrypto.constants&&-1!==Object.keys(s).indexOf(e)}function l(e){var r={name:e};"RSA-OAEP-256"===e?(r.name="RSA-OAEP",r.hash={name:"SHA-256"}):"RSA-OAEP"===e?r.hash={name:"SHA-1"}:r.name="RSAES-PKCS1-v1_5";var l,c;return l="RSAES-PKCS1-v1_5"!==r.name?function(e,n){return e=a.convertToJWK(e,!0),i.subtleCrypto.importKey("jwk",e,r,!0,["encrypt"]).then((function(e){return i.subtleCrypto.encrypt(r,e,n)})).then((function(e){return{data:t.from(e)}}))}:null,u(e)&&(c=function(t,r){return t=a.convertToPem(t,!0),{data:i.nodeCrypto.publicEncrypt({key:t,padding:i.nodeCrypto.constants[s[e]]},r)}}),i.setupFallback(c,l,(function(e,t){t=new o(t).bytes();var i=a.convertToForge(e,!0),s={};"RSA-OAEP"===r.name&&(s.md=r.hash.name.toLowerCase().replace(/-/g,""),s.md=n.md[s.md].create());var u=i.encrypt(t,r.name.toUpperCase(),s);return u=new o(u).native(),Promise.resolve({data:u})}))}function c(e){var r={name:e};"RSA-OAEP-256"===e?(r.name="RSA-OAEP",r.hash={name:"SHA-256"}):"RSA-OAEP"===e?r.hash={name:"SHA-1"}:r.name="RSAES-PKCS1-v1_5";var l,c;return l="RSAES-PKCS1-v1_5"!==r.name?function(e,n){return e=a.convertToJWK(e,!1),i.subtleCrypto.importKey("jwk",e,r,!0,["decrypt"]).then((function(e){return i.subtleCrypto.decrypt(r,e,n)})).then((function(e){return t.from(e)}))}:null,u(e)?c=function(t,r){return t=a.convertToPem(t,!1),i.nodeCrypto.privateDecrypt({key:t,padding:i.nodeCrypto.constants[s[e]]},r)}:i.nodeCrypto&&"RSA-OAEP"===e&&(c=function(e,t){return e=a.convertToPem(e,!1),i.nodeCrypto.privateDecrypt(e,t)}),i.setupFallback(c,l,(function(e,t){t=new o(t).bytes();var i=a.convertToForge(e,!1),s={};"RSA-OAEP"===r.name&&(s.md=r.hash.name.toLowerCase().replace(/-/g,""),s.md=n.md[s.md].create());var u=i.decrypt(t,r.name.toUpperCase(),s);return u=new o(u).native(),Promise.resolve(u)}))}var f={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach((function(e){f[e]={encrypt:l(e),decrypt:c(e)}})),e.exports=f}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * algorithms/rsassa.js - RSA Signatures
 *
 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
 */
var n=r(4),i=r(11),o=r(9),a=r(49);function s(){return o.nodeCrypto&&o.nodeCrypto.constants&&o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST}function u(e){var r,i=e.replace("RS","SHA").toLowerCase(),s=e.replace("RS","SHA-"),u={name:"RSASSA-PKCS1-V1_5",hash:{name:s}},l="RSA-"+s.replace("-","");return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(l)>-1&&(r=function(e,t){var r=o.nodeCrypto.createSign(l);return r.update(t),{data:t,mac:r.sign(a.convertToPem(e,!1))}}),o.setupFallback(r,(function(e,r){return e=a.convertToJWK(e,!1),o.subtleCrypto.importKey("jwk",e,u,!0,["sign"]).then((function(e){return o.subtleCrypto.sign(u,e,r)})).then((function(e){var n=t.from(e);return{data:r,mac:n}}))}),(function(e,r){var o=n.md[i].create();o.start(),o.update(r);var s=a.convertToForge(e,!1).sign(o,"RSASSA-PKCS1-V1_5");return s=t.from(s,"binary"),Promise.resolve({data:r,mac:s})}))}function l(e){var t,r=e.replace("RS","SHA").toLowerCase(),i={name:"RSASSA-PKCS1-V1_5",hash:{name:e.replace("RS","SHA-")}};return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(r)>-1&&(t=function(e,t,n){var i=o.nodeCrypto.createVerify(r);return i.update(t),i.end(),i.verify(a.convertToPem(e,!0),n)?{data:t,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(t,(function(e,t,r){return e=a.convertToJWK(e,!0),o.subtleCrypto.importKey("jwk",e,i,!0,["verify"]).then((function(e){return o.subtleCrypto.verify(i,e,r,t)})).then((function(e){return e?{data:t,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(e,t,i){var o=n.md[r].create();o.start(),o.update(t),o=o.digest().bytes();var s=a.convertToForge(e,!0),u=i.toString("binary");return s.verify(o,u,"RSASSA-PKCS1-V1_5")?Promise.resolve({data:t,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))}))}function c(e){var r,u=e.replace("PS","SHA").toLowerCase(),l=e.replace("PS","SHA-"),c={name:"RSA-PSS",hash:{name:l},saltLength:i.HASHLENGTH[l]/8},f="RSA-"+l.replace("-","");return s()&&(r=function(e,t){var r=o.nodeCrypto.createSign(f);return r.update(t),{data:t,mac:r.sign({key:a.convertToPem(e,!1),padding:o.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST})}}),o.setupFallback(r,(function(e,r){return e=a.convertToJWK(e,!1),o.subtleCrypto.importKey("jwk",e,c,!0,["sign"]).then((function(e){return o.subtleCrypto.sign(c,e,r)})).then((function(e){var n=t.from(e);return{data:r,mac:n}}))}),(function(e,r){var o=n.md[u].create();o.start(),o.update(r);var s=n.pss.create({md:n.md[u].create(),mgf:n.mgf.mgf1.create(n.md[u].create()),saltLength:i.HASHLENGTH[l]/8}),c=a.convertToForge(e,!1).sign(o,s);return c=t.from(c,"binary"),Promise.resolve({data:r,mac:c})}))}function f(e){var t,r=e.replace("PS","SHA").toLowerCase(),u=e.replace("PS","SHA-"),l={name:"RSA-PSS",hash:{name:u},saltLength:i.HASHLENGTH[u]/8};return s()&&(t=function(e,t,n){var i=o.nodeCrypto.createVerify(r);return i.update(t),i.end(),i.verify({key:a.convertToPem(e,!0),padding:o.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST},n)?{data:t,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(t,(function(e,t,r){return e=a.convertToJWK(e,!0),o.subtleCrypto.importKey("jwk",e,l,!0,["verify"]).then((function(e){return o.subtleCrypto.verify(l,e,r,t)})).then((function(e){return e?{data:t,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))}))}),(function(e,t,o){var s=n.md[r].create();s.start(),s.update(t),s=s.digest().bytes();var l=n.pss.create({md:n.md[r].create(),mgf:n.mgf.mgf1.create(n.md[r].create()),saltLength:i.HASHLENGTH[u]/8}),c=a.convertToForge(e,!0),f=o.toString("binary");return c.verify(s,f,l)?Promise.resolve({data:t,mac:o,valid:!0}):Promise.reject(new Error("verification failed"))}))}var h={};["PS256","PS384","PS512"].forEach((function(e){h[e]={sign:c(e),verify:f(e)}})),["RS256","RS384","RS512"].forEach((function(e){h[e]={sign:u(e),verify:l(e)}})),e.exports=h}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwk/octkey.js - Symmetric Octet Key Representation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(5),i={BaseKey:r(29),helpers:r(24)},o=["HS256","HS384","HS512"],a=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],s=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function u(e,r){return"iv"in r&&(r.iv=t.isBuffer(r.iv)?r.iv:n.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=t.isBuffer(r.adata)?r.adata:t.from(r.adata||"","utf8")),"mac"in r&&(r.mac=t.isBuffer(r.mac)?r.mac:n.base64url.decode(r.mac||"")),"tag"in r&&(r.tag=t.isBuffer(r.tag)?r.tag:n.base64url.decode(r.tag||"")),r}function l(e,r){return"iv"in r&&(r.iv=t.isBuffer(r.iv)?r.iv:n.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=t.isBuffer(r.adata)?r.adata:t.from(r.adata||"","utf8")),r}var c={publicKey:function(e){var t=i.helpers.COMMON_PROPS.concat([]);return i.helpers.unpackProps(e,t)},privateKey:function(e){var t,r=i.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return(t=i.helpers.unpackProps(e,r))&&t.k?t.length=8*t.k.length:t=void 0,t},thumbprint:function(e){return e.private&&(e=e.private),{k:e.k||"",kty:"oct"}},algorithms:function(e,t){var r=e.private&&8*e.private.k.length,n=[256,384,512];if(!r)return[];switch(t){case"encrypt":case"decrypt":return a.filter((function(e){return e==="A"+r/2+"CBC-HS"+r||e==="A"+r/2+"CBC+HS"+r||e==="A"+r+"GCM"}));case"sign":case"verify":return o.filter((function(e){var t=!1;return n.forEach((function(n){n>r||(t|=e==="HS"+n)})),t}));case"wrap":case"unwrap":return s.filter((function(e){return e==="A"+r+"KW"||e==="A"+r+"GCMKW"||0===e.indexOf("PBES2-")||"dir"===e}))}return[]},encryptKey:function(e,t){return t.private&&t.private.k},encryptProps:l,decryptKey:function(e,t){return t.private&&t.private.k},decryptProps:u,wrapKey:function(e,t){return t.private&&t.private.k},wrapProps:l,unwrapKey:function(e,t){return t.private&&t.private.k},unwrapProps:u,signKey:function(e,t){return t.private&&t.private.k},verifyKey:function(e,t){return t.private&&t.private.k}},f={kty:"oct",prepare:function(e){var t=c,r=Promise.resolve(e);return r=(r=r.then((function(e){return i.helpers.thumbprint(t,e)}))).then((function(r){var n={};return n[i.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[i.helpers.INTERNALS.THUMBPRINT_KEY]=n,t}))},generate:function(e){var t=n.randomBytes(e/8);return Promise.resolve({k:t})}};e.exports=Object.freeze({config:c,factory:f}),r(28).registry.register(f)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwk/rsa.js - RSA Key Representation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(4),i=r(49),o=r(9).nodeCrypto,a={BaseKey:r(29),helpers:r(24)},s=["RS256","RS384","RS512","PS256","PS384","PS512"],u=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],l={publicKey:function(e){var t,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return(t=a.helpers.unpackProps(e,r))&&t.n&&t.e?t.length=8*t.n.length:(delete t.e,delete t.n),t},privateKey:function(e){var t,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return(t=a.helpers.unpackProps(e,r))&&t.d&&t.n&&t.e&&t.p&&t.q&&t.dp&&t.dq&&t.qi?t.length=8*t.d.length:t=void 0,t},thumbprint:function(e){return e.public&&(e=e.public),{e:e.e,kty:"RSA",n:e.n}},algorithms:function(e,t){switch(t){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&u.slice()||[];case"unwrap":return e.private&&u.slice()||[];case"sign":return e.private&&s.slice()||[];case"verify":return e.public&&s.slice()||[]}return[]},wrapKey:function(e,t){return t.public},unwrapKey:function(e,t){return t.private},signKey:function(e,t){return t.private},verifyKey:function(e,t){return t.public},convertToPEM:function(e,t){var r=i.convertToForge(e,!t);return t?n.pki.privateKeyToPem(r):n.pki.publicKeyToPem(r)}};var c={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},f={kty:"RSA",validators:c,prepare:function(e){var t=l,r=Promise.resolve(e);return r=(r=r.then((function(e){return a.helpers.thumbprint(t,e)}))).then((function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,t}))},generate:function(e){var r;if(o)r=new Promise((function(t,r){n.pki.rsa.generateKeyPair({bits:e,e:65537},(function(e,n){if(e)return r(e);t(n.privateKey)}))}));else{var i=n.pki.rsa.generateKeyPair({bits:e,e:65537});r=Promise.resolve(i.privateKey)}return r.then((function(e){var r={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach((function(n){var i,o,a;"string"==typeof n?i=o=n:(i=n.incoming,o=n.outgoing),i in e&&(r[o]=((a=(a=e[i]).toString(16)).length%2&&(a="0"+a),t.from(a,"hex")))})),r}))},import:function(e){if(c.oid!==e.keyOid)return null;if(!e.parsed){"string"==typeof e.keyValue?e.keyValue=n.asn1.fromDer(e.keyValue):Array.isArray(e.keyValue)&&(e.keyValue=e.keyValue[0]);var r="private"===e.type?c.privateKey:c.publicKey,i={};if(!n.asn1.validate(e.keyValue,r,i,[]))return null;e=i}var o={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach((function(r){if(r in e){var n=t.from(e[r],"binary");0===n[0]&&(n=n.slice(1)),o[r]=n}})),o}};e.exports=Object.freeze({config:l,factory:f}),r(28).registry.register(f)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwk/rsa.js - RSA Key Representation
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(48),i=r(4),o=r(70),a={BaseKey:r(29),helpers:r(24)},s=["ES256","ES384","ES512"],u=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],l=n.EC_OID;function c(e){switch(e){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var f={publicKey:function(e){var t=a.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),r=a.helpers.unpackProps(e,t);return r&&r.crv&&r.x&&r.y?r.length=n.curveSize(r.crv):(delete r.crv,delete r.x,delete r.y),r},privateKey:function(e){var t=a.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),r=a.helpers.unpackProps(e,t);return r&&r.crv&&r.x&&r.y&&r.d?r.length=n.curveSize(r.crv):r=void 0,r},thumbprint:function(e){return e.public&&(e=e.public),{crv:e.crv,kty:"EC",x:e.x,y:e.y}},algorithms:function(e,t){var r=e.public&&e.public.length||e.private&&e.private.length||0;switch(521===r&&(r=512),t){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&u||[];case"unwrap":return e.private&&u||[];case"sign":return e.private?s.filter((function(e){return e==="ES"+r})):[];case"verify":return e.public?s.filter((function(e){return e==="ES"+r})):[]}},encryptKey:function(e,t){return t.public},decryptKey:function(e,t){return t.private},wrapKey:function(e,t){return t.public},unwrapKey:function(e,t){return t.private},signKey:function(e,t){return t.private},verifyKey:function(e,t){return t.public}};f.convertToPEM=n.convertToPEM;var h={oid:l,privateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:i.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},p={kty:"EC",validators:h,prepare:function(e){var t=f,r=Promise.resolve(e);return r=(r=r.then((function(e){return a.helpers.thumbprint(t,e)}))).then((function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,t}))},generate:function(e){var t=o.generateKeyPair(e),r={crv:e,x:t.public.x,y:t.public.y,d:t.private.d};return Promise.resolve(r)},import:function(e){if(h.oid!==e.keyOid)return null;var r;if(e.keyParams&&i.asn1.Type.OID===e.keyParams.type?r=c(r=i.asn1.derToOid(e.keyParams.value)):e.crv&&(r=c(r=i.asn1.derToOid(e.crv))),!r)return null;if(!e.parsed){var n={};if("private"===e.type){if("string"==typeof e.keyValue?e.keyValue=i.asn1.fromDer(e.keyValue):Array.isArray(e.keyValue)&&(e.keyValue=e.keyValue[0]),!i.asn1.validate(e.keyValue,h.embeddedPrivateKey,n,[]))return null}else n.point=e.keyValue;e=n}var o={kty:"EC",crv:r};if(e.d&&(o.d=t.from(e.d,"binary")),e.point){var a=t.from(e.point,"binary");if(4!==a.readUInt16BE(0))return null;var s=(a=a.slice(2)).length/2;o.x=a.slice(0,s),o.y=a.slice(s)}return o}};e.exports=Object.freeze({config:f,factory:p}),r(28).registry.register(p)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * jws/helpers.js - JWS Internal Helper Functions
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */e.exports={slice:function(e,t){return Array.prototype.slice.call(e,t||0)}}},function(e,t,r){"use strict";
/*!
 * jws/defaults.js - Defaults for JWSs
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */e.exports={compact:!1,protect:"*"}},function(e,t,r){"use strict";(function(t){
/*!
 * jws/verify.js - Verifies from a JWS
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(8).clone,i=r(12),o=r(27),a=r(74),s=r(19),u={algorithms:"*",allowEmbeddedKey:!1},l=function(e,r){var l,c;c=s.isKey(e)?(l=e).keystore:s.isKeyStore(e)?e:s.createKeyStore(),r=i(u,r),Object.defineProperty(this,"defaultKey",{value:l||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:c,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(e,u){var f=(u=i({},r,u||{})).handlers||{},h=Object.keys(f),p=new a(u.algorithms);if("string"==typeof e)e={payload:(e=e.split("."))[1],signatures:[{protected:e[0],signature:e[2]}]};else if(!e||"object"!=typeof e)throw new Error("invalid input");e.signature&&(e.signatures=[{protected:e.protected||void 0,header:e.header||void 0,signature:e.signature}]);var d=e.signatures||[{}];d=d.map((function(e){var t=n(e.header||{}),r=e.protected?JSON.parse(o.decode(e.protected,"utf8")):{};t=i(t,r);var a=o.decode(e.signature);if(!p.match(t.alg))return Promise.reject(new Error("Algorithm not allowed: "+t.alg));var s=r.crit;if(s){if(!Array.isArray(s))return Promise.reject(new Error("Invalid 'crit' header"));for(var u=0;s.length>u;u++)if(-1===h.indexOf(s[u]))return Promise.reject(new Error("Critical extension is not supported: "+s[u]))}return r=Object.keys(r),Promise.resolve({protected:r,aad:e.protected||"",header:t,signature:a})}));var g=Promise.all(d);return g=g.then((function(r){return new Promise((function(n,a){var p=function(){var d=r.shift();if(d){d=i({},d,{payload:e.payload});var g=Promise.resolve(d);(g=(g=(g=(g=(g=(g=g.then((function(e){var r;return u.allowEmbeddedKey&&e.header.jwk?r=s.asKey(e.header.jwk):u.allowEmbeddedKey&&e.header.x5c?(r=e.header.x5c[0],r=t.from(r,"base64"),r=s.asKey(r,"pkix")):r=Promise.resolve(l||c.get({use:"sig",alg:e.header.alg,kid:e.header.kid})),r.then((function(t){return t?(e.key=t,e):Promise.reject(new Error("key does not match"))}))}))).then((function(e){var t=[];return h.forEach((function(r){var n;"function"==typeof(r=f[r])?n=r(e):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(e)),n&&t.push(Promise.resolve(n))})),Promise.all(t).then((function(){return e}))}))).then((function(e){var r=e.aad||"",n=e.payload||"",i=t.alloc(1+r.length+n.length),o=0;return i.write(r,o,"ascii"),o+=r.length,i.write(".",o,"ascii"),o++,t.isBuffer(n)?n.copy(i,o):i.write(n,o,"binary"),e.content=i,e}))).then((function(e){return e.key.verify(e.header.alg,e.content,e.signature)}))).then((function(e){var t=d.payload;return t=o.decode(t),{protected:d.protected,header:d.header,payload:t,signature:e.mac,key:d.key}}))).then((function(e){var t=[];return h.forEach((function(r){var n;"object"==typeof(r=f[r])&&"function"==typeof r.complete&&(n=r.complete(e)),n&&t.push(Promise.resolve(n))})),Promise.all(t).then((function(){return e}))}))).then(n,p)}else a(new Error("no key found"))};p()}))}))}})};e.exports={verifier:l,createVerify:function(e,t){return new l(e,t)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * jwe/encrypt.js - Encrypt to a JWE
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(8),i=r(5),o=r(75).generateCEK,a=r(19),s=r(75).slice,u=r(76),l=r(11),c=n.assign,f=n.clone,h=r(151);function p(e,r,n){var s=!1,h=e.format||"general",p=!!e.protectAll,d=t.alloc(0);Object.defineProperty(this,"zip",{get:function(){return r.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===h},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return h},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return f(e.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return f(r)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(e,r){if(s)throw new Error("already final");return null!=e&&(e=i.asBuffer(e,r),d=d.length?t.concat([d,e],d.length+e.length):e),this}}),Object.defineProperty(this,"final",{value:function(g,v){if(s)return Promise.reject(new Error("already final"));this.update(g,v),s=!0;var y,m=Promise.resolve({}),b=r.enc;m=(m=m.then((function(t){return e.cek&&(y=a.asKey(e.cek)),t}))).then((function(t){var s=Promise.all(n);return s=(s=s.then((function(t){var n=1===t.length;return t=t.map((function(t){return function(t,n){var s={};s=c(s,r),s=c(s,t.header);var u,l,h=t.key,p=s.alg;return 0===(s.alg||"").indexOf("ECDH-ES")?(u=h.keystore.temp(),l=t.epk?Promise.resolve(t.epk).then((function(e){t.header.epk=e.toJSON(!1,["kid"]),s.epk=e.toObject(!0,["kid"])})):u.generate("EC",h.get("crv")).then((function(e){t.header.epk=e.toJSON(!1,["kid"]),s.epk=e.toObject(!0,["kid"])}))):l=Promise.resolve(),l=(l=l.then((function(){var t,i;return"dir"===p&&n?i=(y=Promise.resolve(h)).then((function(e){return b||(s.enc=r.enc=b=e.algorithms(a.MODE_ENCRYPT)[0]),{once:!0,direct:!0}})):(y||(b||(s.enc=r.enc=b=e.contentAlg),y=o(b)),i=(i=y.then((function(e){return t=e.get("k",!0),h}))).then((function(e){return e.wrap(p,t,s)}))),i}))).then((function(e){if(e.once&&!n)return Promise.reject(new Error("cannot use 'alg':'"+p+"' with multiple recipients"));var r,o={};return e.data&&(r=e.data,r=i.base64url.encode(r)),e.direct&&r?y=a.asKey({kty:"oct",k:r}):r&&(o.encrypted_key=r),t.header&&Object.keys(t.header).length&&(o.header=f(t.header||{})),e.header&&(o.header=c(o.header||{},e.header)),o}))}(t,n)})),Promise.all(t)}))).then((function(e){return t.recipients=e.filter((function(e){return!!e})),t}))}));var w={};switch(m=(m=(m=m.then((function(t){var n,o,a,s;return a=f(r),p&&1===t.recipients.length||"compact"===h?(n={},n=c({},a,t.recipients[0].header),o=Object.keys(n).length,a=void 0,s=0,delete t.recipients[0].header,0===Object.keys(t.recipients[0]).length&&t.recipients.splice(0,1)):(n={},o=0,s=Object.keys(a).length,e.protect.forEach((function(e){e in a&&(n[e]=a[e],o++,delete a[e],s--)})),t.recipients=(t.recipients||[]).map((function(e){var t=(e=e||{}).header;return t&&(Object.keys(t).forEach((function(e){e in n&&delete t[e]})),Object.keys(t).length||delete e.header),e}))),t.recipients&&0!==t.recipients.length||delete t.recipients,a&&s>0&&(w=c(w,a),t.unprotected=a),n&&o>0&&(w=c(w,n),n=JSON.stringify(n),t.protected=i.base64url.encode(n,"utf8")),t}))).then((function(e){var r=d;return w.zip?"DEF"===w.zip?new Promise((function(n,i){u.deflateRaw(t.from(r,"binary"),(function(t,r){t?i(t):(e.plaintext=r,n(e))}))})):Promise.reject(new Error("unsupported 'zip' mode")):(e.plaintext=r,e)}))).then((function(r){w.adata=r.protected,"aad"in e&&null!=e.aad&&(w.adata+="."+e.aad,w.adata=t.from(w.adata,"utf8"));var n=e.iv||i.randomBytes(l.NONCELENGTH[b]/8);"string"==typeof n&&(n=i.base64url.decode(n)),w.iv=n,"recipients"in r&&1===r.recipients.length&&(w.kdata=r.recipients[0].encrypted_key),"epu"in e&&null!=e.epu&&(w.epu=e.epu),"epv"in e&&null!=e.epv&&(w.epv=e.epv);var o=r.plaintext;return delete r.plaintext,y.then((function(t){var a=t.encrypt(b,o,w);return a=a.then((function(t){return r.iv=i.base64url.encode(n,"binary"),"aad"in e&&null!=e.aad&&(r.aad=e.aad),r.ciphertext=i.base64url.encode(t.data,"binary"),r.tag=i.base64url.encode(t.tag,"binary"),r}))}))})),h){case"compact":m=m.then((function(e){var t=new Array(5);return t[0]=e.protected,e.recipients&&e.recipients[0]&&(t[1]=e.recipients[0].encrypted_key),t[2]=e.iv,t[3]=e.ciphertext,t[4]=e.tag,t=t.join(".")}));break;case"flattened":m=m.then((function(e){var t={},r=e.recipients&&e.recipients[0];return e.protected&&(t.protected=e.protected),e.unprotected&&(t.unprotected=e.unprotected),["header","encrypted_key"].forEach((function(e){r&&e in r&&r[e]&&("object"!=typeof r[e]||Object.keys(r[e]).length)&&(t[e]=r[e])})),e.aad&&(t.aad=e.aad),t.iv=e.iv,t.ciphertext=e.ciphertext,t.tag=e.tag,t}));break;case"general":m=m.then((function(e){var t=e.recipients||[];return(t=(t=t.map((function(e){if(Object.keys(e).length)return e}))).filter((function(e){return!!e}))).length?e.recipients=t:delete e.recipients,e}))}return m}})}e.exports={encrypter:p,createEncrypt:function(e,t){var r=e,n=1,o=t;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length?(o=e,n=0,r={}):a.isKey(e)||e&&"kty"in e||e&&"key"in e&&(a.isKey(e.key)||"kty"in e.key)?(o=e,n=0,r={}):r=f(e),Array.isArray(o)||(o=s(arguments,n)),r=c(f(h),r);var u=f(r.fields||{});switch(r.zip&&(u.zip="boolean"==typeof r.zip?!!r.zip&&"DEF":r.zip),r.format=(r.compact?"compact":r.format)||"general",r.format){case"compact":if("aad"in e)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(o.length>1)throw new Error("too many recipients for compact serialization")}var l=!1;if("compact"===r.format||"*"===r.protect)l=!0,r.protect=Object.keys(u).concat("enc");else if("string"==typeof r.protect)r.protect=[r.protect];else if(Array.isArray(r.protect))r.protect=r.protect.concat();else{if(r.protect)throw new Error("protect must be a list of fields");r.protect=[]}if(l&&1<o.length)throw new Error("too many recipients to protect all header parameters");return o=o.map((function(e,t){var r;return r=e&&"kty"in e?(r=a.asKey(e)).then((function(e){return{key:e}})):e?(r=a.asKey(e.key)).then((function(t){return{header:e.header,reference:e.reference,key:t}})):Promise.reject(new Error("missing key for recipient "+t)),e.epk&&(r=r.then((function(t){return a.asKey(e.epk).then((function(e){return t.epk=e,t}))}))),r=r.then((function(e){var r=e.key,n=e.header||{};e.header=n;var i={};if(i=c(i,u),(i=c(i,e.header)).alg||(i.alg=r.algorithms(a.MODE_WRAP)[0],n.alg=i.alg),!i.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+t));n.alg=i.alg;var o,s=e.reference;if(delete e.reference,void 0===s?s=(s=["kid","jku","x5c","x5t","x5u"].some((function(e){return e in n})))?null:"kid":"boolean"==typeof s&&(s=s?"kid":null),s)if(o=r.toJSON(),"jwk"===s){if("oct"===r.kty)return Promise.reject(new Error("cannot embed key"));n.jwk=o}else s in o&&(n[s]=o[s]);return e=Object.freeze(e)}))})),new p({aad:"aad"in r?i.base64url.encode(r.aad||""):null,contentAlg:r.contentAlg,format:r.format,protect:r.protect,cek:r.cek,iv:r.iv,protectAll:l},u,o)}}}).call(this,r(1).Buffer)},function(e,t,r){e.exports=i;var n=r(51).EventEmitter;function i(){n.call(this)}r(20)(i,n),i.Readable=r(52),i.Writable=r(135),i.Duplex=r(136),i.Transform=r(137),i.PassThrough=r(138),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},function(e,t){},function(e,t,r){"use strict";var n=r(33).Buffer,i=r(132);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=o,i=s,t.copy(r,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(7))},function(e,t,r){"use strict";e.exports=o;var n=r(81),i=r(25);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(20),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(53)},function(e,t,r){e.exports=r(17)},function(e,t,r){e.exports=r(52).Transform},function(e,t,r){e.exports=r(52).PassThrough},function(e,t,r){"use strict";(function(e,n){var i=r(82),o=r(143),a=r(144),s=r(147),u=r(150);for(var l in u)t[l]=u[l];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function c(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,r,n,i,o,a){return this._write(!0,e,t,r,n,i,o,a)},c.prototype.writeSync=function(e,t,r,n,i,o,a){return this._write(!1,e,t,r,n,i,o,a)},c.prototype._write=function(r,o,a,s,u,l,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=c,this.flush=o,!r)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return n.nextTick((function(){h._process(),h._after()})),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,r,n,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(r>=-1&&r<=9,"invalid compression level"),i(n>=1&&n<=9,"invalid memlevel"),i(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,o,a),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,r,n,i,u){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,r(1).Buffer,r(10))},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,u=a(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))i.call(r,c)&&(u[c]=r[c]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,r){"use strict";var n,i=r(34),o=r(145),a=r(84),s=r(85),u=r(146),l=0,c=1,f=3,h=4,p=5,d=0,g=1,v=-2,y=-3,m=-5,b=-1,w=1,E=2,C=3,S=4,_=0,T=2,A=8,k=9,I=15,x=8,N=286,B=30,L=19,O=2*N+1,R=15,D=3,P=258,F=P+D+1,U=32,M=42,j=69,H=73,K=91,V=103,z=113,W=666,q=1,G=2,Z=3,Q=4,Y=3;function X(e,t){return e.msg=u[t],t}function $(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,l=e.window,c=e.w_mask,f=e.prev,h=e.strstart+P,p=l[o+a-1],d=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(r=t)+a]===d&&l[r+a-1]===p&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<h);if(n=P-(h-o),o=h-P,n>a){if(e.match_start=t,a=n,n>=s)break;p=l[o+a-1],d=l[o+a]}}}while((t=f[t&c])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function oe(e){var t,r,n,o,u,l,c,f,h,p,d=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-F)){i.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=d?n-d:0}while(--r);t=r=d;do{n=e.prev[--t],e.prev[t]=n>=d?n-d:0}while(--r);o+=d}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,f=e.strstart+e.lookahead,h=o,p=void 0,(p=l.avail_in)>h&&(p=h),r=0===p?0:(l.avail_in-=p,i.arraySet(c,l.input,l.next_in,p,f),1===l.state.wrap?l.adler=a(l.adler,c,p,f):2===l.state.wrap&&(l.adler=s(l.adler,c,p,f)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=D)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+D-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function ae(e,t){for(var r,n;;){if(e.lookahead<F){if(oe(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(r=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-F&&(e.match_length=ie(e,r)),e.match_length>=D)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<D-1?e.strstart:D-1,t===h?(te(e,!0),0===e.strm.avail_out?Z:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:G}function se(e,t){for(var r,n,i;;){if(e.lookahead<F){if(oe(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(r=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-F&&(e.match_length=ie(e,r),e.match_length<=5&&(e.strategy===w||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-D,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===h?(te(e,!0),0===e.strm.avail_out?Z:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:G}function ue(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*O),this.dyn_dtree=new i.Buf16(2*(2*B+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(R+1),this.heap=new i.Buf16(2*N+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*N+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?M:z,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),d):X(e,v)}function fe(e){var t,r=ce(e);return r===d&&((t=e.state).window_size=2*t.w_size,J(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0),r}function he(e,t,r,n,o,a){if(!e)return v;var s=1;if(t===b&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>k||r!==A||n<8||n>15||t<0||t>9||a<0||a>S)return X(e,v);8===n&&(n=9);var u=new le;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+D-1)/D),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=r,fe(e)}n=[new ue(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===l)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-F&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Q):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),q)})),new ue(4,4,8,4,ae),new ue(4,5,16,8,ae),new ue(4,6,32,32,ae),new ue(4,4,16,16,se),new ue(8,16,32,32,se),new ue(8,16,128,128,se),new ue(8,32,128,256,se),new ue(32,128,258,1024,se),new ue(32,258,258,4096,se)],t.deflateInit=function(e,t){return he(e,t,A,I,x,_)},t.deflateInit2=he,t.deflateReset=fe,t.deflateResetKeep=ce,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?v:(e.state.gzhead=t,d):v},t.deflate=function(e,t){var r,i,a,u;if(!e||!e.state||t>p||t<0)return e?X(e,v):v;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===W&&t!==h)return X(e,0===e.avail_out?m:v);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===M)if(2===i.wrap)e.adler=0,re(i,31),re(i,139),re(i,8),i.gzhead?(re(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),re(i,255&i.gzhead.time),re(i,i.gzhead.time>>8&255),re(i,i.gzhead.time>>16&255),re(i,i.gzhead.time>>24&255),re(i,9===i.level?2:i.strategy>=E||i.level<2?4:0),re(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(re(i,255&i.gzhead.extra.length),re(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=j):(re(i,0),re(i,0),re(i,0),re(i,0),re(i,0),re(i,9===i.level?2:i.strategy>=E||i.level<2?4:0),re(i,Y),i.status=z);else{var y=A+(i.w_bits-8<<4)<<8;y|=(i.strategy>=E||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=U),y+=31-y%31,i.status=z,ne(i,y),0!==i.strstart&&(ne(i,e.adler>>>16),ne(i,65535&e.adler)),e.adler=1}if(i.status===j)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending!==i.pending_buf_size));)re(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=H)}else i.status=H;if(i.status===H)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=K)}else i.status=K;if(i.status===K)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=V)}else i.status=V;if(i.status===V&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(re(i,255&e.adler),re(i,e.adler>>8&255),e.adler=0,i.status=z)):i.status=z),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&$(t)<=$(r)&&t!==h)return X(e,m);if(i.status===W&&0!==e.avail_in)return X(e,m);if(0!==e.avail_in||0!==i.lookahead||t!==l&&i.status!==W){var b=i.strategy===E?function(e,t){for(var r;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===l)return q;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:G}(i,t):i.strategy===C?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=P){if(oe(e),e.lookahead<=P&&t===l)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+P;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=P-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(r=o._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:G}(i,t):n[i.level].func(i,t);if(b!==Z&&b!==Q||(i.status=W),b===q||b===Z)return 0===e.avail_out&&(i.last_flush=-1),d;if(b===G&&(t===c?o._tr_align(i):t!==p&&(o._tr_stored_block(i,0,0,!1),t===f&&(J(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,d}return t!==h?d:i.wrap<=0?g:(2===i.wrap?(re(i,255&e.adler),re(i,e.adler>>8&255),re(i,e.adler>>16&255),re(i,e.adler>>24&255),re(i,255&e.total_in),re(i,e.total_in>>8&255),re(i,e.total_in>>16&255),re(i,e.total_in>>24&255)):(ne(i,e.adler>>>16),ne(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?d:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==M&&t!==j&&t!==H&&t!==K&&t!==V&&t!==z&&t!==W?X(e,v):(e.state=null,t===z?X(e,y):d):v},t.deflateSetDictionary=function(e,t){var r,n,o,s,u,l,c,f,h=t.length;if(!e||!e.state)return v;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==M||r.lookahead)return v;for(1===s&&(e.adler=a(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(J(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,t,h-r.w_size,r.w_size,0),t=f,h=r.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,oe(r);r.lookahead>=D;){n=r.strstart,o=r.lookahead-(D-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+D-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=D-1,oe(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=D-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,r.wrap=s,d},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";var n=r(34),i=4,o=0,a=1,s=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,c=1,f=2,h=29,p=256,d=p+1+h,g=30,v=19,y=2*d+1,m=15,b=16,w=7,E=256,C=16,S=17,_=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(d+2));u(x);var N=new Array(2*g);u(N);var B=new Array(512);u(B);var L=new Array(256);u(L);var O=new Array(h);u(O);var R,D,P,F=new Array(g);function U(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function M(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e){return e<256?B[e]:B[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function K(e,t,r){e.bi_valid>b-r?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>b-e.bi_valid,e.bi_valid+=r-b):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function V(e,t,r){K(e,r[2*t],r[2*t+1])}function z(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function W(e,t,r){var n,i,o=new Array(m+1),a=0;for(n=1;n<=m;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=z(o[s]++,s))}}function q(e){var t;for(t=0;t<d;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*E]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function Q(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Z(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function Y(e,t,r){var n,i,o,a,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?V(e,i,t):(V(e,(o=L[i])+p+1,t),0!==(a=T[o])&&K(e,i-=O[o],a),V(e,o=j(--n),r),0!==(a=A[o])&&K(e,n-=F[o],a))}while(s<e.last_lit);V(e,E,t)}function X(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=y,r=0;r<u;r++)0!==o[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)Q(e,o,r);i=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Q(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,Q(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,d=t.stat_desc.max_length,g=0;for(o=0;o<=m;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<y;r++)(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)>d&&(o=d,g++),u[2*n+1]=o,n>l||(e.bl_count[o]++,a=0,n>=p&&(a=h[n-p]),s=u[2*n],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*n+1]+a)));if(0!==g){do{for(o=d-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[d]--,g-=2}while(g>0);for(o=d;0!==o;o--)for(n=e.bl_count[o];0!==n;)(i=e.heap[--r])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(e,t),W(o,l,e.bl_count)}function $(e,t,r){var n,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*C]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*_]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function J(e,t,r){var n,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<u&&i===a)){if(s<l)do{V(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(V(e,i,e.bl_tree),s--),V(e,C,e.bl_tree),K(e,s-3,2)):s<=10?(V(e,S,e.bl_tree),K(e,s-3,3)):(V(e,_,e.bl_tree),K(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}u(F);var ee=!1;function te(e,t,r,i){K(e,(l<<1)+(i?1:0),3),function(e,t,r,i){G(e),i&&(H(e,r),H(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(!function(){var e,t,r,n,i,o=new Array(m+1);for(r=0,n=0;n<h-1;n++)for(O[n]=r,e=0;e<1<<T[n];e++)L[r++]=n;for(L[r-1]=n,i=0,n=0;n<16;n++)for(F[n]=i,e=0;e<1<<A[n];e++)B[i++]=n;for(i>>=7;n<g;n++)for(F[n]=i<<7,e=0;e<1<<A[n]-7;e++)B[256+i++]=n;for(t=0;t<=m;t++)o[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,o[8]++;for(;e<=255;)x[2*e+1]=9,e++,o[9]++;for(;e<=279;)x[2*e+1]=7,e++,o[7]++;for(;e<=287;)x[2*e+1]=8,e++,o[8]++;for(W(x,d+1,o),e=0;e<g;e++)N[2*e+1]=5,N[2*e]=z(e,5);R=new U(x,T,p+1,d,m),D=new U(N,A,0,g,m),P=new U(new Array(0),k,0,v,w)}(),ee=!0),e.l_desc=new M(e.dyn_ltree,R),e.d_desc=new M(e.dyn_dtree,D),e.bl_desc=new M(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,q(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var u,l,h=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),X(e,e.l_desc),X(e,e.d_desc),h=function(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=v-1;t>=3&&0===e.bl_tree[2*I[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),u=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=u&&(u=l)):u=l=r+5,r+4<=u&&-1!==t?te(e,t,r,n):e.strategy===i||l===u?(K(e,(c<<1)+(n?1:0),3),Y(e,x,N)):(K(e,(f<<1)+(n?1:0),3),function(e,t,r,n){var i;for(K(e,t-257,5),K(e,r-1,5),K(e,n-4,4),i=0;i<n;i++)K(e,e.bl_tree[2*I[i]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),Y(e,e.dyn_ltree,e.dyn_dtree)),q(e),n&&G(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(L[r]+p+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){K(e,c<<1,3),V(e,E,x),function(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";var n=r(34),i=r(84),o=r(85),a=r(148),s=r(149),u=0,l=1,c=2,f=4,h=5,p=6,d=0,g=1,v=2,y=-2,m=-3,b=-4,w=-5,E=8,C=1,S=2,_=3,T=4,A=5,k=6,I=7,x=8,N=9,B=10,L=11,O=12,R=13,D=14,P=15,F=16,U=17,M=18,j=19,H=20,K=21,V=22,z=23,W=24,q=25,G=26,Z=27,Q=28,Y=29,X=30,$=31,J=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oe(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=C,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,d):y}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,oe(e)):y}function se(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ae(e))):y}function ue(e,t){var r,n;return e?(n=new ie,e.state=n,n.window=null,(r=se(e,t))!==d&&(e.state=null),r):y}var le,ce,fe=!0;function he(e){if(fe){var t;for(le=new n.Buf32(512),ce=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,ce,0,e.work,{bits:5}),fe=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function pe(e,t,r,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,t,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=ae,t.inflateReset2=se,t.inflateResetKeep=oe,t.inflateInit=function(e){return ue(e,re)},t.inflateInit2=ue,t.inflate=function(e,t){var r,ee,te,re,ie,oe,ae,se,ue,le,ce,fe,de,ge,ve,ye,me,be,we,Ee,Ce,Se,_e,Te,Ae=0,ke=new n.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;(r=e.state).mode===O&&(r.mode=R),ie=e.next_out,te=e.output,ae=e.avail_out,re=e.next_in,ee=e.input,oe=e.avail_in,se=r.hold,ue=r.bits,le=oe,ce=ae,Se=d;e:for(;;)switch(r.mode){case C:if(0===r.wrap){r.mode=R;break}for(;ue<16;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(2&r.wrap&&35615===se){r.check=0,ke[0]=255&se,ke[1]=se>>>8&255,r.check=o(r.check,ke,2,0),se=0,ue=0,r.mode=S;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",r.mode=X;break}if((15&se)!==E){e.msg="unknown compression method",r.mode=X;break}if(ue-=4,Ce=8+(15&(se>>>=4)),0===r.wbits)r.wbits=Ce;else if(Ce>r.wbits){e.msg="invalid window size",r.mode=X;break}r.dmax=1<<Ce,e.adler=r.check=1,r.mode=512&se?B:O,se=0,ue=0;break;case S:for(;ue<16;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(r.flags=se,(255&r.flags)!==E){e.msg="unknown compression method",r.mode=X;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=X;break}r.head&&(r.head.text=se>>8&1),512&r.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,r.check=o(r.check,ke,2,0)),se=0,ue=0,r.mode=_;case _:for(;ue<32;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}r.head&&(r.head.time=se),512&r.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,ke[2]=se>>>16&255,ke[3]=se>>>24&255,r.check=o(r.check,ke,4,0)),se=0,ue=0,r.mode=T;case T:for(;ue<16;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}r.head&&(r.head.xflags=255&se,r.head.os=se>>8),512&r.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,r.check=o(r.check,ke,2,0)),se=0,ue=0,r.mode=A;case A:if(1024&r.flags){for(;ue<16;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}r.length=se,r.head&&(r.head.extra_len=se),512&r.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,r.check=o(r.check,ke,2,0)),se=0,ue=0}else r.head&&(r.head.extra=null);r.mode=k;case k:if(1024&r.flags&&((fe=r.length)>oe&&(fe=oe),fe&&(r.head&&(Ce=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,fe,Ce)),512&r.flags&&(r.check=o(r.check,ee,fe,re)),oe-=fe,re+=fe,r.length-=fe),r.length))break e;r.length=0,r.mode=I;case I:if(2048&r.flags){if(0===oe)break e;fe=0;do{Ce=ee[re+fe++],r.head&&Ce&&r.length<65536&&(r.head.name+=String.fromCharCode(Ce))}while(Ce&&fe<oe);if(512&r.flags&&(r.check=o(r.check,ee,fe,re)),oe-=fe,re+=fe,Ce)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=x;case x:if(4096&r.flags){if(0===oe)break e;fe=0;do{Ce=ee[re+fe++],r.head&&Ce&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ce))}while(Ce&&fe<oe);if(512&r.flags&&(r.check=o(r.check,ee,fe,re)),oe-=fe,re+=fe,Ce)break e}else r.head&&(r.head.comment=null);r.mode=N;case N:if(512&r.flags){for(;ue<16;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(se!==(65535&r.check)){e.msg="header crc mismatch",r.mode=X;break}se=0,ue=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=O;break;case B:for(;ue<32;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}e.adler=r.check=ne(se),se=0,ue=0,r.mode=L;case L:if(0===r.havedict)return e.next_out=ie,e.avail_out=ae,e.next_in=re,e.avail_in=oe,r.hold=se,r.bits=ue,v;e.adler=r.check=1,r.mode=O;case O:if(t===h||t===p)break e;case R:if(r.last){se>>>=7&ue,ue-=7&ue,r.mode=Z;break}for(;ue<3;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}switch(r.last=1&se,ue-=1,3&(se>>>=1)){case 0:r.mode=D;break;case 1:if(he(r),r.mode=H,t===p){se>>>=2,ue-=2;break e}break;case 2:r.mode=U;break;case 3:e.msg="invalid block type",r.mode=X}se>>>=2,ue-=2;break;case D:for(se>>>=7&ue,ue-=7&ue;ue<32;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",r.mode=X;break}if(r.length=65535&se,se=0,ue=0,r.mode=P,t===p)break e;case P:r.mode=F;case F:if(fe=r.length){if(fe>oe&&(fe=oe),fe>ae&&(fe=ae),0===fe)break e;n.arraySet(te,ee,re,fe,ie),oe-=fe,re+=fe,ae-=fe,ie+=fe,r.length-=fe;break}r.mode=O;break;case U:for(;ue<14;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(r.nlen=257+(31&se),se>>>=5,ue-=5,r.ndist=1+(31&se),se>>>=5,ue-=5,r.ncode=4+(15&se),se>>>=4,ue-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=X;break}r.have=0,r.mode=M;case M:for(;r.have<r.ncode;){for(;ue<3;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}r.lens[Ie[r.have++]]=7&se,se>>>=3,ue-=3}for(;r.have<19;)r.lens[Ie[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,_e={bits:r.lenbits},Se=s(u,r.lens,0,19,r.lencode,0,r.work,_e),r.lenbits=_e.bits,Se){e.msg="invalid code lengths set",r.mode=X;break}r.have=0,r.mode=j;case j:for(;r.have<r.nlen+r.ndist;){for(;ye=(Ae=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,me=65535&Ae,!((ve=Ae>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(me<16)se>>>=ve,ue-=ve,r.lens[r.have++]=me;else{if(16===me){for(Te=ve+2;ue<Te;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(se>>>=ve,ue-=ve,0===r.have){e.msg="invalid bit length repeat",r.mode=X;break}Ce=r.lens[r.have-1],fe=3+(3&se),se>>>=2,ue-=2}else if(17===me){for(Te=ve+3;ue<Te;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}ue-=ve,Ce=0,fe=3+(7&(se>>>=ve)),se>>>=3,ue-=3}else{for(Te=ve+7;ue<Te;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}ue-=ve,Ce=0,fe=11+(127&(se>>>=ve)),se>>>=7,ue-=7}if(r.have+fe>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=X;break}for(;fe--;)r.lens[r.have++]=Ce}}if(r.mode===X)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=X;break}if(r.lenbits=9,_e={bits:r.lenbits},Se=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,_e),r.lenbits=_e.bits,Se){e.msg="invalid literal/lengths set",r.mode=X;break}if(r.distbits=6,r.distcode=r.distdyn,_e={bits:r.distbits},Se=s(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,_e),r.distbits=_e.bits,Se){e.msg="invalid distances set",r.mode=X;break}if(r.mode=H,t===p)break e;case H:r.mode=K;case K:if(oe>=6&&ae>=258){e.next_out=ie,e.avail_out=ae,e.next_in=re,e.avail_in=oe,r.hold=se,r.bits=ue,a(e,ce),ie=e.next_out,te=e.output,ae=e.avail_out,re=e.next_in,ee=e.input,oe=e.avail_in,se=r.hold,ue=r.bits,r.mode===O&&(r.back=-1);break}for(r.back=0;ye=(Ae=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,me=65535&Ae,!((ve=Ae>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(ye&&0==(240&ye)){for(be=ve,we=ye,Ee=me;ye=(Ae=r.lencode[Ee+((se&(1<<be+we)-1)>>be)])>>>16&255,me=65535&Ae,!(be+(ve=Ae>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}se>>>=be,ue-=be,r.back+=be}if(se>>>=ve,ue-=ve,r.back+=ve,r.length=me,0===ye){r.mode=G;break}if(32&ye){r.back=-1,r.mode=O;break}if(64&ye){e.msg="invalid literal/length code",r.mode=X;break}r.extra=15&ye,r.mode=V;case V:if(r.extra){for(Te=r.extra;ue<Te;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}r.length+=se&(1<<r.extra)-1,se>>>=r.extra,ue-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=z;case z:for(;ye=(Ae=r.distcode[se&(1<<r.distbits)-1])>>>16&255,me=65535&Ae,!((ve=Ae>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(0==(240&ye)){for(be=ve,we=ye,Ee=me;ye=(Ae=r.distcode[Ee+((se&(1<<be+we)-1)>>be)])>>>16&255,me=65535&Ae,!(be+(ve=Ae>>>24)<=ue);){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}se>>>=be,ue-=be,r.back+=be}if(se>>>=ve,ue-=ve,r.back+=ve,64&ye){e.msg="invalid distance code",r.mode=X;break}r.offset=me,r.extra=15&ye,r.mode=W;case W:if(r.extra){for(Te=r.extra;ue<Te;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}r.offset+=se&(1<<r.extra)-1,se>>>=r.extra,ue-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=X;break}r.mode=q;case q:if(0===ae)break e;if(fe=ce-ae,r.offset>fe){if((fe=r.offset-fe)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=X;break}fe>r.wnext?(fe-=r.wnext,de=r.wsize-fe):de=r.wnext-fe,fe>r.length&&(fe=r.length),ge=r.window}else ge=te,de=ie-r.offset,fe=r.length;fe>ae&&(fe=ae),ae-=fe,r.length-=fe;do{te[ie++]=ge[de++]}while(--fe);0===r.length&&(r.mode=K);break;case G:if(0===ae)break e;te[ie++]=r.length,ae--,r.mode=K;break;case Z:if(r.wrap){for(;ue<32;){if(0===oe)break e;oe--,se|=ee[re++]<<ue,ue+=8}if(ce-=ae,e.total_out+=ce,r.total+=ce,ce&&(e.adler=r.check=r.flags?o(r.check,te,ce,ie-ce):i(r.check,te,ce,ie-ce)),ce=ae,(r.flags?se:ne(se))!==r.check){e.msg="incorrect data check",r.mode=X;break}se=0,ue=0}r.mode=Q;case Q:if(r.wrap&&r.flags){for(;ue<32;){if(0===oe)break e;oe--,se+=ee[re++]<<ue,ue+=8}if(se!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=X;break}se=0,ue=0}r.mode=Y;case Y:Se=g;break e;case X:Se=m;break e;case $:return b;case J:default:return y}return e.next_out=ie,e.avail_out=ae,e.next_in=re,e.avail_in=oe,r.hold=se,r.bits=ue,(r.wsize||ce!==e.avail_out&&r.mode<X&&(r.mode<Z||t!==f))&&pe(e,e.output,e.next_out,ce-e.avail_out)?(r.mode=$,b):(le-=e.avail_in,ce-=e.avail_out,e.total_in+=le,e.total_out+=ce,r.total+=ce,r.wrap&&ce&&(e.adler=r.check=r.flags?o(r.check,te,ce,e.next_out-ce):i(r.check,te,ce,e.next_out-ce)),e.data_type=r.bits+(r.last?64:0)+(r.mode===O?128:0)+(r.mode===H||r.mode===P?256:0),(0===le&&0===ce||t===f)&&Se===d&&(Se=w),Se)},t.inflateEnd=function(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,d},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?y:(r.head=t,t.done=!1,d):y},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==L?y:r.mode===L&&i(1,t,n,0)!==r.check?m:pe(e,t,n,n)?(r.mode=$,b):(r.havedict=1,d):y},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,o,a,s,u,l,c,f,h,p,d,g,v,y,m,b,w,E,C,S,_,T,A;r=e.state,n=e.next_in,T=e.input,i=n+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=r.dmax,l=r.wsize,c=r.whave,f=r.wnext,h=r.window,p=r.hold,d=r.bits,g=r.lencode,v=r.distcode,y=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;e:do{d<15&&(p+=T[n++]<<d,d+=8,p+=T[n++]<<d,d+=8),b=g[p&y];t:for(;;){if(p>>>=w=b>>>24,d-=w,0===(w=b>>>16&255))A[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&b,(w&=15)&&(d<w&&(p+=T[n++]<<d,d+=8),E+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=T[n++]<<d,d+=8,p+=T[n++]<<d,d+=8),b=v[p&m];r:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(C=65535&b,d<(w&=15)&&(p+=T[n++]<<d,(d+=8)<w&&(p+=T[n++]<<d,d+=8)),(C+=p&(1<<w)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(p>>>=w,d-=w,C>(w=o-a)){if((w=C-w)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,_=h,0===f){if(S+=l-w,w<E){E-=w;do{A[o++]=h[S++]}while(--w);S=o-C,_=A}}else if(f<w){if(S+=l+f-w,(w-=f)<E){E-=w;do{A[o++]=h[S++]}while(--w);if(S=0,f<E){E-=w=f;do{A[o++]=h[S++]}while(--w);S=o-C,_=A}}}else if(S+=f-w,w<E){E-=w;do{A[o++]=h[S++]}while(--w);S=o-C,_=A}for(;E>2;)A[o++]=_[S++],A[o++]=_[S++],A[o++]=_[S++],E-=3;E&&(A[o++]=_[S++],E>1&&(A[o++]=_[S++]))}else{S=o-C;do{A[o++]=A[S++],A[o++]=A[S++],A[o++]=A[S++],E-=3}while(E>2);E&&(A[o++]=A[S++],E>1&&(A[o++]=A[S++]))}break}}break}}while(n<i&&o<s);n-=E=d>>3,p&=(1<<(d-=E<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<s?s-o+257:257-(o-s),r.hold=p,r.bits=d}},function(e,t,r){"use strict";var n=r(34),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,u,l,c,f,h){var p,d,g,v,y,m,b,w,E,C=h.bits,S=0,_=0,T=0,A=0,k=0,I=0,x=0,N=0,B=0,L=0,O=null,R=0,D=new n.Buf16(16),P=new n.Buf16(16),F=null,U=0;for(S=0;S<=15;S++)D[S]=0;for(_=0;_<u;_++)D[t[r+_]]++;for(k=C,A=15;A>=1&&0===D[A];A--);if(k>A&&(k=A),0===A)return l[c++]=20971520,l[c++]=20971520,h.bits=1,0;for(T=1;T<A&&0===D[T];T++);for(k<T&&(k=T),N=1,S=1;S<=15;S++)if(N<<=1,(N-=D[S])<0)return-1;if(N>0&&(0===e||1!==A))return-1;for(P[1]=0,S=1;S<15;S++)P[S+1]=P[S]+D[S];for(_=0;_<u;_++)0!==t[r+_]&&(f[P[t[r+_]]++]=_);if(0===e?(O=F=f,m=19):1===e?(O=i,R-=257,F=o,U-=257,m=256):(O=a,F=s,m=-1),L=0,_=0,S=T,y=c,I=k,x=0,g=-1,v=(B=1<<k)-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){b=S-x,f[_]<m?(w=0,E=f[_]):f[_]>m?(w=F[U+f[_]],E=O[R+f[_]]):(w=96,E=0),p=1<<S-x,T=d=1<<I;do{l[y+(L>>x)+(d-=p)]=b<<24|w<<16|E|0}while(0!==d);for(p=1<<S-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,_++,0==--D[S]){if(S===A)break;S=t[r+f[_]]}if(S>k&&(L&v)!==g){for(0===x&&(x=k),y+=T,N=1<<(I=S-x);I+x<A&&!((N-=D[I+x])<=0);)I++,N<<=1;if(B+=1<<I,1===e&&B>852||2===e&&B>592)return 1;l[g=L&v]=k<<24|I<<16|y-c|0}}return 0!==L&&(l[y+L]=S-x<<24|64<<16|0),h.bits=k,0}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";
/*!
 * jwe/defaults.js - Defaults for JWEs
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */e.exports={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"}},function(e,t,r){"use strict";(function(t){
/*!
 * jwe/decrypt.js - Decrypt from a JWE
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(27),i=r(74),o=r(19),a=r(12),s=r(76),u={algorithms:"*"};function l(e,r){var l,c;if(o.isKey(e))c=(l=e).keystore;else{if(!o.isKeyStore(e))throw new TypeError("Keystore must be provided");c=e}r=a(u,r),Object.defineProperty(this,"decrypt",{value:function(e,u){var f=(u=a({},r,u||{})).handlers||{},h=Object.keys(f),p=new i(u.algorithms);if("string"==typeof e)e={protected:(e=e.split("."))[0],recipients:[{encrypted_key:e[1]}],iv:e[2],ciphertext:e[3],tag:e[4]};else if(!e||"object"!=typeof e)throw new Error("invalid input");"encrypted_key"in e&&(e.recipients=[{encrypted_key:e.encrypted_key}]);var d,g,v,y,m,b=e.recipients||[{}];return Promise.resolve(b).then((function(t){if(e.protected){g=n.decode(e.protected).toString("utf8");var r=(g=JSON.parse(g)).crit;if(r){if(!Array.isArray(r))return Promise.reject(new Error("Invalid 'crit' header"));for(var i=0;r.length>i;i++)if(-1===h.indexOf(r[i]))return Promise.reject(new Error("Critical extension is not supported: "+r[i]))}d=g,g=Object.keys(g)}else d={},g=[];return d=a(e.unprotected||{},d),t=t.map((function(e){var t=Promise.resolve(),r=e.header||{};return r=a(r,d),e.header=r,e.protected=g,p.match(r.alg)||(t=t.then((function(){return Promise.reject(new Error("Algorithm not allowed: "+r.alg))}))),p.match(r.enc)||(t=t.then((function(){return Promise.reject(new Error("Algorithm not allowed: "+r.enc))}))),r.epk&&(t=(t=t.then((function(){return o.asKey(r.epk)}))).then((function(e){r.epk=e.toObject(!1)}))),t.then((function(){return e}))})),Promise.all(t)})).then((function(e){var t={};return new Promise((function(r,i){var a=function(){var s=e.shift();if(s){var u=Promise.resolve(s);(u=(u=u.then((function(e){var t=m=e.encrypted_key||"";return t=n.decode(t),(v=l||c.get({use:"enc",alg:e.header.alg,kid:e.header.kid}))?v.unwrap(e.header.alg,t,e.header):Promise.reject()}))).then((function(e){y={kty:"oct",k:n.encode(e)},y=o.asKey(y),t.key=v,t.header=s.header,t.protected=s.protected,r(t)}))).catch(a)}else i(new Error("no key found"))};a()}))})).then((function(t){return t.iv=e.iv,t.tag=e.tag,t.ciphertext=e.ciphertext,t})).then((function(e){var t=[];return h.forEach((function(r){var n;"function"==typeof(r=f[r])?n=r(e):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(e)),n&&t.push(Promise.resolve(n))})),Promise.all(t).then((function(){return e}))})).then((function(e){return t.isBuffer(e.ciphertext)||(e.ciphertext=n.decode(e.ciphertext)),e})).then((function(t){var r=e.protected;"aad"in e&&null!=e.aad&&(r+="."+e.aad);var n={iv:t.iv,adata:r,tag:t.tag,kdata:m,epu:t.epu,epv:t.epv},i=t.ciphertext;return delete t.iv,delete t.tag,delete t.ciphertext,y.then((function(e){return e.decrypt(t.header.enc,i,n).then((function(e){return t.payload=t.plaintext=e,t}))}))})).then((function(e){return"DEF"===e.header.zip?new Promise((function(r,n){s.inflateRaw(t.from(e.plaintext),(function(t,i){t?n(t):(e.payload=e.plaintext=i,r(e))}))})):e})).then((function(e){var t=[];return h.forEach((function(r){var n;"object"==typeof(r=f[r])&&"function"==typeof r.complete&&(n=r.complete(e)),n&&t.push(Promise.resolve(n))})),Promise.all(t).then((function(){return e}))}))}})}e.exports={decrypter:l,createDecrypt:function(e,t){return new l(e,t)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){
/*!
 * parse/index.js - JOSE Parser Entry Point
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */
var n=r(154),i=r(155),o=e.exports=function(e){if(t.isBuffer(e))return n(e.toString("ascii"));if("string"==typeof e)return n(e);if(e)return i(e);throw new TypeError("invalid input")};o.compact=n,o.json=i}).call(this,r(1).Buffer)},function(e,t,r){"use strict";
/*!
 * parse/compact.js - JOSE Compact Serialization Parser
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n={JWE:r(50),JWS:r(35),util:r(5)};e.exports=function(e){var t,r,i,o=e.split(".");if(3===o.length)t="JWS",r=function(t,r){return n.JWS.createVerify(t).verify(e,r)};else{if(5!==o.length)throw new TypeError("invalid jose serialization");t="JWE",r=function(t,r){return n.JWE.createDecrypt(t).decrypt(e,r)}}return i=n.util.base64url.decode(o[0],"utf8"),i=JSON.parse(i),{type:t,format:"compact",input:e,header:i,perform:r}}},function(e,t,r){"use strict";
/*!
 * parse/compact.js - JOSE JSON Serialization Parser
 *
 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
 */var n=r(12),i={JWE:r(50),JWS:r(35),util:r(5)};e.exports=function(e){var t,r,o;if("signatures"in e||"signature"in e)t="JWS",r=function(t,r){return i.JWS.createVerify(t).verify(e,r)},o=(o=e.signatures||[{protected:e.protected,header:e.header,signature:e.signature}]).map((function(e){var t,r={};return e.header&&(r=n(r,e.header)),e.protected&&(t=e.protected,t=i.util.base64url.decode(t,"utf8"),t=JSON.parse(t),r=n(r,t)),r}));else if("ciphertext"in e){t="JWE",r=function(t,r){return i.JWE.createDecrypt(t).decrypt(e,r)};var a={};e.protected&&(a.protected=e.protected,a.protected=i.util.base64url.decode(a.protected,"utf8"),a.protected=JSON.parse(a.protected)),e.unprotected&&(a.unprotected=e.unprotected),o=(o=e.recipients||[{}]).map((function(e){var t={};return e.header&&(t=n(t,e.header)),a.unprotected&&(t=n(t,a.unprotected)),a.protected&&(t=n(t,a.protected)),t}))}return{type:t,format:"json",input:e,all:o,perform:r}}},function(e,t,r){!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,i,o=t.indentUnit,a=r.statementIndent,s=r.jsonld,u=r.json||s,l=r.typescript,c=r.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),h=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function d(e,t,r){return n=e,i=r,t}function g(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,i=!1;if(s&&"@"==e.peek()&&e.match(p))return t.tokenize=g,d("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||i);)i=!i&&"\\"==n;return i||(t.tokenize=g),d("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return d("number","number");if("."==n&&e.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return d(n);if("="==n&&e.eat(">"))return d("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return d("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),d("number","number");if("/"==n)return e.eat("*")?(t.tokenize=v,v(e,t)):e.eat("/")?(e.skipToEnd(),d("comment","comment")):Ze(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),d("regexp","string-2")):(e.eat("="),d("operator","operator",e.current()));if("`"==n)return t.tokenize=y,y(e,t);if("#"==n)return e.skipToEnd(),d("error","error");if(h.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),d("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var i=e.current();if("."!=t.lastType){if(f.propertyIsEnumerable(i)){var o=f[i];return d(o.type,o.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return d("async","keyword",i)}return d("variable","variable",i)}}function v(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=g;break}n="*"==r}return d("comment","comment")}function y(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==r}return d("quasi","string-2",e.current())}var m="([{}])";function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(l){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,o=!1,a=r-1;a>=0;--a){var s=e.string.charAt(a),u=m.indexOf(s);if(u>=0&&u<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(c.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(e.string.charAt(a-1)==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var w={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function E(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function C(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}var S={state:null,column:null,marked:null,cc:null};function _(){for(var e=arguments.length-1;e>=0;e--)S.cc.push(arguments[e])}function T(){return _.apply(null,arguments),!0}function A(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function k(e){var t=S.state;if(S.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new x(n,r.vars,!0):null}return A(t,r.vars)?r:new x(r.prev,new N(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!A(e,t.localVars))return void(t.localVars=new N(e,t.localVars));r.globalVars&&!A(e,t.globalVars)&&(t.globalVars=new N(e,t.globalVars))}function I(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function x(e,t,r){this.prev=e,this.vars=t,this.block=r}function N(e,t){this.name=e,this.next=t}var B=new N("this",new N("arguments",null));function L(){S.state.context=new x(S.state.context,S.state.localVars,!1),S.state.localVars=B}function O(){S.state.context=new x(S.state.context,S.state.localVars,!0),S.state.localVars=null}function R(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function D(e,t){var r=function(){var r=S.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new E(n,S.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function P(){var e=S.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function F(e){return function t(r){return r==e?T():";"==e||"}"==r||")"==r||"]"==r?_():T(t)}}function U(e,t){return"var"==e?T(D("vardef",t),be,F(";"),P):"keyword a"==e?T(D("form"),K,U,P):"keyword b"==e?T(D("form"),U,P):"keyword d"==e?S.stream.match(/^\s*$/,!1)?T():T(D("stat"),z,F(";"),P):"debugger"==e?T(F(";")):"{"==e?T(D("}"),O,ae,P,R):";"==e?T():"if"==e?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==P&&S.state.cc.pop()(),T(D("form"),K,U,P,Te)):"function"==e?T(xe):"for"==e?T(D("form"),Ae,U,P):"class"==e||l&&"interface"==t?(S.marked="keyword",T(D("form","class"==e?e:t),Re,P)):"variable"==e?l&&"declare"==t?(S.marked="keyword",T(U)):l&&("module"==t||"enum"==t||"type"==t)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==t?T(qe):"type"==t?T(Be,F("operator"),fe,F(";")):T(D("form"),we,F("{"),D("}"),ae,P,P)):l&&"namespace"==t?(S.marked="keyword",T(D("form"),j,U,P)):l&&"abstract"==t?(S.marked="keyword",T(U)):T(D("stat"),J):"switch"==e?T(D("form"),K,F("{"),D("}","switch"),O,ae,P,P,R):"case"==e?T(j,F(":")):"default"==e?T(F(":")):"catch"==e?T(D("form"),L,M,U,P,R):"export"==e?T(D("stat"),Ue,P):"import"==e?T(D("stat"),je,P):"async"==e?T(U):"@"==t?T(j,U):_(D("stat"),j,F(";"),P)}function M(e){if("("==e)return T(Le,F(")"))}function j(e,t){return V(e,t,!1)}function H(e,t){return V(e,t,!0)}function K(e){return"("!=e?_():T(D(")"),j,F(")"),P)}function V(e,t,r){if(S.state.fatArrowAt==S.stream.start){var n=r?Y:Q;if("("==e)return T(L,D(")"),ie(Le,")"),P,F("=>"),n,R);if("variable"==e)return _(L,we,F("=>"),n,R)}var i=r?q:W;return w.hasOwnProperty(e)?T(i):"function"==e?T(xe,i):"class"==e||l&&"interface"==t?(S.marked="keyword",T(D("form"),Oe,P)):"keyword c"==e||"async"==e?T(r?H:j):"("==e?T(D(")"),z,F(")"),P,i):"operator"==e||"spread"==e?T(r?H:j):"["==e?T(D("]"),We,P,i):"{"==e?oe(te,"}",null,i):"quasi"==e?_(G,i):"new"==e?T(function(e){return function(t){return"."==t?T(e?$:X):"variable"==t&&l?T(ve,e?q:W):_(e?H:j)}}(r)):"import"==e?T(j):T()}function z(e){return e.match(/[;\}\)\],]/)?_():_(j)}function W(e,t){return","==e?T(j):q(e,t,!1)}function q(e,t,r){var n=0==r?W:q,i=0==r?j:H;return"=>"==e?T(L,r?Y:Q,R):"operator"==e?/\+\+|--/.test(t)||l&&"!"==t?T(n):l&&"<"==t&&S.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?T(D(">"),ie(fe,">"),P,n):"?"==t?T(j,F(":"),i):T(i):"quasi"==e?_(G,n):";"!=e?"("==e?oe(H,")","call",n):"."==e?T(ee,n):"["==e?T(D("]"),z,F("]"),P,n):l&&"as"==t?(S.marked="keyword",T(fe,n)):"regexp"==e?(S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),T(i)):void 0:void 0}function G(e,t){return"quasi"!=e?_():"${"!=t.slice(t.length-2)?T(G):T(j,Z)}function Z(e){if("}"==e)return S.marked="string-2",S.state.tokenize=y,T(G)}function Q(e){return b(S.stream,S.state),_("{"==e?U:j)}function Y(e){return b(S.stream,S.state),_("{"==e?U:H)}function X(e,t){if("target"==t)return S.marked="keyword",T(W)}function $(e,t){if("target"==t)return S.marked="keyword",T(q)}function J(e){return":"==e?T(P,U):_(W,F(";"),P)}function ee(e){if("variable"==e)return S.marked="property",T()}function te(e,t){return"async"==e?(S.marked="property",T(te)):"variable"==e||"keyword"==S.style?(S.marked="property","get"==t||"set"==t?T(re):(l&&S.state.fatArrowAt==S.stream.start&&(r=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+r[0].length),T(ne))):"number"==e||"string"==e?(S.marked=s?"property":S.style+" property",T(ne)):"jsonld-keyword"==e?T(ne):l&&I(t)?(S.marked="keyword",T(te)):"["==e?T(j,se,F("]"),ne):"spread"==e?T(H,ne):"*"==t?(S.marked="keyword",T(te)):":"==e?_(ne):void 0;var r}function re(e){return"variable"!=e?_(ne):(S.marked="property",T(xe))}function ne(e){return":"==e?T(H):"("==e?_(xe):void 0}function ie(e,t,r){function n(i,o){if(r?r.indexOf(i)>-1:","==i){var a=S.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T((function(r,n){return r==t||n==t?_():_(e)}),n)}return i==t||o==t?T():r&&r.indexOf(";")>-1?_(e):T(F(t))}return function(r,i){return r==t||i==t?T():_(e,n)}}function oe(e,t,r){for(var n=3;n<arguments.length;n++)S.cc.push(arguments[n]);return T(D(t,r),ie(e,t),P)}function ae(e){return"}"==e?T():_(U,ae)}function se(e,t){if(l){if(":"==e)return T(fe);if("?"==t)return T(se)}}function ue(e,t){if(l&&(":"==e||"in"==t))return T(fe)}function le(e){if(l&&":"==e)return S.stream.match(/^\s*\w+\s+is\b/,!1)?T(j,ce,fe):T(fe)}function ce(e,t){if("is"==t)return S.marked="keyword",T()}function fe(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(S.marked="keyword",T("typeof"==t?H:fe)):"variable"==e||"void"==t?(S.marked="type",T(ge)):"|"==t||"&"==t?T(fe):"string"==e||"number"==e||"atom"==e?T(ge):"["==e?T(D("]"),ie(fe,"]",","),P,ge):"{"==e?T(D("}"),ie(pe,"}",",;"),P,ge):"("==e?T(ie(de,")"),he,ge):"<"==e?T(ie(fe,">"),fe):void 0}function he(e){if("=>"==e)return T(fe)}function pe(e,t){return"variable"==e||"keyword"==S.style?(S.marked="property",T(pe)):"?"==t||"number"==e||"string"==e?T(pe):":"==e?T(fe):"["==e?T(F("variable"),ue,F("]"),pe):"("==e?_(Ne,pe):void 0}function de(e,t){return"variable"==e&&S.stream.match(/^\s*[?:]/,!1)||"?"==t?T(de):":"==e?T(fe):"spread"==e?T(de):_(fe)}function ge(e,t){return"<"==t?T(D(">"),ie(fe,">"),P,ge):"|"==t||"."==e||"&"==t?T(fe):"["==e?T(fe,F("]"),ge):"extends"==t||"implements"==t?(S.marked="keyword",T(fe)):"?"==t?T(fe,F(":"),fe):void 0}function ve(e,t){if("<"==t)return T(D(">"),ie(fe,">"),P,ge)}function ye(){return _(fe,me)}function me(e,t){if("="==t)return T(fe)}function be(e,t){return"enum"==t?(S.marked="keyword",T(qe)):_(we,se,Se,_e)}function we(e,t){return l&&I(t)?(S.marked="keyword",T(we)):"variable"==e?(k(t),T()):"spread"==e?T(we):"["==e?oe(Ce,"]"):"{"==e?oe(Ee,"}"):void 0}function Ee(e,t){return"variable"!=e||S.stream.match(/^\s*:/,!1)?("variable"==e&&(S.marked="property"),"spread"==e?T(we):"}"==e?_():"["==e?T(j,F("]"),F(":"),Ee):T(F(":"),we,Se)):(k(t),T(Se))}function Ce(){return _(we,Se)}function Se(e,t){if("="==t)return T(H)}function _e(e){if(","==e)return T(be)}function Te(e,t){if("keyword b"==e&&"else"==t)return T(D("form","else"),U,P)}function Ae(e,t){return"await"==t?T(Ae):"("==e?T(D(")"),ke,P):void 0}function ke(e){return"var"==e?T(be,Ie):"variable"==e?T(Ie):_(Ie)}function Ie(e,t){return")"==e?T():";"==e?T(Ie):"in"==t||"of"==t?(S.marked="keyword",T(j,Ie)):_(j,Ie)}function xe(e,t){return"*"==t?(S.marked="keyword",T(xe)):"variable"==e?(k(t),T(xe)):"("==e?T(L,D(")"),ie(Le,")"),P,le,U,R):l&&"<"==t?T(D(">"),ie(ye,">"),P,xe):void 0}function Ne(e,t){return"*"==t?(S.marked="keyword",T(Ne)):"variable"==e?(k(t),T(Ne)):"("==e?T(L,D(")"),ie(Le,")"),P,le,R):l&&"<"==t?T(D(">"),ie(ye,">"),P,Ne):void 0}function Be(e,t){return"keyword"==e||"variable"==e?(S.marked="type",T(Be)):"<"==t?T(D(">"),ie(ye,">"),P):void 0}function Le(e,t){return"@"==t&&T(j,Le),"spread"==e?T(Le):l&&I(t)?(S.marked="keyword",T(Le)):l&&"this"==e?T(se,Se):_(we,se,Se)}function Oe(e,t){return"variable"==e?Re(e,t):De(e,t)}function Re(e,t){if("variable"==e)return k(t),T(De)}function De(e,t){return"<"==t?T(D(">"),ie(ye,">"),P,De):"extends"==t||"implements"==t||l&&","==e?("implements"==t&&(S.marked="keyword"),T(l?fe:j,De)):"{"==e?T(D("}"),Pe,P):void 0}function Pe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||l&&I(t))&&S.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",T(Pe)):"variable"==e||"keyword"==S.style?(S.marked="property",T(l?Fe:xe,Pe)):"number"==e||"string"==e?T(l?Fe:xe,Pe):"["==e?T(j,se,F("]"),l?Fe:xe,Pe):"*"==t?(S.marked="keyword",T(Pe)):l&&"("==e?_(Ne,Pe):";"==e||","==e?T(Pe):"}"==e?T():"@"==t?T(j,Pe):void 0}function Fe(e,t){if("?"==t)return T(Fe);if(":"==e)return T(fe,Se);if("="==t)return T(H);var r=S.state.lexical.prev;return _(r&&"interface"==r.info?Ne:xe)}function Ue(e,t){return"*"==t?(S.marked="keyword",T(ze,F(";"))):"default"==t?(S.marked="keyword",T(j,F(";"))):"{"==e?T(ie(Me,"}"),ze,F(";")):_(U)}function Me(e,t){return"as"==t?(S.marked="keyword",T(F("variable"))):"variable"==e?_(H,Me):void 0}function je(e){return"string"==e?T():"("==e?_(j):_(He,Ke,ze)}function He(e,t){return"{"==e?oe(He,"}"):("variable"==e&&k(t),"*"==t&&(S.marked="keyword"),T(Ve))}function Ke(e){if(","==e)return T(He,Ke)}function Ve(e,t){if("as"==t)return S.marked="keyword",T(He)}function ze(e,t){if("from"==t)return S.marked="keyword",T(j)}function We(e){return"]"==e?T():_(ie(H,"]"))}function qe(){return _(D("form"),we,F("{"),D("}"),ie(Ge,"}"),P,P)}function Ge(){return _(we,Se)}function Ze(e,t,r){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return R.lex=!0,P.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new E((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new x(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=v&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",function(e,t,r,n,i){var o=e.cc;for(S.state=e,S.stream=i,S.marked=null,S.cc=o,S.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():u?j:U)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return S.marked?S.marked:"variable"==r&&C(e,n)?"variable-2":t}}(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==v)return e.Pass;if(t.tokenize!=g)return 0;var i,s=n&&n.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==P)u=u.prev;else if(c!=Te)break}for(;("stat"==u.type||"form"==u.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==W||i==q)&&!/^[,\.=+\-*:?[\(]/.test(n));)u=u.prev;a&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var f=u.type,p=s==f;return"vardef"==f?u.indented+("operator"==t.lastType||","==t.lastType?u.info.length+1:0):"form"==f&&"{"==s?u.indented:"form"==f?u.indented+o:"stat"==f?u.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||h.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?a||o:0):"switch"!=u.info||p||0==r.doubleIndentSwitch?u.align?u.column+(p?0:1):u.indented+(p?0:o):u.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:s,jsonMode:u,expressionAllowed:Ze,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=j&&t!=H||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(18))},function(e,t,r){!function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function r(e,t){if(!e)return/(?:)/;var r="";return e instanceof RegExp?(e.ignoreCase&&(r="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",r)}function n(e,n){(e.next||e.push)&&t(n,e.next||e.push),this.regex=r(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],r=0;r<e.length;r++)t.push(e[r]&&e[r].replace(/\./g," "));return t}(e.token),this.data=e}function i(e,t){return function(r,n){if(n.pending){var i=n.pending.shift();return 0==n.pending.length&&(n.pending=null),r.pos+=i.text.length,i.token}if(n.local){if(n.local.end&&r.match(n.local.end)){var o=n.local.endToken||null;return n.local=n.localState=null,o}var s;return o=n.local.mode.token(r,n.localState),n.local.endScan&&(s=n.local.endScan.exec(r.current()))&&(r.pos=r.start+s.index),o}for(var u=e[n.state],l=0;l<u.length;l++){var c=u[l],f=(!c.data.sol||r.sol())&&r.match(c.regex);if(f){c.data.next?n.state=c.data.next:c.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=c.data.push):c.data.pop&&n.stack&&n.stack.length&&(n.state=n.stack.pop()),c.data.mode&&a(t,n,c.data.mode,c.token),c.data.indent&&n.indent.push(r.indentation()+t.indentUnit),c.data.dedent&&n.indent.pop();var h=c.token;if(h&&h.apply&&(h=h(f)),f.length>2&&c.token&&"string"!=typeof c.token){n.pending=[];for(var p=2;p<f.length;p++)f[p]&&n.pending.push({text:f[p],token:c.token[p-1]});return r.backUp(f[0].length-(f[1]?f[1].length:0)),h[0]}return h&&h.join?h[0]:h}}return r.next(),null}}function o(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var r=0;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)||!o(e[n],t[n]))return!1;r++}for(var n in t)t.hasOwnProperty(n)&&r--;return 0==r}function a(t,n,i,a){var s;if(i.persistent)for(var u=n.persistentStates;u&&!s;u=u.next)(i.spec?o(i.spec,u.spec):i.mode==u.mode)&&(s=u);var l=s?s.mode:i.mode||e.getMode(t,i.spec),c=s?s.state:e.startState(l);i.persistent&&!s&&(n.persistentStates={mode:l,spec:i.spec,state:c,next:n.persistentStates}),n.localState=c,n.local={mode:l,end:i.end&&r(i.end),endScan:i.end&&!1!==i.forceEnd&&r(i.end,!1),endToken:a&&a.join?a[a.length-1]:a}}function s(t,r){return function(n,i,o){if(n.local&&n.local.mode.indent)return n.local.mode.indent(n.localState,i,o);if(null==n.indent||n.local||r.dontIndentStates&&function(e,t){for(var r=0;r<t.length;r++)if(t[r]===e)return!0}(n.state,r.dontIndentStates)>-1)return e.Pass;var a=n.indent.length-1,s=t[n.state];e:for(;;){for(var u=0;u<s.length;u++){var l=s[u];if(l.data.dedent&&!1!==l.data.dedentIfLineStart){var c=l.regex.exec(i);if(c&&c[0]){a--,(l.next||l.push)&&(s=t[l.next||l.push]),i=i.slice(c[0].length);continue e}}}break}return a<0?0:n.indent[a]}}e.defineSimpleMode=function(t,r){e.defineMode(t,(function(t){return e.simpleMode(t,r)}))},e.simpleMode=function(r,o){t(o,"start");var a={},u=o.meta||{},l=!1;for(var c in o)if(c!=u&&o.hasOwnProperty(c))for(var f=a[c]=[],h=o[c],p=0;p<h.length;p++){var d=h[p];f.push(new n(d,o)),(d.indent||d.dedent)&&(l=!0)}var g={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(t){var r={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(r.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(r.stack=t.stack.slice(0));for(var n=t.persistentStates;n;n=n.next)r.persistentStates={mode:n.mode,spec:n.spec,state:n.state==t.localState?r.localState:e.copyState(n.mode,n.state),next:r.persistentStates};return r},token:i(a,r),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:s(a,u)};if(u)for(var v in u)u.hasOwnProperty(v)&&(g[v]=u[v]);return g}}(r(18))},function(e,t,r){var n=r(159);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0};r(160)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){},function(e,t,r){var n,i,o={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(e){var t={};return function(r){if(void 0===t[r]){var n=e.call(this,r);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[r]=n}return t[r]}}((function(e){return document.querySelector(e)})),u=null,l=0,c=[],f=r(161);function h(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(m(n.parts[a],t))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(m(n.parts[a],t));o[n.id]={id:n.id,refs:1,parts:s}}}}function p(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function d(e,t){var r=s(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);r.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),d(e,t),t}function y(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function m(e,t){var r,n,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;r=u||(u=v(t)),n=E.bind(null,r,a,!1),i=E.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),d(e,t),t}(t),n=S.bind(null,r,t),i=function(){g(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=C.bind(null,r),i=function(){g(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=p(e,t);return h(r,t),function(e){for(var n=[],i=0;i<r.length;i++){var a=r[i];(s=o[a.id]).refs--,n.push(s)}e&&h(p(e,t),t);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function E(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function C(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function S(e,t,r){var n=r.css,i=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(n=f(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}}]);